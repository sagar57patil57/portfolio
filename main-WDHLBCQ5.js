var zy=Object.defineProperty,FA=Object.defineProperties;var VA=Object.getOwnPropertyDescriptors;var Uy=Object.getOwnPropertySymbols,jA=Object.getPrototypeOf,BA=Object.prototype.hasOwnProperty,HA=Object.prototype.propertyIsEnumerable,UA=Reflect.get;var ih=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n);var $y=(n,e,t)=>e in n?zy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,T=(n,e)=>{for(var t in e||={})BA.call(e,t)&&$y(n,t,e[t]);if(Uy)for(var t of Uy(e))HA.call(e,t)&&$y(n,t,e[t]);return n},Y=(n,e)=>FA(n,VA(e));var Wy=(n,e)=>{for(var t in e)zy(n,t,{get:e[t],enumerable:!0})};var Gy=(n,e,t)=>UA(jA(n),t,e);var k=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{a(t.next(l))}catch(c){r(c)}},o=l=>{try{a(t.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())}),Ha=function(n,e){this[0]=n,this[1]=e},rh=(n,e,t)=>{var i=(o,a,l,c)=>{try{var u=t[o](a),d=(a=u.value)instanceof Ha,h=u.done;Promise.resolve(d?a[0]:a).then(f=>d?i(o==="return"?o:"next",a[1]?{done:f.done,value:f.value}:f,l,c):l({value:f,done:h})).catch(f=>i("throw",f,l,c))}catch(f){c(f)}},r=o=>s[o]=a=>new Promise((l,c)=>i(o,a,l,c)),s={};return t=t.apply(n,e),s[ih("asyncIterator")]=()=>s,r("next"),r("throw"),r("return"),s};var qy=(n,e,t)=>(e=n[ih("asyncIterator")])?e.call(n):(n=n[ih("iterator")](),e={},t=(i,r)=>(r=n[i])&&(e[i]=s=>new Promise((o,a,l)=>(s=r.call(n,s),l=s.done,Promise.resolve(s.value).then(c=>o({value:c,done:l}),a)))),t("next"),t("return"),e);function Yy(n,e){return Object.is(n,e)}var rt=null,Ua=!1,$a=1,ti=Symbol("SIGNAL");function ye(n){let e=rt;return rt=n,e}function Ky(){return rt}var ro={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ah(n){if(Ua)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let e=rt.nextProducerIndex++;if(qa(rt),e<rt.producerNode.length&&rt.producerNode[e]!==n&&io(rt)){let t=rt.producerNode[e];Ga(t,rt.producerIndexOfThis[e])}rt.producerNode[e]!==n&&(rt.producerNode[e]=n,rt.producerIndexOfThis[e]=io(rt)?Jy(n,rt,e):0),rt.producerLastReadVersion[e]=n.version}function $A(){$a++}function Xy(n){if(!(io(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$a)){if(!n.producerMustRecompute(n)&&!ch(n)){n.dirty=!1,n.lastCleanEpoch=$a;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=$a}}function Qy(n){if(n.liveConsumerNode===void 0)return;let e=Ua;Ua=!0;try{for(let t of n.liveConsumerNode)t.dirty||zA(t)}finally{Ua=e}}function Zy(){return rt?.consumerAllowSignalWrites!==!1}function zA(n){n.dirty=!0,Qy(n),n.consumerMarkedDirty?.(n)}function Wa(n){return n&&(n.nextProducerIndex=0),ye(n)}function lh(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(io(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ga(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ch(n){qa(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Xy(t),i!==t.version))return!0}return!1}function uh(n){if(qa(n),io(n))for(let e=0;e<n.producerNode.length;e++)Ga(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Jy(n,e,t){if(e0(n),n.liveConsumerNode.length===0&&t0(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Jy(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ga(n,e){if(e0(n),n.liveConsumerNode.length===1&&t0(n))for(let i=0;i<n.producerNode.length;i++)Ga(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];qa(r),r.producerIndexOfThis[i]=e}}function io(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function qa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function e0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function t0(n){return n.producerNode!==void 0}function n0(n){let e=Object.create(WA);e.computation=n;let t=()=>{if(Xy(e),ah(e),e.value===za)throw e.error;return e.value};return t[ti]=e,t}var sh=Symbol("UNSET"),oh=Symbol("COMPUTING"),za=Symbol("ERRORED"),WA=Y(T({},ro),{value:sh,dirty:!0,error:null,equal:Yy,producerMustRecompute(n){return n.value===sh||n.value===oh},producerRecomputeValue(n){if(n.value===oh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=oh;let t=Wa(n),i;try{i=n.computation()}catch(r){i=za,n.error=r}finally{lh(n,t)}if(e!==sh&&e!==za&&i!==za&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function GA(){throw new Error}var i0=GA;function r0(){i0()}function s0(n){i0=n}var qA=null;function o0(n){let e=Object.create(l0);e.value=n;let t=()=>(ah(e),e.value);return t[ti]=e,t}function dh(n,e){Zy()||r0(),n.equal(n.value,e)||(n.value=e,YA(n))}function a0(n,e){Zy()||r0(),dh(n,e(n.value))}var l0=Y(T({},ro),{equal:Yy,value:void 0});function YA(n){n.version++,$A(),Qy(n),qA?.()}function G(n){return typeof n=="function"}function zr(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ya=zr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function lr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ue=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(G(i))try{i()}catch(s){e=s instanceof Ya?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{c0(s)}catch(o){e=e??[],o instanceof Ya?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ya(e)}}add(e){var t;if(e&&e!==this)if(this.closed)c0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&lr(t,e)}remove(e){let{_finalizers:t}=this;t&&lr(t,e),e instanceof n&&e._removeParent(this)}};Ue.EMPTY=(()=>{let n=new Ue;return n.closed=!0,n})();var hh=Ue.EMPTY;function Ka(n){return n instanceof Ue||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function c0(n){G(n)?n():n.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wr={setTimeout(n,e,...t){let{delegate:i}=Wr;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Wr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Xa(n){Wr.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(n);else throw n})}function ni(){}var u0=fh("C",void 0,void 0);function d0(n){return fh("E",void 0,n)}function h0(n){return fh("N",n,void 0)}function fh(n,e,t){return{kind:n,value:e,error:t}}var cr=null;function Gr(n){if(gn.useDeprecatedSynchronousErrorHandling){let e=!cr;if(e&&(cr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=cr;if(cr=null,t)throw i}}else n()}function f0(n){gn.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=n)}var ur=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ka(e)&&e.add(this)):this.destination=QA}static create(e,t,i){return new qr(e,t,i)}next(e){this.isStopped?gh(h0(e),this):this._next(e)}error(e){this.isStopped?gh(d0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gh(u0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KA=Function.prototype.bind;function ph(n,e){return KA.call(n,e)}var mh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Qa(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Qa(i)}else Qa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qa(t)}}},qr=class extends ur{constructor(e,t,i){super();let r;if(G(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ph(e.next,s),error:e.error&&ph(e.error,s),complete:e.complete&&ph(e.complete,s)}):r=e}this.destination=new mh(r)}};function Qa(n){gn.useDeprecatedSynchronousErrorHandling?f0(n):Xa(n)}function XA(n){throw n}function gh(n,e){let{onStoppedNotification:t}=gn;t&&Wr.setTimeout(()=>t(n,e))}var QA={closed:!0,next:ni,error:XA,complete:ni};var Yr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(n){return n}function vh(...n){return yh(n)}function yh(n){return n.length===0?Wt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=JA(t)?t:new qr(t,i,r);return Gr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=p0(i),new i((r,s)=>{let o=new qr({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Yr](){return this}pipe(...t){return yh(t)(this)}toPromise(t){return t=p0(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function p0(n){var e;return(e=n??gn.Promise)!==null&&e!==void 0?e:Promise}function ZA(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function JA(n){return n&&n instanceof ur||ZA(n)&&Ka(n)}function bh(n){return G(n?.lift)}function oe(n){return e=>{if(bh(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,i,r){return new _h(n,e,t,i,r)}var _h=class extends ur{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Kr(){return oe((n,e)=>{let t=null;n._refCount++;let i=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Mi=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,bh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Kr()(this)}};var g0=zr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Za(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new g0}next(t){Gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?hh:(this.currentObservers=null,s.push(t),new Ue(()=>{this.currentObservers=null,lr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new Za(e,t),n})(),Za=class extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:hh}};var $e=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var wh={now(){return(wh.delegate||Date).now()},delegate:void 0};var Ja=class extends Ue{constructor(e,t){super()}schedule(e,t=0){return this}};var so={setInterval(n,e,...t){let{delegate:i}=so;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=so;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var el=class extends Ja{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return so.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&so.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,lr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Xr=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Xr.now=wh.now;var tl=class extends Xr{constructor(e,t=Xr.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var oo=new tl(el),m0=oo;var Dt=new ce(n=>n.complete());function nl(n){return n&&G(n.schedule)}function Ch(n){return n[n.length-1]}function il(n){return G(Ch(n))?n.pop():void 0}function Nn(n){return nl(Ch(n))?n.pop():void 0}function v0(n,e){return typeof Ch(n)=="number"?n.pop():e}function b0(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function y0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(n){return this instanceof dr?(this.v=n,this):new dr(n)}function _0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){i[f]&&(r[f]=function(g){return new Promise(function(v,m){s.push([f,g,v,m])>1||l(f,g)})},p&&(r[f]=p(r[f])))}function l(f,p){try{c(i[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof dr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function w0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof y0=="function"?y0(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Qr=n=>n&&typeof n.length=="number"&&typeof n!="function";function rl(n){return G(n?.then)}function sl(n){return G(n[Yr])}function ol(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function al(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ll=eS();function cl(n){return G(n?.[ll])}function ul(n){return _0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield dr(t.read());if(r)return yield dr(void 0);yield yield dr(i)}}finally{t.releaseLock()}})}function dl(n){return G(n?.getReader)}function Pe(n){if(n instanceof ce)return n;if(n!=null){if(sl(n))return tS(n);if(Qr(n))return nS(n);if(rl(n))return iS(n);if(ol(n))return C0(n);if(cl(n))return rS(n);if(dl(n))return sS(n)}throw al(n)}function tS(n){return new ce(e=>{let t=n[Yr]();if(G(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nS(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function iS(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xa)})}function rS(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function C0(n){return new ce(e=>{oS(n,e).catch(t=>e.error(t))})}function sS(n){return C0(ul(n))}function oS(n,e){var t,i,r,s;return b0(this,void 0,void 0,function*(){try{for(t=w0(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Lt(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function hl(n,e=0){return oe((t,i)=>{t.subscribe(ae(i,r=>Lt(i,n,()=>i.next(r),e),()=>Lt(i,n,()=>i.complete(),e),r=>Lt(i,n,()=>i.error(r),e)))})}function fl(n,e=0){return oe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function E0(n,e){return Pe(n).pipe(fl(e),hl(e))}function x0(n,e){return Pe(n).pipe(fl(e),hl(e))}function A0(n,e){return new ce(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function S0(n,e){return new ce(t=>{let i;return Lt(t,e,()=>{i=n[ll](),Lt(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>G(i?.return)&&i.return()})}function pl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{Lt(t,e,()=>{let i=n[Symbol.asyncIterator]();Lt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function D0(n,e){return pl(ul(n),e)}function I0(n,e){if(n!=null){if(sl(n))return E0(n,e);if(Qr(n))return A0(n,e);if(rl(n))return x0(n,e);if(ol(n))return pl(n,e);if(cl(n))return S0(n,e);if(dl(n))return D0(n,e)}throw al(n)}function xe(n,e){return e?I0(n,e):Pe(n)}function q(...n){let e=Nn(n);return xe(n,e)}function Ti(n,e){let t=G(n)?n:()=>n,i=r=>r.error(t());return new ce(e?r=>e.schedule(i,0,r):i)}function Eh(n){return!!n&&(n instanceof ce||G(n.lift)&&G(n.subscribe))}var ii=zr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function M0(n){return n instanceof Date&&!isNaN(n)}function J(n,e){return oe((t,i)=>{let r=0;t.subscribe(ae(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:aS}=Array;function lS(n,e){return aS(e)?n(...e):n(e)}function Zr(n){return J(e=>lS(n,e))}var{isArray:cS}=Array,{getPrototypeOf:uS,prototype:dS,keys:hS}=Object;function gl(n){if(n.length===1){let e=n[0];if(cS(e))return{args:e,keys:null};if(fS(e)){let t=hS(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function fS(n){return n&&typeof n=="object"&&uS(n)===dS}function ml(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ao(...n){let e=Nn(n),t=il(n),{args:i,keys:r}=gl(n);if(i.length===0)return xe([],e);let s=new ce(pS(i,e,r?o=>ml(r,o):Wt));return t?s.pipe(Zr(t)):s}function pS(n,e,t=Wt){return i=>{T0(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)T0(e,()=>{let c=xe(n[l],e),u=!1;c.subscribe(ae(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function T0(n,e,t){n?Lt(t,n,e):e()}function P0(n,e,t,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let v=!1;Pe(t(g,u++)).subscribe(ae(e,m=>{r?.(m),s?f(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){let m=l.shift();o?Lt(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(ae(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ve(n,e,t=1/0){return G(e)?Ve((i,r)=>J((s,o)=>e(i,s,r,o))(Pe(n(i,r))),t):(typeof e=="number"&&(t=e),oe((i,r)=>P0(i,r,n,t)))}function Pi(n=1/0){return Ve(Wt,n)}function N0(){return Pi(1)}function Rn(...n){return N0()(xe(n,Nn(n)))}function hr(n){return new ce(e=>{Pe(n()).subscribe(e)})}function xh(...n){let e=il(n),{args:t,keys:i}=gl(n),r=new ce(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Pe(t[u]).subscribe(ae(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?ml(i,a):a),s.complete())}))}});return e?r.pipe(Zr(e)):r}var gS=["addListener","removeListener"],mS=["addEventListener","removeEventListener"],vS=["on","off"];function Re(n,e,t,i){if(G(t)&&(i=t,t=void 0),i)return Re(n,e,t).pipe(Zr(i));let[r,s]=_S(n)?mS.map(o=>a=>n[o](e,a,t)):yS(n)?gS.map(R0(n,e)):bS(n)?vS.map(R0(n,e)):[];if(!r&&Qr(n))return Ve(o=>Re(o,e,t))(Pe(n));if(!r)throw new TypeError("Invalid event target");return new ce(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function R0(n,e){return t=>i=>n[t](e,i)}function yS(n){return G(n.addListener)&&G(n.removeListener)}function bS(n){return G(n.on)&&G(n.off)}function _S(n){return G(n.addEventListener)&&G(n.removeEventListener)}function k0(n=0,e,t=m0){let i=-1;return e!=null&&(nl(e)?t=e:i=e),new ce(r=>{let s=M0(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function vl(...n){let e=Nn(n),t=v0(n,1/0),i=n;return i.length?i.length===1?Pe(i[0]):Pi(t)(xe(i,e)):Dt}var fr=new ce(ni);function st(n,e){return oe((t,i)=>{let r=0;t.subscribe(ae(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Ni(n){return oe((e,t)=>{let i=null,r=!1,s;i=e.subscribe(ae(t,void 0,void 0,o=>{s=Pe(n(o,Ni(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function O0(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ae(o,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function pr(n,e){return G(e)?Ve(n,e,1):Ve(n,1)}function L0(n){return new ce(e=>n.subscribe(e))}var wS={connector:()=>new Ne};function yl(n,e=wS){let{connector:t}=e;return oe((i,r)=>{let s=t();Pe(n(L0(s))).subscribe(r),r.add(i.subscribe(s))})}function Ah(n,e=oo){return oe((t,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+n,u=e.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}t.subscribe(ae(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Ri(n){return oe((e,t)=>{let i=!1;e.subscribe(ae(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ot(n){return n<=0?()=>Dt:oe((e,t)=>{let i=0;e.subscribe(ae(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function F0(){return oe((n,e)=>{n.subscribe(ae(e,ni))})}function lo(n){return J(()=>n)}function Sh(n,e){return e?t=>Rn(e.pipe(ot(1),F0()),t.pipe(Sh(n))):Ve((t,i)=>Pe(n(t,i)).pipe(ot(1),lo(t)))}function Dh(n,e=oo){let t=k0(n,e);return Sh(()=>t)}function bl(n=CS){return oe((e,t)=>{let i=!1;e.subscribe(ae(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function CS(){return new ii}function co(n){return oe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function kn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?st((r,s)=>n(r,s,i)):Wt,ot(1),t?Ri(e):bl(()=>new ii))}function Jr(n){return n<=0?()=>Dt:oe((e,t)=>{let i=[];e.subscribe(ae(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ih(n,e){let t=arguments.length>=2;return i=>i.pipe(n?st((r,s)=>n(r,s,i)):Wt,Jr(1),t?Ri(e):bl(()=>new ii))}function V0(n,e){let t=G(n)?n:()=>n;return G(e)?yl(e,{connector:t}):i=>new Mi(i,t)}function Mh(n){return n?e=>yl(n)(e):e=>V0(new Ne)(e)}function Th(n,e){return oe(O0(n,e,arguments.length>=2,!0))}function Ph(...n){let e=Nn(n);return oe((t,i)=>{(e?Rn(n,t,e):Rn(n,t)).subscribe(i)})}function mt(n,e){return oe((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(ae(i,l=>{r?.unsubscribe();let c=0,u=s++;Pe(n(l,u)).subscribe(r=ae(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Le(n){return oe((e,t)=>{Pe(n).subscribe(ae(t,()=>t.complete(),ni)),!t.closed&&e.subscribe(t)})}function at(n,e,t){let i=G(n)||e||t?{next:n,error:e,complete:t}:n;return i?oe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(ae(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Wt}var Sb="https://g.co/ng/security#xss",B=class extends Error{constructor(e,t){super(tp(e,t)),this.code=e}};function tp(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Co(n){return{toString:n}.toString()}var _l="__parameters__";function ES(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Db(n,e,t){return Co(()=>{let i=ES(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(_l)?l[_l]:Object.defineProperty(l,_l,{value:[]})[_l];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var vt=globalThis;function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function xS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Mt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Mt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Gh(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var AS=ke({__forward_ref__:ke});function Un(n){return n.__forward_ref__=Un,n.toString=function(){return Mt(this())},n}function It(n){return Ib(n)?n():n}function Ib(n){return typeof n=="function"&&n.hasOwnProperty(AS)&&n.__forward_ref__===Un}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function We(n){return{providers:n.providers||[],imports:n.imports||[]}}function sc(n){return j0(n,Tb)||j0(n,Pb)}function Mb(n){return sc(n)!==null}function j0(n,e){return n.hasOwnProperty(e)?n[e]:null}function SS(n){let e=n&&(n[Tb]||n[Pb]);return e||null}function B0(n){return n&&(n.hasOwnProperty(H0)||n.hasOwnProperty(DS))?n[H0]:null}var Tb=ke({\u0275prov:ke}),H0=ke({\u0275inj:ke}),Pb=ke({ngInjectableDef:ke}),DS=ke({ngInjectorDef:ke}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nb(n){return n&&!!n.\u0275providers}var IS=ke({\u0275cmp:ke}),MS=ke({\u0275dir:ke}),TS=ke({\u0275pipe:ke}),PS=ke({\u0275mod:ke}),Rl=ke({\u0275fac:ke}),ho=ke({__NG_ELEMENT_ID__:ke}),U0=ke({__NG_ENV_ID__:ke});function os(n){return typeof n=="string"?n:n==null?"":String(n)}function NS(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():os(n)}function RS(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,n)}function np(n,e){throw new B(-201,!1)}var le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(le||{}),qh;function Rb(){return qh}function Ft(n){let e=qh;return qh=n,e}function kb(n,e,t){let i=sc(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&le.Optional)return null;if(e!==void 0)return e;np(n,"Injector")}var kS={},po=kS,Yh="__NG_DI_FLAG__",kl="ngTempTokenPath",OS="ngTokenPath",LS=/\n/gm,FS="\u0275",$0="__source",rs;function VS(){return rs}function ki(n){let e=rs;return rs=n,e}function jS(n,e=le.Default){if(rs===void 0)throw new B(-203,!1);return rs===null?kb(n,void 0,e):rs.get(n,e&le.Optional?null:void 0,e)}function $(n,e=le.Default){return(Rb()||jS)(It(n),e)}function O(n,e=le.Default){return $(n,oc(e))}function oc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Kh(n){let e=[];for(let t=0;t<n.length;t++){let i=It(n[t]);if(Array.isArray(i)){if(i.length===0)throw new B(900,!1);let r,s=le.Default;for(let o=0;o<i.length;o++){let a=i[o],l=BS(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push($(r,s))}else e.push($(i))}return e}function Ob(n,e){return n[Yh]=e,n.prototype[Yh]=e,n}function BS(n){return n[Yh]}function HS(n,e,t,i){let r=n[kl];throw e[$0]&&r.unshift(e[$0]),n.message=US(`
`+n.message,r,t,i),n[OS]=r,n[kl]=null,n}function US(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FS?n.slice(2):n;let r=Mt(e);if(Array.isArray(e))r=e.map(Mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(LS,`
  `)}`}var Eo=Ob(Db("Optional"),8);var ac=Ob(Db("SkipSelf"),4);function vr(n,e){let t=n.hasOwnProperty(Rl);return t?n[Rl]:null}function $S(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function zS(n){return n.flat(Number.POSITIVE_INFINITY)}function ip(n,e){n.forEach(t=>Array.isArray(t)?ip(t,e):e(t))}function Lb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ol(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function WS(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function GS(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function rp(n,e,t){let i=xo(n,e);return i>=0?n[i|1]=t:(i=~i,GS(n,i,e,t)),i}function Nh(n,e){let t=xo(n,e);if(t>=0)return n[t|1]}function xo(n,e){return qS(n,e,1)}function qS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var as={},Vt=[],ls=new H(""),Fb=new H("",-1),Vb=new H(""),Ll=class{get(e,t=po){if(t===po){let i=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw i.name="NullInjectorError",i}return t}},jb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jb||{}),Fn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Fn||{}),Fi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fi||{});function YS(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Xh(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];XS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function KS(n){return n===3||n===4||n===6}function XS(n){return n.charCodeAt(0)===64}function go(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?z0(n,t,r,null,e[++i]):z0(n,t,r,null,null))}}return n}function z0(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var Bb="ng-template";function QS(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&YS(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(sp(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function sp(n){return n.type===4&&n.value!==Bb}function ZS(n,e,t){let i=n.type===4&&!t?Bb:n.value;return e===i}function JS(n,e,t){let i=4,r=n.attrs,s=r!==null?nD(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!mn(i)&&!mn(l))return!1;if(o&&mn(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!ZS(n,l,t)||l===""&&e.length===1){if(mn(i))return!1;o=!0}}else if(i&8){if(r===null||!QS(n,r,l,t)){if(mn(i))return!1;o=!0}}else{let c=e[++a],u=eD(l,r,sp(n),t);if(u===-1){if(mn(i))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(mn(i))return!1;o=!0}}}}return mn(i)||o}function mn(n){return(n&1)===0}function eD(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return iD(e,n)}function Hb(n,e,t=!1){for(let i=0;i<e.length;i++)if(JS(n,e[i],t))return!0;return!1}function tD(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function nD(n){for(let e=0;e<n.length;e++){let t=n[e];if(KS(t))return e}return n.length}function iD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function rD(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function W0(n,e){return n?":not("+e.trim()+")":e}function sD(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!mn(o)&&(e+=W0(s,r),r=""),i=o,s=s||!mn(i);t++}return r!==""&&(e+=W0(s,r)),e}function oD(n){return n.map(sD).join(",")}function aD(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!mn(r))break;r=s}i++}return{attrs:e,classes:t}}function pe(n){return Co(()=>{let e=qb(n),t=Y(T({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Fn.Emulated,styles:n.styles||Vt,_:null,schemas:n.schemas||null,tView:null,id:""});Yb(t);let i=n.dependencies;return t.directiveDefs=q0(i,!1),t.pipeDefs=q0(i,!0),t.id=uD(t),t})}function lD(n){return Vi(n)||$b(n)}function cD(n){return n!==null}function Ge(n){return Co(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function G0(n,e){if(n==null)return as;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Fi.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==Fi.None?[i,a]:i,e[s]=o):t[s]=i}return t}function qe(n){return Co(()=>{let e=qb(n);return Yb(e),e})}function Ub(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Vi(n){return n[IS]||null}function $b(n){return n[MS]||null}function zb(n){return n[TS]||null}function Wb(n){let e=Vi(n)||$b(n)||zb(n);return e!==null?e.standalone:!1}function Gb(n,e){let t=n[PS]||null;if(!t&&e===!0)throw new Error(`Type ${Mt(n)} does not have '\u0275mod' property.`);return t}function qb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||as,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:G0(n.inputs,e),outputs:G0(n.outputs),debugInfo:null}}function Yb(n){n.features?.forEach(e=>e(n))}function q0(n,e){if(!n)return null;let t=e?zb:lD;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(cD)}function uD(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lc(n){return{\u0275providers:n}}function dD(...n){return{\u0275providers:Kb(!0,n),\u0275fromNgModule:!0}}function Kb(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return ip(e,o=>{let a=o;Qh(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Xb(r,s),t}function Xb(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];op(r,s=>{e(s,i)})}}function Qh(n,e,t,i){if(n=It(n),!n)return!1;let r=null,s=B0(n),o=!s&&Vi(n);if(!s&&!o){let l=n.ngModule;if(s=B0(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Qh(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{ip(s.imports,u=>{Qh(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Xb(c,e)}if(!a){let c=vr(r)||(()=>new r);e({provide:r,useFactory:c,deps:Vt},r),e({provide:Vb,useValue:r,multi:!0},r),e({provide:ls,useValue:()=>$(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;op(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function op(n,e){for(let t of n)Nb(t)&&(t=t.\u0275providers),Array.isArray(t)?op(t,e):e(t)}var hD=ke({provide:String,useValue:ke});function Qb(n){return n!==null&&typeof n=="object"&&hD in n}function fD(n){return!!(n&&n.useExisting)}function pD(n){return!!(n&&n.useFactory)}function cs(n){return typeof n=="function"}function gD(n){return!!n.useClass}var cc=new H(""),Il={},mD={},Rh;function ap(){return Rh===void 0&&(Rh=new Ll),Rh}var qt=class{},mo=class extends qt{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jh(e,o=>this.processProvider(o)),this.records.set(Fb,es(void 0,this)),r.has("environment")&&this.records.set(qt,es(void 0,this));let s=this.records.get(cc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Vb,Vt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ki(this),i=Ft(void 0),r;try{return e()}finally{ki(t),Ft(i)}}get(e,t=po,i=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(U0))return e[U0](this);i=oc(i);let r,s=ki(this),o=Ft(void 0);try{if(!(i&le.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=wD(e)&&sc(e);c&&this.injectableDefInScope(c)?l=es(Zh(e),Il):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&le.Self?ap():this.parent;return t=i&le.Optional&&t===po?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[kl]=a[kl]||[]).unshift(Mt(e)),s)throw a;return HS(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(o),ki(s)}}resolveInjectorInitializers(){let e=ye(null),t=ki(this),i=Ft(void 0),r;try{let s=this.get(ls,Vt,le.Self);for(let o of s)o()}finally{ki(t),Ft(i),ye(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Mt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=It(e);let t=cs(e)?e:It(e&&e.provide),i=yD(e);if(!cs(e)&&e.multi===!0){let r=this.records.get(t);r||(r=es(void 0,Il,!0),r.factory=()=>Kh(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ye(null);try{return t.value===Il&&(t.value=mD,t.value=t.factory()),typeof t.value=="object"&&t.value&&_D(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=It(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Zh(n){let e=sc(n),t=e!==null?e.factory:vr(n);if(t!==null)return t;if(n instanceof H)throw new B(204,!1);if(n instanceof Function)return vD(n);throw new B(204,!1)}function vD(n){if(n.length>0)throw new B(204,!1);let t=SS(n);return t!==null?()=>t.factory(n):()=>new n}function yD(n){if(Qb(n))return es(void 0,n.useValue);{let e=Zb(n);return es(e,Il)}}function Zb(n,e,t){let i;if(cs(n)){let r=It(n);return vr(r)||Zh(r)}else if(Qb(n))i=()=>It(n.useValue);else if(pD(n))i=()=>n.useFactory(...Kh(n.deps||[]));else if(fD(n))i=()=>$(It(n.useExisting));else{let r=It(n&&(n.useClass||n.provide));if(bD(n))i=()=>new r(...Kh(n.deps));else return vr(r)||Zh(r)}return i}function es(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function bD(n){return!!n.deps}function _D(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function wD(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function Jh(n,e){for(let t of n)Array.isArray(t)?Jh(t,e):t&&Nb(t)?Jh(t.\u0275providers,e):e(t)}function $n(n,e){n instanceof mo&&n.assertNotDestroyed();let t,i=ki(n),r=Ft(void 0);try{return e()}finally{ki(i),Ft(r)}}function Jb(){return Rb()!==void 0||VS()!=null}function CD(n){if(!Jb())throw new B(-203,!1)}function ED(n){let e=vt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function xD(n){return typeof n=="function"}var ai=0,te=1,X=2,bt=3,yn=4,jt=5,vo=6,Fl=7,bn=8,us=9,Vn=10,ze=11,yo=12,Y0=13,ys=14,sn=15,yr=16,ts=17,ri=18,uc=19,e_=20,Oi=21,kh=22,rn=23,Yt=25,t_=1;var br=7,Vl=8,ds=9,Gt=10,jl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(jl||{});function Li(n){return Array.isArray(n)&&typeof n[t_]=="object"}function li(n){return Array.isArray(n)&&n[t_]===!0}function lp(n){return(n.flags&4)!==0}function dc(n){return n.componentOffset>-1}function hc(n){return(n.flags&1)===1}function ji(n){return!!n.template}function ef(n){return(n[X]&512)!==0}var tf=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function n_(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function ci(){return i_}function i_(n){return n.type.prototype.ngOnChanges&&(n.setInput=SD),AD}ci.ngInherit=!0;function AD(){let n=s_(this),e=n?.current;if(e){let t=n.previous;if(t===as)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function SD(n,e,t,i,r){let s=this.declaredInputs[i],o=s_(n)||DD(n,{previous:as,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new tf(c&&c.currentValue,t,l===as),n_(n,e,r,t)}var r_="__ngSimpleChanges__";function s_(n){return n[r_]||null}function DD(n,e){return n[r_]=e}var K0=null;var On=function(n,e,t){K0?.(n,e,t)},o_="svg",ID="math";function jn(n){for(;Array.isArray(n);)n=n[ai];return n}function a_(n,e){return jn(e[n])}function _n(n,e){return jn(e[n.index])}function l_(n,e){return n.data[e]}function MD(n,e){return n[e]}function Ui(n,e){let t=e[n];return Li(t)?t:t[ai]}function TD(n){return(n[X]&4)===4}function cp(n){return(n[X]&128)===128}function PD(n){return li(n[bt])}function hs(n,e){return e==null?null:n[e]}function c_(n){n[ts]=0}function u_(n){n[X]&1024||(n[X]|=1024,cp(n)&&pc(n))}function ND(n,e){for(;n>0;)e=e[ys],n--;return e}function fc(n){return!!(n[X]&9216||n[rn]?.dirty)}function nf(n){n[Vn].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),fc(n)&&pc(n)}function pc(n){n[Vn].changeDetectionScheduler?.notify(0);let e=_r(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!cp(e)));)e=_r(e)}function d_(n,e){if((n[X]&256)===256)throw new B(911,!1);n[Oi]===null&&(n[Oi]=[]),n[Oi].push(e)}function RD(n,e){if(n[Oi]===null)return;let t=n[Oi].indexOf(e);t!==-1&&n[Oi].splice(t,1)}function _r(n){let e=n[bt];return li(e)?e[bt]:e}var ne={lFrame:__(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var h_=!1;function kD(){return ne.lFrame.elementDepthCount}function OD(){ne.lFrame.elementDepthCount++}function LD(){ne.lFrame.elementDepthCount--}function f_(){return ne.bindingsEnabled}function p_(){return ne.skipHydrationRootTNode!==null}function FD(n){return ne.skipHydrationRootTNode===n}function VD(){ne.skipHydrationRootTNode=null}function ie(){return ne.lFrame.lView}function Ze(){return ne.lFrame.tView}function ue(n){return ne.lFrame.contextLView=n,n[bn]}function de(n){return ne.lFrame.contextLView=null,n}function Tt(){let n=g_();for(;n!==null&&n.type===64;)n=n.parent;return n}function g_(){return ne.lFrame.currentTNode}function jD(){let n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Dr(n,e){let t=ne.lFrame;t.currentTNode=n,t.isParent=e}function up(){return ne.lFrame.isParent}function dp(){ne.lFrame.isParent=!1}function m_(){return h_}function X0(n){h_=n}function bs(){let n=ne.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function BD(){return ne.lFrame.bindingIndex}function HD(n){return ne.lFrame.bindingIndex=n}function hp(){return ne.lFrame.bindingIndex++}function fp(n){let e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function UD(){return ne.lFrame.inI18n}function $D(n,e){let t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,rf(e)}function zD(){return ne.lFrame.currentDirectiveIndex}function rf(n){ne.lFrame.currentDirectiveIndex=n}function WD(n){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function v_(){return ne.lFrame.currentQueryIndex}function pp(n){ne.lFrame.currentQueryIndex=n}function GD(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[jt]:null}function y_(n,e,t){if(t&le.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&le.Host);)if(r=GD(s),r===null||(s=s[ys],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=ne.lFrame=b_();return i.currentTNode=e,i.lView=n,!0}function gp(n){let e=b_(),t=n[te];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function b_(){let n=ne.lFrame,e=n===null?null:n.child;return e===null?__(n):e}function __(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function w_(){let n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var C_=w_;function mp(){let n=w_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qD(n){return(ne.lFrame.contextLView=ND(n,ne.lFrame.contextLView))[bn]}function $i(){return ne.lFrame.selectedIndex}function wr(n){ne.lFrame.selectedIndex=n}function vp(){let n=ne.lFrame;return l_(n.tView,n.selectedIndex)}function E_(){ne.lFrame.currentNamespace=o_}function x_(){YD()}function YD(){ne.lFrame.currentNamespace=null}function KD(){return ne.lFrame.currentNamespace}var A_=!0;function gc(){return A_}function mc(n){A_=n}function XD(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=i_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function vc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ml(n,e,t){S_(n,e,3,t)}function Tl(n,e,t,i){(n[X]&3)===t&&S_(n,e,t,i)}function Oh(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function S_(n,e,t,i){let r=i!==void 0?n[ts]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[ts]+=65536),(a<s||s==-1)&&(QD(n,t,e,l),n[ts]=(n[ts]&4294901760)+l+2),l++}function Q0(n,e){On(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),On(5,n,e)}}function QD(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[X]>>14<n[ts]>>16&&(n[X]&3)===e&&(n[X]+=16384,Q0(a,s)):Q0(a,s)}var ss=-1,Cr=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function ZD(n){return n instanceof Cr}function JD(n){return(n.flags&8)!==0}function eI(n){return(n.flags&16)!==0}var Lh={},sf=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=oc(i);let r=this.injector.get(e,Lh,i);return r!==Lh||t===Lh?r:this.parentInjector.get(e,t,i)}};function D_(n){return n!==ss}function Bl(n){return n&32767}function tI(n){return n>>16}function Hl(n,e){let t=tI(n),i=e;for(;t>0;)i=i[ys],t--;return i}var of=!0;function Ul(n){let e=of;return of=n,e}var nI=256,I_=nI-1,M_=5,iI=0,Ln={};function rI(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(ho)&&(i=t[ho]),i==null&&(i=t[ho]=iI++);let r=i&I_,s=1<<r;e.data[n+(r>>M_)]|=s}function $l(n,e){let t=T_(n,e);if(t!==-1)return t;let i=e[te];i.firstCreatePass&&(n.injectorIndex=e.length,Fh(i.data,n),Fh(e,null),Fh(i.blueprint,null));let r=yp(n,e),s=n.injectorIndex;if(D_(r)){let o=Bl(r),a=Hl(r,e),l=a[te].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Fh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function T_(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function yp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=O_(r),i===null)return ss;if(t++,r=r[ys],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ss}function af(n,e,t){rI(n,e,t)}function P_(n,e,t){if(t&le.Optional||n!==void 0)return n;np(e,"NodeInjector")}function N_(n,e,t,i){if(t&le.Optional&&i===void 0&&(i=null),!(t&(le.Self|le.Host))){let r=n[us],s=Ft(void 0);try{return r?r.get(e,i,t&le.Optional):kb(e,i,t&le.Optional)}finally{Ft(s)}}return P_(i,e,t)}function R_(n,e,t,i=le.Default,r){if(n!==null){if(e[X]&2048&&!(i&le.Self)){let o=lI(n,e,t,i,Ln);if(o!==Ln)return o}let s=k_(n,e,t,i,Ln);if(s!==Ln)return s}return N_(e,t,i,r)}function k_(n,e,t,i,r){let s=oI(t);if(typeof s=="function"){if(!y_(e,n,i))return i&le.Host?P_(r,t,i):N_(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&le.Optional))np(t);else return o}finally{C_()}}else if(typeof s=="number"){let o=null,a=T_(n,e),l=ss,c=i&le.Host?e[sn][jt]:null;for((a===-1||i&le.SkipSelf)&&(l=a===-1?yp(n,e):e[a+8],l===ss||!J0(i,!1)?a=-1:(o=e[te],a=Bl(l),e=Hl(l,e)));a!==-1;){let u=e[te];if(Z0(s,a,u.data)){let d=sI(a,e,t,o,i,c);if(d!==Ln)return d}l=e[a+8],l!==ss&&J0(i,e[te].data[a+8]===c)&&Z0(s,a,e)?(o=u,a=Bl(l),e=Hl(l,e)):a=-1}}return r}function sI(n,e,t,i,r,s){let o=e[te],a=o.data[n+8],l=i==null?dc(a)&&of:i!=o&&(a.type&3)!==0,c=r&le.Host&&s===a,u=Pl(a,o,t,l,c);return u!==null?Er(e,o,u,a):Ln}function Pl(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){let f=o[l];if(f&&ji(f)&&f.type===t)return l}return null}function Er(n,e,t,i){let r=n[t],s=e.data;if(ZD(r)){let o=r;o.resolving&&RS(NS(s[t]));let a=Ul(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Ft(o.injectImpl):null,u=y_(n,i,le.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&XD(t,s[t],e)}finally{c!==null&&Ft(c),Ul(a),o.resolving=!1,C_()}}return r}function oI(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ho)?n[ho]:void 0;return typeof e=="number"?e>=0?e&I_:aI:e}function Z0(n,e,t){let i=1<<n;return!!(t[e+(n>>M_)]&i)}function J0(n,e){return!(n&le.Self)&&!(n&le.Host&&e)}var mr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return R_(this._tNode,this._lView,e,oc(i),t)}};function aI(){return new mr(Tt(),ie())}function zi(n){return Co(()=>{let e=n.prototype.constructor,t=e[Rl]||lf(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Rl]||lf(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function lf(n){return Ib(n)?()=>{let e=lf(It(n));return e&&e()}:vr(n)}function lI(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=k_(s,o,t,i|le.Self,Ln);if(a!==Ln)return a;let l=s.parent;if(!l){let c=o[e_];if(c){let u=c.get(t,Ln,i);if(u!==Ln)return u}l=O_(o),o=o[ys]}s=l}return r}function O_(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[jt]:null}function eb(n,e=null,t=null,i){let r=L_(n,e,t,i);return r.resolveInjectorInitializers(),r}function L_(n,e=null,t=null,i,r=new Set){let s=[t||Vt,dD(n)];return i=i||(typeof n=="object"?void 0:Mt(n)),new mo(s,e||ap(),i||null,r)}var _t=class n{static{this.THROW_IF_NOT_FOUND=po}static{this.NULL=new Ll}static create(e,t){if(Array.isArray(e))return eb({name:""},t,e,"");{let i=e.name??"";return eb({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=V({token:n,providedIn:"any",factory:()=>$(Fb)})}static{this.__NG_ELEMENT_ID__=-1}};var cI=new H("");cI.__NG_ELEMENT_ID__=n=>{let e=Tt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&le.Optional)return null;throw new B(204,!1)};var uI="ngOriginalError";function Vh(n){return n[uI]}var F_=!0,bp=(()=>{class n{static{this.__NG_ELEMENT_ID__=dI}static{this.__NG_ENV_ID__=t=>t}}return n})(),cf=class extends bp{constructor(e){super(),this._lView=e}onDestroy(e){return d_(this._lView,e),()=>RD(this._lView,e)}};function dI(){return new cf(ie())}var _s=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}}return n})();var uf=class extends Ne{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Jb()&&(this.destroyRef=O(bp,{optional:!0})??void 0,this.pendingTasks=O(_s,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},fe=uf;function zl(...n){}function V_(n){let e,t;function i(){n=zl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function tb(n){return queueMicrotask(()=>n()),()=>{n=zl}}var _p="isAngularZone",Wl=_p+"_ID",hI=0,Ae=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=F_}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,gI(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_p)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,fI,zl,zl);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},fI={};function wp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pI(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){V_(()=>{n.callbackScheduled=!1,df(n),n.isCheckStableRunning=!0,wp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),df(n)}function gI(n){let e=()=>{pI(n)},t=hI++;n._inner=n._inner.fork({name:"angular",properties:{[_p]:!0,[Wl]:t,[Wl+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(mI(l))return i.invokeTask(s,o,a,l);try{return nb(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ib(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return nb(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!vI(l)&&e(),ib(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,df(n),wp(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function df(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function nb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ib(n){n._nesting--,wp(n)}var Gl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe,this.onMicrotaskEmpty=new fe,this.onStable=new fe,this.onError=new fe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function mI(n){return j_(n,"__ignore_ng_zone__")}function vI(n){return j_(n,"__scheduler_tick__")}function j_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function yI(n="zone.js",e){return n==="noop"?new Gl:n==="zone.js"?new Ae(e):n}var si=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Vh(e);for(;t&&Vh(t);)t=Vh(t);return t||null}},bI=new H("",{providedIn:"root",factory:()=>{let n=O(Ae),e=O(si);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function _I(){return ws(Tt(),ie())}function ws(n,e){return new lt(_n(n,e))}var lt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=_I}}return n})();function wI(n){return n instanceof lt?n.nativeElement:n}function CI(){return this._results[Symbol.iterator]()}var hf=class n{get changes(){return this._changes??=new fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=CI)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=zS(e);(this._changesDetected=!$S(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function B_(n){return(n.flags&128)===128}var H_=new Map,EI=0;function xI(){return EI++}function AI(n){H_.set(n[uc],n)}function ff(n){H_.delete(n[uc])}var rb="__ngContext__";function Bi(n,e){Li(e)?(n[rb]=e[uc],AI(e)):n[rb]=e}function U_(n){return z_(n[yo])}function $_(n){return z_(n[yn])}function z_(n){for(;n!==null&&!li(n);)n=n[yn];return n}var pf;function W_(n){pf=n}function G_(){if(pf!==void 0)return pf;if(typeof document<"u")return document;throw new B(210,!1)}var yc=new H("",{providedIn:"root",factory:()=>SI}),SI="ng",Cp=new H(""),wn=new H("",{providedIn:"platform",factory:()=>"unknown"});var Ep=new H("",{providedIn:"root",factory:()=>G_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DI="h",II="b";var MI=()=>null;function xp(n,e,t=!1){return MI(n,e,t)}var q_=!1,TI=new H("",{providedIn:"root",factory:()=>q_});var wl;function Y_(){if(wl===void 0&&(wl=null,vt.trustedTypes))try{wl=vt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wl}function bc(n){return Y_()?.createHTML(n)||n}function PI(n){return Y_()?.createScriptURL(n)||n}var Cl;function NI(){if(Cl===void 0&&(Cl=null,vt.trustedTypes))try{Cl=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cl}function sb(n){return NI()?.createHTML(n)||n}var oi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sb})`}},gf=class extends oi{getTypeName(){return"HTML"}},mf=class extends oi{getTypeName(){return"Style"}},vf=class extends oi{getTypeName(){return"Script"}},yf=class extends oi{getTypeName(){return"URL"}},bf=class extends oi{getTypeName(){return"ResourceURL"}};function Cn(n){return n instanceof oi?n.changingThisBreaksApplicationSecurity:n}function Wi(n,e){let t=RI(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Sb})`)}return t===e}function RI(n){return n instanceof oi&&n.getTypeName()||null}function K_(n){return new gf(n)}function X_(n){return new mf(n)}function Q_(n){return new vf(n)}function Z_(n){return new yf(n)}function J_(n){return new bf(n)}function kI(n){let e=new wf(n);return OI()?new _f(e):e}var _f=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(bc(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},wf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=bc(e),t}};function OI(){try{return!!new window.DOMParser().parseFromString(bc(""),"text/html")}catch{return!1}}var LI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _c(n){return n=String(n),n.match(LI)?n:"unsafe:"+n}function ui(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ao(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var ew=ui("area,br,col,hr,img,wbr"),tw=ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nw=ui("rp,rt"),FI=Ao(nw,tw),VI=Ao(tw,ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jI=Ao(nw,ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ob=Ao(ew,VI,jI,FI),iw=ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BI=ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),HI=ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),UI=Ao(iw,BI,HI),$I=ui("script,style,template"),Cf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=GI(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=WI(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=ab(e).toLowerCase();if(!ob.hasOwnProperty(t))return this.sanitizedSomething=!0,!$I.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!UI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;iw[a]&&(l=_c(l)),this.buf.push(" ",o,'="',lb(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=ab(e).toLowerCase();ob.hasOwnProperty(t)&&!ew.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lb(e))}};function zI(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function WI(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw rw(e);return e}function GI(n){let e=n.firstChild;if(e&&zI(n,e))throw rw(e);return e}function ab(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function rw(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var qI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YI=/([^\#-~ |!])/g;function lb(n){return n.replace(/&/g,"&amp;").replace(qI,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(YI,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var El;function Ap(n,e){let t=null;try{El=El||kI(n);let i=e?String(e):"";t=El.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=El.getInertBodyElement(i)}while(i!==s);let a=new Cf().sanitizeChildren(cb(t)||t);return bc(a)}finally{if(t){let i=cb(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function cb(n){return"content"in n&&KI(n)?n.content:null}function KI(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var zn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zn||{});function So(n){let e=ow();return e?sb(e.sanitize(zn.HTML,n)||""):Wi(n,"HTML")?sb(Cn(n)):Ap(G_(),os(n))}function on(n){let e=ow();return e?e.sanitize(zn.URL,n)||"":Wi(n,"URL")?Cn(n):_c(os(n))}function sw(n){return PI(n[0])}function ow(){let n=ie();return n&&n[Vn].sanitizer}var XI=/^>|^->|<!--|-->|--!>|<!-$/g,QI=/(<|>)/g,ZI="\u200B$1\u200B";function JI(n){return n.replace(XI,e=>e.replace(QI,ZI))}function Sp(n){return n.ownerDocument.defaultView}function aw(n){return n.ownerDocument}function lw(n){return n instanceof Function?n():n}function eM(n){return(n??O(_t)).get(wn)==="browser"}var Bn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Bn||{}),tM;function Dp(n,e){return tM(n,e)}function ns(n,e,t,i,r){if(i!=null){let s,o=!1;li(i)?s=i:Li(i)&&(o=!0,i=i[ai]);let a=jn(i);n===0&&t!==null?r==null?pw(e,t,a):ql(e,t,a,r||null,!0):n===1&&t!==null?ql(e,t,a,r||null,!0):n===2?gM(e,a,o):n===3&&e.destroyNode(a),s!=null&&vM(e,n,s,t,r)}}function nM(n,e){return n.createText(e)}function iM(n,e,t){n.setValue(e,t)}function rM(n,e){return n.createComment(JI(e))}function cw(n,e,t){return n.createElement(e,t)}function sM(n,e){uw(n,e),e[ai]=null,e[jt]=null}function oM(n,e,t,i,r,s){i[ai]=r,i[jt]=e,Cc(n,i,t,1,r,s)}function uw(n,e){e[Vn].changeDetectionScheduler?.notify(9),Cc(n,e,e[ze],2,null,null)}function aM(n){let e=n[yo];if(!e)return jh(n[te],n);for(;e;){let t=null;if(Li(e))t=e[yo];else{let i=e[Gt];i&&(t=i)}if(!t){for(;e&&!e[yn]&&e!==n;)Li(e)&&jh(e[te],e),e=e[bt];e===null&&(e=n),Li(e)&&jh(e[te],e),t=e&&e[yn]}e=t}}function lM(n,e,t,i){let r=Gt+i,s=t.length;i>0&&(t[r-1][yn]=e),i<s-Gt?(e[yn]=t[r],Lb(t,Gt+i,e)):(t.push(e),e[yn]=null),e[bt]=t;let o=e[yr];o!==null&&t!==o&&dw(o,e);let a=e[ri];a!==null&&a.insertView(n),nf(e),e[X]|=128}function dw(n,e){let t=n[ds],i=e[bt];if(Li(i))n[X]|=jl.HasTransplantedViews;else{let r=i[bt][sn];e[sn]!==r&&(n[X]|=jl.HasTransplantedViews)}t===null?n[ds]=[e]:t.push(e)}function Ip(n,e){let t=n[ds],i=t.indexOf(e);t.splice(i,1)}function Ef(n,e){if(n.length<=Gt)return;let t=Gt+e,i=n[t];if(i){let r=i[yr];r!==null&&r!==n&&Ip(r,i),e>0&&(n[t-1][yn]=i[yn]);let s=Ol(n,Gt+e);sM(i[te],i);let o=s[ri];o!==null&&o.detachView(s[te]),i[bt]=null,i[yn]=null,i[X]&=-129}return i}function hw(n,e){if(!(e[X]&256)){let t=e[ze];t.destroyNode&&Cc(n,e,t,3,null,null),aM(e)}}function jh(n,e){if(e[X]&256)return;let t=ye(null);try{e[X]&=-129,e[X]|=256,e[rn]&&uh(e[rn]),uM(n,e),cM(n,e),e[te].type===1&&e[ze].destroy();let i=e[yr];if(i!==null&&li(e[bt])){i!==e[bt]&&Ip(i,e);let r=e[ri];r!==null&&r.detachView(n)}ff(e)}finally{ye(t)}}function cM(n,e){let t=n.cleanup,i=e[Fl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Fl]=null);let r=e[Oi];if(r!==null){e[Oi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function uM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Cr)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];On(4,a,l);try{l.call(a)}finally{On(5,a,l)}}else{On(4,r,s);try{s.call(r)}finally{On(5,r,s)}}}}}function fw(n,e,t){return dM(n,e.parent,t)}function dM(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ai];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Fn.None||s===Fn.Emulated)return null}return _n(i,t)}}function ql(n,e,t,i,r){n.insertBefore(e,t,i,r)}function pw(n,e,t){n.appendChild(e,t)}function ub(n,e,t,i,r){i!==null?ql(n,e,t,i,r):pw(n,e,t)}function gw(n,e){return n.parentNode(e)}function hM(n,e){return n.nextSibling(e)}function mw(n,e,t){return pM(n,e,t)}function fM(n,e,t){return n.type&40?_n(n,t):null}var pM=fM,db;function wc(n,e,t,i){let r=fw(n,i,e),s=e[ze],o=i.parent||e[jt],a=mw(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)ub(s,r,t[l],a,!1);else ub(s,r,t,a,!1);db!==void 0&&db(s,i,e,t,r)}function uo(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return xf(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return uo(n,i);{let r=n[e.index];return li(r)?xf(-1,r):jn(r)}}else{if(t&128)return uo(n,e.next);if(t&32)return Dp(e,n)()||jn(n[e.index]);{let i=vw(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=_r(n[sn]);return uo(r,i)}else return uo(n,e.next)}}}return null}function vw(n,e){if(e!==null){let i=n[sn][jt],r=e.projection;return i.projection[r]}return null}function xf(n,e){let t=Gt+n+1;if(t<e.length){let i=e[t],r=i[te].firstChild;if(r!==null)return uo(i,r)}return e[br]}function gM(n,e,t){n.removeChild(null,e,t)}function Mp(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Bi(jn(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)Mp(n,e,t.child,i,r,s,!1),ns(e,n,r,a,s);else if(l&32){let c=Dp(t,i),u;for(;u=c();)ns(e,n,r,u,s);ns(e,n,r,a,s)}else l&16?yw(n,e,i,t,r,s):ns(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Cc(n,e,t,i,r,s){Mp(t,i,n.firstChild,e,r,s,!1)}function mM(n,e,t){let i=e[ze],r=fw(n,t,e),s=t.parent||e[jt],o=mw(s,t,e);yw(i,0,e,t,r,o)}function yw(n,e,t,i,r,s){let o=t[sn],l=o[jt].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ns(e,n,r,u,s)}else{let c=l,u=o[bt];B_(i)&&(c.flags|=128),Mp(n,e,c,u,r,s,!0)}}function vM(n,e,t,i,r){let s=t[br],o=jn(t);s!==o&&ns(e,n,i,s,r);for(let a=Gt;a<t.length;a++){let l=t[a];Cc(l[te],l,n,e,i,s)}}function yM(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Bn.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Bn.Important),n.setStyle(t,i,r,s))}}function bM(n,e,t){n.setAttribute(e,"style",t)}function bw(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _w(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&Xh(n,e,i),r!==null&&bw(n,e,r),s!==null&&bM(n,e,s)}var an={};function A(n=1){ww(Ze(),ie(),$i()+n,!1)}function ww(n,e,t,i){if(!i)if((e[X]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ml(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Tl(e,s,0,t)}wr(t)}function F(n,e=le.Default){let t=ie();if(t===null)return $(n,e);let i=Tt();return R_(i,t,It(n),e)}function Cw(){let n="invalid";throw new Error(n)}function Ew(n,e,t,i,r,s){let o=ye(null);try{let a=null;r&Fi.SignalBased&&(a=e[i][ti]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Fi.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):n_(e,a,i,s)}finally{ye(o)}}function _M(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)wr(~r);else{let s=r,o=t[++i],a=t[++i];$D(o,s);let l=e[s];a(2,l)}}}finally{wr(-1)}}function Ec(n,e,t,i,r,s,o,a,l,c,u){let d=e.blueprint.slice();return d[ai]=r,d[X]=i|4|128|8|64,(c!==null||n&&n[X]&2048)&&(d[X]|=2048),c_(d),d[bt]=d[ys]=n,d[bn]=t,d[Vn]=o||n&&n[Vn],d[ze]=a||n&&n[ze],d[us]=l||n&&n[us]||null,d[jt]=s,d[uc]=xI(),d[vo]=u,d[e_]=c,d[sn]=e.type==2?n[sn]:d,d}function Cs(n,e,t,i,r){let s=n.data[e];if(s===null)s=wM(n,e,t,i,r),UD()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=jD();s.injectorIndex=o===null?-1:o.injectorIndex}return Dr(s,!0),s}function wM(n,e,t,i,r){let s=g_(),o=up(),a=o?s:s&&s.parent,l=n.data[e]=DM(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function xw(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Aw(n,e,t,i,r){let s=$i(),o=i&2;try{wr(-1),o&&e.length>Yt&&ww(n,e,Yt,!1),On(o?2:0,r),t(i,r)}finally{wr(s),On(o?3:1,r)}}function Tp(n,e,t){if(lp(e)){let i=ye(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{ye(i)}}}function Pp(n,e,t){f_()&&(RM(n,e,t,_n(t,e)),(t.flags&64)===64&&Iw(n,e,t))}function Np(n,e,t=_n){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function Sw(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Rp(n,e,t,i,r,s,o,a,l,c,u){let d=Yt+i,h=d+r,f=CM(d,h),p=typeof c=="function"?c():c;return f[te]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function CM(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:an);return t}function EM(n,e,t,i){let s=i.get(TI,q_)||t===Fn.ShadowDom,o=n.selectRootElement(e,s);return xM(o),o}function xM(n){AM(n)}var AM=()=>null;function SM(n,e,t,i){let r=Pw(e);r.push(t),n.firstCreatePass&&Nw(n).push(i,r.length-1)}function DM(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return p_()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hb(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=Fi.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?fb(i,t,c,a,l):fb(i,t,c,a)}return i}function fb(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function IM(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=t?t.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=hb(0,d.inputs,u,l,f),c=hb(1,d.outputs,u,c,p);let g=l!==null&&o!==null&&!sp(e)?UM(l,u,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function MM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function kp(n,e,t,i,r,s,o,a){let l=_n(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(Lp(n,t,u,i,r),dc(e)&&TM(t,e.index)):e.type&3?(i=MM(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function TM(n,e){let t=Ui(e,n);t[X]&16||(t[X]|=64)}function Op(n,e,t,i){if(f_()){let r=i===null?null:{"":-1},s=OM(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Dw(n,e,t,o,r,a),r&&LM(t,i,r)}t.mergedAttrs=go(t.mergedAttrs,t.attrs)}function Dw(n,e,t,i,r,s){for(let c=0;c<i.length;c++)af($l(t,e),n,i[c].type);VM(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=xw(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=go(t.mergedAttrs,u.hostAttrs),jM(n,t,e,l,u),FM(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}IM(n,t,s)}function PM(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;NM(o)!=a&&o.push(a),o.push(t,i,s)}}function NM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function RM(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;dc(t)&&BM(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$l(t,e),Bi(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=Er(e,n,a,t);if(Bi(c,e),o!==null&&HM(e,a-r,c,l,t,o),ji(l)){let u=Ui(t.index,e);u[bn]=Er(e,n,a,t)}}}function Iw(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=zD();try{wr(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];rf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&kM(l,c)}}finally{wr(-1),rf(o)}}function kM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function OM(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(Hb(e,o.selectors,!1))if(i||(i=[]),ji(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;Af(n,e,l)}else i.unshift(o),Af(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Af(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function LM(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new B(-301,!1);i.push(e[r],s)}}}function FM(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ji(e)&&(t[""]=n)}}function VM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function jM(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=vr(r.type,!0)),o=new Cr(s,ji(r),F);n.blueprint[i]=o,t[i]=o,PM(n,e,i,xw(n,t,r.hostVars,an),r)}function BM(n,e,t){let i=_n(e,n),r=Sw(t),s=n[Vn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=xc(n,Ec(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function HM(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Ew(i,t,l,c,u,d)}}function UM(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function Mw(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Tw(n,e){let t=n.contentQueries;if(t!==null){let i=ye(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];pp(s),a.contentQueries(2,e[o],o)}}}finally{ye(i)}}}function xc(n,e){return n[yo]?n[Y0][yn]=e:n[yo]=e,n[Y0]=e,e}function Sf(n,e,t){pp(0);let i=ye(null);try{e(n,t)}finally{ye(i)}}function Pw(n){return n[Fl]??=[]}function Nw(n){return n.cleanup??=[]}function Rw(n,e){let t=n[us],i=t?t.get(si,null):null;i&&i.handleError(e)}function Lp(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],u=n.data[o];Ew(u,c,i,a,l,r)}}function kw(n,e,t){let i=a_(e,n);iM(n[ze],i,t)}function $M(n,e){let t=Ui(e,n),i=t[te];zM(i,t);let r=t[ai];r!==null&&t[vo]===null&&(t[vo]=xp(r,t[us])),Fp(i,t,t[bn])}function zM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Fp(n,e,t){gp(e);try{let i=n.viewQuery;i!==null&&Sf(1,i,t);let r=n.template;r!==null&&Aw(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ri]?.finishViewCreation(n),n.staticContentQueries&&Tw(n,e),n.staticViewQueries&&Sf(2,n.viewQuery,t);let s=n.components;s!==null&&WM(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[X]&=-5,mp()}}function WM(n,e){for(let t=0;t<e.length;t++)$M(n,e[t])}function Ow(n,e,t,i){let r=ye(null);try{let s=e.tView,a=n[X]&4096?4096:16,l=Ec(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[yr]=c;let u=n[ri];return u!==null&&(l[ri]=u.createEmbeddedView(s)),Fp(s,l,t),l}finally{ye(r)}}function Df(n,e){return!e||e.firstChild===null||B_(n)}function Lw(n,e,t,i=!0){let r=e[te];if(lM(r,e,n,t),i){let o=xf(t,n),a=e[ze],l=gw(a,n[br]);l!==null&&oM(r,n[jt],a,e,l,o)}let s=e[vo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Yl(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(jn(s)),li(s)&&GM(s,i);let o=t.type;if(o&8)Yl(n,e,t.child,i);else if(o&32){let a=Dp(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=vw(e,t);if(Array.isArray(a))i.push(...a);else{let l=_r(e[sn]);Yl(l[te],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function GM(n,e){for(let t=Gt;t<n.length;t++){let i=n[t],r=i[te].firstChild;r!==null&&Yl(i[te],i,r,e)}n[br]!==n[ai]&&e.push(n[br])}var Fw=[];function qM(n){return n[rn]??YM(n)}function YM(n){let e=Fw.pop()??Object.create(XM);return e.lView=n,e}function KM(n){n.lView[rn]!==n&&(n.lView=null,Fw.push(n))}var XM=Y(T({},ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{pc(n.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function QM(n){let e=n[rn]??Object.create(ZM);return e.lView=n,e}var ZM=Y(T({},ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=_r(n.lView);for(;e&&!Vw(e[te]);)e=_r(e);e&&u_(e)},consumerOnSignalRead(){this.lView[rn]=this}});function Vw(n){return n.type!==2}var JM=100;function jw(n,e=!0,t=0){let i=n[Vn],r=i.rendererFactory,s=!1;s||r.begin?.();try{eT(n,t)}catch(o){throw e&&Rw(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function eT(n,e){let t=m_();try{X0(!0),If(n,e);let i=0;for(;fc(n);){if(i===JM)throw new B(103,!1);i++,If(n,1)}}finally{X0(t)}}function tT(n,e,t,i){let r=e[X];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Vn].inlineEffectRunner?.flush(),gp(e);let a=!0,l=null,c=null;s||(Vw(n)?(c=qM(e),l=Wa(c)):Ky()===null?(a=!1,c=QM(e),l=Wa(c)):e[rn]&&(uh(e[rn]),e[rn]=null));try{c_(e),HD(n.bindingStartIndex),t!==null&&Aw(n,e,t,2,i);let u=(r&3)===3;if(!s)if(u){let f=n.preOrderCheckHooks;f!==null&&Ml(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Tl(e,f,0,null),Oh(e,0)}if(o||nT(e),Bw(e,0),n.contentQueries!==null&&Tw(n,e),!s)if(u){let f=n.contentCheckHooks;f!==null&&Ml(e,f)}else{let f=n.contentHooks;f!==null&&Tl(e,f,1),Oh(e,1)}_M(n,e);let d=n.components;d!==null&&Uw(e,d,0);let h=n.viewQuery;if(h!==null&&Sf(2,h,i),!s)if(u){let f=n.viewCheckHooks;f!==null&&Ml(e,f)}else{let f=n.viewHooks;f!==null&&Tl(e,f,2),Oh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[kh]){for(let f of e[kh])f();e[kh]=null}s||(e[X]&=-73)}catch(u){throw s||pc(e),u}finally{c!==null&&(lh(c,l),a&&KM(c)),mp()}}function Bw(n,e){for(let t=U_(n);t!==null;t=$_(t))for(let i=Gt;i<t.length;i++){let r=t[i];Hw(r,e)}}function nT(n){for(let e=U_(n);e!==null;e=$_(e)){if(!(e[X]&jl.HasTransplantedViews))continue;let t=e[ds];for(let i=0;i<t.length;i++){let r=t[i];u_(r)}}}function iT(n,e,t){let i=Ui(e,n);Hw(i,t)}function Hw(n,e){cp(n)&&If(n,e)}function If(n,e){let i=n[te],r=n[X],s=n[rn],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&ch(s)),o||=!1,s&&(s.dirty=!1),n[X]&=-9217,o)tT(i,n,i.template,n[bn]);else if(r&8192){Bw(n,1);let a=i.components;a!==null&&Uw(n,a,1)}}function Uw(n,e,t){for(let i=0;i<e.length;i++)iT(n,e[i],t)}function Vp(n,e){let t=m_()?64:1088;for(n[Vn].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let i=_r(n);if(ef(n)&&!i)return n;n=i}return null}var xr=class{get rootNodes(){let e=this._lView,t=e[te];return Yl(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(e){this._lView[bn]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(li(e)){let t=e[Vl],i=t?t.indexOf(this):-1;i>-1&&(Ef(e,i),Ol(t,i))}this._attachedToViewContainer=!1}hw(this._lView[te],this._lView)}onDestroy(e){d_(this._lView,e)}markForCheck(){Vp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){nf(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,jw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ef(this._lView),t=this._lView[yr];t!==null&&!e&&Ip(t,this._lView),uw(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=ef(this._lView),i=this._lView[yr];i!==null&&!t&&dw(i,this._lView),nf(this._lView)}},Ar=(()=>{class n{static{this.__NG_ELEMENT_ID__=oT}}return n})(),rT=Ar,sT=class extends rT{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Ow(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new xr(r)}};function oT(){return jp(Tt(),ie())}function jp(n,e){return n.type&4?new sT(e,n,ws(n,e)):null}var F4=new RegExp(`^(\\d+)*(${II}|${DI})*(.*)`);var aT=()=>null;function Mf(n,e){return aT(n,e)}var fs=class{},Bp=new H("",{providedIn:"root",factory:()=>!1});var $w=new H(""),zw=new H(""),Tf=class{},Kl=class{};function lT(n){let e=Error(`No component factory found for ${Mt(n)}.`);return e[cT]=n,e}var cT="ngComponent";var Pf=class{resolveComponentFactory(e){throw lT(e)}},ps=class{static{this.NULL=new Pf}},gs=class{},En=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>uT()}}return n})();function uT(){let n=ie(),e=Tt(),t=Ui(e.index,n);return(Li(t)?t:n)[ze]}var dT=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>null})}}return n})();function Xl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Gh(r,a);else if(s==2){let l=a,c=e[++o];i=Gh(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Ql=class extends ps{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Vi(e);return new ms(t,this.ngModule)}};function pb(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Fi.None;e?t.push({propName:o,templateName:i,isSignal:(a&Fi.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function hT(n){let e=n.toLowerCase();return e==="svg"?o_:e==="math"?ID:null}var ms=class extends Kl{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=pb(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return pb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=oD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=ye(null);try{r=r||this.ngModule;let o=r instanceof qt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new sf(e,o):e,l=a.get(gs,null);if(l===null)throw new B(407,!1);let c=a.get(dT,null),u=a.get(fs,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?EM(h,i,this.componentDef.encapsulation,a):cw(h,f,hT(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let v=null;p!==null&&(v=xp(p,a,!0));let m=Rp(0,null,null,1,0,null,null,null,null,null,null),_=Ec(null,m,null,g,null,null,d,h,a,null,v);gp(_);let C,w,S=null;try{let E=this.componentDef,D,N=null;E.findHostDirectiveDefs?(D=[],N=new Map,E.findHostDirectiveDefs(E,D,N),D.push(E)):D=[E];let x=fT(_,p);S=pT(x,p,E,D,_,d,h),w=l_(m,Yt),p&&vT(h,E,p,i),t!==void 0&&yT(w,this.ngContentSelectors,t),C=mT(S,E,D,N,_,[bT]),Fp(m,_,null)}catch(E){throw S!==null&&ff(S),ff(_),E}finally{mp()}return new Nf(this.componentType,C,ws(w,_),_,w)}finally{ye(s)}}},Nf=class extends Tf{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xr(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Lp(s[te],s,r,e,t),this.previousInputValues.set(e,t);let o=Ui(this._tNode.index,s);Vp(o,1)}}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fT(n,e){let t=n[te],i=Yt;return n[i]=e,Cs(t,i,2,"#host",null)}function pT(n,e,t,i,r,s,o){let a=r[te];gT(i,n,e,o);let l=null;e!==null&&(l=xp(e,r[us]));let c=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Ec(r,Sw(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Af(a,n,i.length-1),xc(r,d),r[n.index]=d}function gT(n,e,t,i){for(let r of n)e.mergedAttrs=go(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Xl(e,e.mergedAttrs,!0),t!==null&&_w(i,t,e))}function mT(n,e,t,i,r,s){let o=Tt(),a=r[te],l=_n(o,r);Dw(a,r,o,t,null,i);for(let u=0;u<t.length;u++){let d=o.directiveStart+u,h=Er(r,a,d,o);Bi(h,r)}Iw(a,r,o),l&&Bi(l,r);let c=Er(r,a,o.directiveStart+o.componentOffset,o);if(n[bn]=r[bn]=c,s!==null)for(let u of s)u(c,e);return Tp(a,o,r),c}function vT(n,e,t,i){if(i)Xh(n,t,["ng-version","18.2.8"]);else{let{attrs:r,classes:s}=aD(e.selectors[0]);r&&Xh(n,t,r),s&&s.length>0&&bw(n,t,s.join(" "))}}function yT(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function bT(){let n=Tt();vc(ie()[te],n)}var Gi=(()=>{class n{static{this.__NG_ELEMENT_ID__=_T}}return n})();function _T(){let n=Tt();return Gw(n,ie())}var wT=Gi,Ww=class extends wT{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=yp(this._hostTNode,this._hostLView);if(D_(e)){let t=Hl(e,this._hostLView),i=Bl(e),r=t[te].data[i+8];return new mr(r,t)}else return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=gb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Mf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Df(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!xD(e),a;if(o)a=t;else{let p=t||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new ms(Vi(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let g=(o?c:this.parentInjector).get(qt,null);g&&(s=g)}let u=Vi(l.componentType??{}),d=Mf(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,Df(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(PD(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[bt],c=new Ww(l,l[jt],l[bt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Lw(o,r,s,i),e.attachToViewContainerRef(),Lb(Bh(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=gb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Ef(this._lContainer,t);i&&(Ol(Bh(this._lContainer),t),hw(i[te],i))}detach(e){let t=this._adjustIndex(e,-1),i=Ef(this._lContainer,t);return i&&Ol(Bh(this._lContainer),t)!=null?new xr(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function gb(n){return n[Vl]}function Bh(n){return n[Vl]||(n[Vl]=[])}function Gw(n,e){let t,i=e[n.index];return li(i)?t=i:(t=Mw(i,e,null,n),e[n.index]=t,xc(e,t)),ET(t,e,n,i),new Ww(t,n,e)}function CT(n,e){let t=n[ze],i=t.createComment(""),r=_n(e,n),s=gw(t,r);return ql(t,s,i,hM(t,r),!1),i}var ET=ST,xT=()=>!1;function AT(n,e,t){return xT(n,e,t)}function ST(n,e,t,i){if(n[br])return;let r;t.type&8?r=jn(i):r=CT(e,t),n[br]=r}var Rf=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},kf=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Hp(e,t).matches!==null&&this.queries[t].setDirty()}},Of=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=kT(e):this.predicate=e}},Lf=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ff=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,DT(t,s)),this.matchTNodeWithReadOption(e,t,Pl(t,e,s,!1,!1))}else i===Ar?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===lt||r===Gi||r===Ar&&t.type&4)this.addMatch(t.index,-2);else{let s=Pl(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function DT(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function IT(n,e){return n.type&11?ws(n,e):n.type&4?jp(n,e):null}function MT(n,e,t,i){return t===-1?IT(e,n):t===-2?TT(n,e,i):Er(n,n[te],t,e)}function TT(n,e,t){if(t===lt)return ws(e,n);if(t===Ar)return jp(e,n);if(t===Gi)return Gw(e,n)}function qw(n,e,t,i){let r=e[ri].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(MT(e,u,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function Vf(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=qw(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let d=Gt;d<u.length;d++){let h=u[d];h[yr]===h[bt]&&Vf(h[te],h,c,i)}if(u[ds]!==null){let d=u[ds];for(let h=0;h<d.length;h++){let f=d[h];Vf(f[te],f,c,i)}}}}}return i}function PT(n,e){return n[ri].queries[e].queryList}function NT(n,e,t){let i=new hf((t&4)===4);return SM(n,e,i,i.destroy),(e[ri]??=new kf).queries.push(new Rf(i))-1}function RT(n,e,t){let i=Ze();return i.firstCreatePass&&(OT(i,new Of(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),NT(i,ie(),e)}function kT(n){return n.split(",").map(e=>e.trim())}function OT(n,e,t){n.queries===null&&(n.queries=new Lf),n.queries.track(new Ff(e,t))}function Hp(n,e){return n.queries.getByIndex(e)}function LT(n,e){let t=n[te],i=Hp(t,e);return i.crossesNgTemplate?Vf(t,n,e,[]):qw(t,n,i,e)}var mb=new Set;function Do(n){mb.has(n)||(mb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function FT(n){return typeof n=="function"&&n[ti]!==void 0}function Io(n,e){Do("NgSignals");let t=o0(n),i=t[ti];return e?.equal&&(i.equal=e.equal),t.set=r=>dh(i,r),t.update=r=>a0(i,r),t.asReadonly=VT.bind(t),t}function VT(){let n=this[ti];if(n.readonlyFn===void 0){let e=()=>this();e[ti]=n,n.readonlyFn=e}return n.readonlyFn}function Yw(n){return FT(n)&&typeof n.set=="function"}function jT(n){let e=[],t=new Map;function i(r){let s=t.get(r);if(!s){let o=n(r);t.set(r,s=o.then($T))}return s}return Zl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),o.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>zT(s));e.push(l)}),HT(),Promise.all(e).then(()=>{})}var Zl=new Map,BT=new Set;function HT(){let n=Zl;return Zl=new Map,n}function UT(){return Zl.size===0}function $T(n){return typeof n=="string"?n:n.text()}function zT(n){BT.delete(n)}function WT(n){return Object.getPrototypeOf(n.prototype).constructor}function ln(n){let e=WT(n.type),t=!0,i=[n];for(;e;){let r;if(ji(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=xl(n.inputs),o.inputTransforms=xl(n.inputTransforms),o.declaredInputs=xl(n.declaredInputs),o.outputs=xl(n.outputs);let a=r.hostBindings;a&&XT(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&YT(n,l),c&&KT(n,c),GT(n,r),xS(n.outputs,r.outputs),ji(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===ln&&(t=!1)}}e=Object.getPrototypeOf(e)}qT(i)}function GT(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function qT(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=go(r.hostAttrs,t=go(t,r.hostAttrs))}}function xl(n){return n===as?{}:n===Vt?[]:n}function YT(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function KT(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function XT(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}var Hi=class{},bo=class{};var Jl=class extends Hi{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ql(this);let s=Gb(e);this._bootstrapComponents=lw(s.bootstrap),this._r3Injector=L_(e,t,[{provide:Hi,useValue:this},{provide:ps,useValue:this.componentFactoryResolver},...i],Mt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ec=class extends bo{constructor(e){super(),this.moduleType=e}create(e){return new Jl(this.moduleType,e,[])}};function QT(n,e,t){return new Jl(n,e,t,!1)}var jf=class extends Hi{constructor(e){super(),this.componentFactoryResolver=new Ql(this),this.instance=null;let t=new mo([...e.providers,{provide:Hi,useValue:this},{provide:ps,useValue:this.componentFactoryResolver}],e.parent||ap(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ac(n,e,t=null){return new jf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Kw(n){return Up(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ZT(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function Up(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Mo(n,e,t){return n[e]=t}function JT(n,e){return n[e]}function Hn(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function _o(n,e,t,i){let r=Hn(n,e,t);return Hn(n,e+1,i)||r}function e1(n,e,t,i,r){let s=_o(n,e,t,i);return Hn(n,e+2,r)||s}function Xw(n,e,t,i,r,s){let o=_o(n,e,t,i);return _o(n,e+2,r,s)||o}function t1(n){return(n.flags&32)===32}function n1(n,e,t,i,r,s,o,a,l){let c=e.consts,u=Cs(e,n,4,o||null,a||null);Op(e,t,u,hs(c,l)),vc(e,u);let d=u.tView=Rp(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Qw(n,e,t,i,r,s,o,a,l,c){let u=t+Yt,d=e.firstCreatePass?n1(u,e,n,i,r,s,o,a,l):e.data[u];Dr(d,!1);let h=i1(e,n,d,t);gc()&&wc(e,n,h,d),Bi(h,n);let f=Mw(h,n,h,d);return n[u]=f,xc(n,f),AT(f,d,n),hc(d)&&Pp(e,n,d),l!=null&&Np(n,d,c),d}function K(n,e,t,i,r,s,o,a){let l=ie(),c=Ze(),u=hs(c.consts,s);return Qw(l,c,n,e,t,i,r,u,o,a),K}var i1=r1;function r1(n,e,t,i){return mc(!0),e[ze].createComment("")}var is=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(is||{}),Zw=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Bf=class n{constructor(){this.ngZone=O(Ae),this.scheduler=O(fs),this.errorHandler=O(si,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[is.EarlyRead,is.Write,is.MixedReadWrite,is.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}},Hf=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function $p(n,e){!e?.injector&&CD($p);let t=e?.injector??O(_t);return eM(t)?(Do("NgAfterNextRender"),o1(n,t,e,!0)):a1}function s1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function o1(n,e,t,i){let r=e.get(Zw);r.impl??=e.get(Bf);let s=t?.phase??is.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(bp):null,a=new Hf(r.impl,s1(n,s),i,o);return r.impl.register(a),a}var a1={destroy(){}};function zp(n,e,t,i){return Hn(n,hp(),t)?e+os(t)+i:an}function l1(n,e,t,i,r,s){let o=BD(),a=_o(n,o,t,r);return fp(2),a?e+os(t)+i+os(r)+s:an}function Al(n,e){return n<<17|e<<2}function Sr(n){return n>>17&32767}function c1(n){return(n&2)==2}function u1(n,e){return n&131071|e<<17}function Uf(n){return n|2}function vs(n){return(n&131068)>>2}function Hh(n,e){return n&-131069|e<<2}function d1(n){return(n&1)===1}function $f(n){return n|1}function h1(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Sr(o),l=vs(o);n[i]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||xo(d,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let h=Sr(n[a+1]);n[i+1]=Al(h,a),h!==0&&(n[h+1]=Hh(n[h+1],i)),n[a+1]=u1(n[a+1],i)}else n[i+1]=Al(a,0),a!==0&&(n[a+1]=Hh(n[a+1],i)),a=i;else n[i+1]=Al(l,0),a===0?a=i:n[l+1]=Hh(n[l+1],i),l=i;c&&(n[i+1]=Uf(n[i+1])),vb(n,u,i,!0),vb(n,u,i,!1),f1(e,u,n,i,s),o=Al(a,l),s?e.classBindings=o:e.styleBindings=o}function f1(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&xo(s,e)>=0&&(t[i+1]=$f(t[i+1]))}function vb(n,e,t,i){let r=n[t+1],s=e===null,o=i?Sr(r):vs(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];p1(l,e)&&(a=!0,n[o+1]=i?$f(c):Uf(c)),o=i?Sr(c):vs(c)}a&&(n[t+1]=i?Uf(r):$f(r))}function p1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xo(n,e)>=0:!1}var vn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g1(n){return n.substring(vn.key,vn.keyEnd)}function m1(n){return v1(n),Jw(n,eC(n,0,vn.textEnd))}function Jw(n,e){let t=vn.textEnd;return t===e?-1:(e=vn.keyEnd=y1(n,vn.key=e,t),eC(n,e,t))}function v1(n){vn.key=0,vn.keyEnd=0,vn.value=0,vn.valueEnd=0,vn.textEnd=n.length}function eC(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function y1(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function R(n,e,t){let i=ie(),r=hp();if(Hn(i,r,e)){let s=Ze(),o=vp();kp(s,o,i,n,e,i[ze],t,!1)}return R}function zf(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";Lp(n,t,s[o],o,i)}function Sc(n,e){return _1(n,e,null,!0),Sc}function b1(n,e){for(let t=m1(e);t>=0;t=Jw(e,t))rp(n,g1(e),!0)}function _1(n,e,t,i){let r=ie(),s=Ze(),o=fp(2);if(s.firstUpdatePass&&nC(s,n,o,i),e!==an&&Hn(r,o,e)){let a=s.data[$i()];iC(s,a,r,r[ze],n,r[o+1]=I1(e,t),i,o)}}function w1(n,e,t,i){let r=Ze(),s=fp(2);r.firstUpdatePass&&nC(r,null,s,i);let o=ie();if(t!==an&&Hn(o,s,t)){let a=r.data[$i()];if(rC(a,i)&&!tC(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Gh(l,t||"")),zf(r,a,o,t,i)}else D1(r,a,o,o[ze],o[s+1],o[s+1]=S1(n,e,t),i,s)}}function tC(n,e){return e>=n.expandoStartIndex}function nC(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[$i()],o=tC(n,t);rC(s,i)&&e===null&&!o&&(e=!1),e=C1(r,s,e,i),h1(r,s,e,t,o,i)}}function C1(n,e,t,i){let r=WD(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Uh(null,n,e,t,i),t=wo(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Uh(r,n,e,t,i),s===null){let l=E1(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Uh(null,n,e,l[1],i),l=wo(l,e.attrs,i),x1(n,e,i,l))}else s=A1(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function E1(n,e,t){let i=t?e.classBindings:e.styleBindings;if(vs(i)!==0)return n[Sr(i)]}function x1(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Sr(r)]=i}function A1(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=wo(i,o,t)}return wo(i,e.attrs,t)}function Uh(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=wo(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function wo(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),rp(n,o,t?!0:e[++s]))}return n===void 0?null:n}function S1(n,e,t){if(t==null||t==="")return Vt;let i=[],r=Cn(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function D1(n,e,t,i,r,s,o,a){r===an&&(r=Vt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,g;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),p!==null&&iC(n,e,t,i,p,g,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}function iC(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=d1(c)?yb(l,e,t,r,vs(c),o):void 0;if(!tc(u)){tc(s)||c1(c)&&(s=yb(l,null,t,r,a,o));let d=a_($i(),t);yM(i,o,d,r,s)}}function yb(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=t[r+1];h===an&&(h=d?Vt:void 0);let f=d?Nh(h,i):u===i?h:void 0;if(c&&!tc(f)&&(f=Nh(l,i)),tc(f)&&(a=f,o))return a;let p=n[r+1];r=o?Sr(p):vs(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Nh(l,i))}return a}function tc(n){return n!==void 0}function I1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Mt(Cn(n)))),n}function rC(n,e){return(n.flags&(e?8:16))!==0}function sC(n,e,t){let i=ie(),r=zp(i,n,e,t);w1(rp,b1,r,!0)}function M1(n,e,t,i,r,s){let o=e.consts,a=hs(o,r),l=Cs(e,n,2,i,a);return Op(e,t,l,hs(o,s)),l.attrs!==null&&Xl(l,l.attrs,!1),l.mergedAttrs!==null&&Xl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(n,e,t,i){let r=ie(),s=Ze(),o=Yt+n,a=r[ze],l=s.firstCreatePass?M1(o,s,r,e,t,i):s.data[o],c=T1(s,r,l,a,e,n);r[o]=c;let u=hc(l);return Dr(l,!0),_w(a,c,l),!t1(l)&&gc()&&wc(s,r,c,l),kD()===0&&Bi(c,r),OD(),u&&(Pp(s,r,l),Tp(s,l,r)),i!==null&&Np(r,l),y}function b(){let n=Tt();up()?dp():(n=n.parent,Dr(n,!1));let e=n;FD(e)&&VD(),LD();let t=Ze();return t.firstCreatePass&&(vc(t,n),lp(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&JD(e)&&zf(t,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eI(e)&&zf(t,e,ie(),e.stylesWithoutHost,!1),b}function z(n,e,t,i){return y(n,e,t,i),b(),z}var T1=(n,e,t,i,r,s)=>(mc(!0),cw(i,r,KD()));function P1(n,e,t,i,r){let s=e.consts,o=hs(s,i),a=Cs(e,n,8,"ng-container",o);o!==null&&Xl(a,o,!0);let l=hs(s,r);return Op(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Kt(n,e,t){let i=ie(),r=Ze(),s=n+Yt,o=r.firstCreatePass?P1(s,r,i,e,t):r.data[s];Dr(o,!0);let a=N1(r,i,o,n);return i[s]=a,gc()&&wc(r,i,a,o),Bi(a,i),hc(o)&&(Pp(r,i,o),Tp(r,o,i)),t!=null&&Np(i,o),Kt}function Xt(){let n=Tt(),e=Ze();return up()?dp():(n=n.parent,Dr(n,!1)),e.firstCreatePass&&(vc(e,n),lp(n)&&e.queries.elementEnd(n)),Xt}var N1=(n,e,t,i)=>(mc(!0),rM(e[ze],""));function Se(){return ie()}var gr=void 0;function R1(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var k1=["en",[["a","p"],["AM","PM"],gr],[["AM","PM"],gr,gr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gr,"{1} 'at' {0}",gr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",R1],$h={};function cn(n){let e=O1(n),t=bb(e);if(t)return t;let i=e.split("-")[0];if(t=bb(i),t)return t;if(i==="en")return k1;throw new B(701,!1)}function bb(n){return n in $h||($h[n]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[n]),$h[n]}var Xe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Xe||{});function O1(n){return n.toLowerCase().replace(/_/g,"-")}var nc="en-US";var L1=nc;function F1(n){typeof n=="string"&&(L1=n.toLowerCase().replace(/_/g,"-"))}var V1=(n,e,t)=>{};function L(n,e,t,i){let r=ie(),s=Ze(),o=Tt();return oC(s,r,r[ze],o,n,e,i),L}function j1(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Fl],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function oC(n,e,t,i,r,s,o){let a=hc(i),c=n.firstCreatePass&&Nw(n),u=e[bn],d=Pw(e),h=!0;if(i.type&3||o){let g=_n(i,e),v=o?o(g):g,m=d.length,_=o?w=>o(jn(w[i.index])):i.index,C=null;if(!o&&a&&(C=j1(n,e,r,i.index)),C!==null){let w=C.__ngLastListenerFn__||C;w.__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,h=!1}else{s=wb(i,e,u,s),V1(g,r,s);let w=t.listen(v,r,s);d.push(s,w),c&&c.push(r,_,m,m+1)}}else s=wb(i,e,u,s);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let v=0;v<g;v+=2){let m=p[v],_=p[v+1],S=e[m][_].subscribe(s),E=d.length;d.push(s,S),c&&c.push(r,i.index,E,-(E+1))}}}function _b(n,e,t,i){let r=ye(null);try{return On(6,e,t),t(i)!==!1}catch(s){return Rw(n,s),!1}finally{On(7,e,t),ye(r)}}function wb(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Ui(n.index,e):e;Vp(o,5);let a=_b(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=_b(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function W(n=1){return qD(n)}function B1(n,e){let t=null,i=tD(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?Hb(n,s,!0):rD(i,s))return r}return t}function aC(n){let e=ie()[sn][jt];if(!e.projection){let t=n?n.length:1,i=e.projection=WS(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?B1(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function lC(n,e=0,t,i,r,s){let o=ie(),a=Ze(),l=i?n+1:null;l!==null&&Qw(o,a,l,i,r,s,null,t);let c=Cs(a,Yt+n,16,null,t||null);c.projection===null&&(c.projection=e),dp();let d=!o[vo]||p_();o[sn][jt].projection[c.projection]===null&&l!==null?H1(o,a,l):d&&(c.flags&32)!==32&&mM(a,o,c)}function H1(n,e,t){let i=Yt+t,r=e.data[i],s=n[i],o=Mf(s,r.tView.ssrId),a=Ow(n,r,void 0,{dehydratedView:o});Lw(s,a,0,Df(r,o))}function Es(n,e,t){return cC(n,"",e,"",t),Es}function cC(n,e,t,i,r){let s=ie(),o=zp(s,e,t,i);if(o!==an){let a=Ze(),l=vp();kp(a,l,s,n,o,s[ze],r,!1)}return cC}function ft(n,e,t){RT(n,e,t)}function ct(n){let e=ie(),t=Ze(),i=v_();pp(i+1);let r=Hp(t,i);if(n.dirty&&TD(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=LT(e,i);n.reset(s,wI),n.notifyOnChanges()}return!0}return!1}function ut(){return PT(ie(),v_())}function U1(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function M(n,e=""){let t=ie(),i=Ze(),r=n+Yt,s=i.firstCreatePass?Cs(i,r,1,e,null):i.data[r],o=$1(i,t,s,e,n);t[r]=o,gc()&&wc(i,t,o,s),Dr(s,!1)}var $1=(n,e,t,i,r)=>(mc(!0),nM(e[ze],i));function be(n){return Bt("",n,""),be}function Bt(n,e,t){let i=ie(),r=zp(i,n,e,t);return r!==an&&kw(i,$i(),r),Bt}function Wp(n,e,t,i,r){let s=ie(),o=l1(s,n,e,t,i,r);return o!==an&&kw(s,$i(),o),Wp}function xn(n,e,t){Yw(e)&&(e=e());let i=ie(),r=hp();if(Hn(i,r,e)){let s=Ze(),o=vp();kp(s,o,i,n,e,i[ze],t,!1)}return xn}function Wn(n,e){let t=Yw(n);return t&&n.set(e),t}function An(n,e){let t=ie(),i=Ze(),r=Tt();return oC(i,t,t[ze],r,n,e),An}function z1(n,e,t){let i=Ze();if(i.firstCreatePass){let r=ji(n);Wf(t,i.data,i.blueprint,r,!0),Wf(e,i.data,i.blueprint,r,!1)}}function Wf(n,e,t,i,r){if(n=It(n),Array.isArray(n))for(let s=0;s<n.length;s++)Wf(n[s],e,t,i,r);else{let s=Ze(),o=ie(),a=Tt(),l=cs(n)?n:It(n.provide),c=Zb(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(cs(n)||!n.multi){let f=new Cr(c,r,F),p=Wh(l,e,r?u:u+h,d);p===-1?(af($l(a,o),s,l),zh(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{let f=Wh(l,e,u+h,d),p=Wh(l,e,u,u+h),g=f>=0&&t[f],v=p>=0&&t[p];if(r&&!v||!r&&!g){af($l(a,o),s,l);let m=q1(r?G1:W1,t.length,r,i,c);!r&&v&&(t[p].providerFactory=m),zh(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),o.push(m)}else{let m=uC(t[r?p:f],c,!r&&i);zh(s,n,f>-1?f:p,m)}!r&&i&&v&&t[p].componentProviders++}}}function zh(n,e,t,i){let r=cs(e),s=gD(e);if(r||s){let l=(s?It(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function uC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wh(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function W1(n,e,t,i){return Gf(this.multi,[])}function G1(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Er(t,t[te],this.providerFactory.index,i);s=a.slice(0,o),Gf(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Gf(r,s);return s}function Gf(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function q1(n,e,t,i,r){let s=new Cr(n,t,F);return s.multi=[],s.index=e,s.componentProviders=0,uC(s,r,i&&!t),s}function qi(n,e=[]){return t=>{t.providersResolver=(i,r)=>z1(i,r?r(n):n,e)}}var Y1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Kb(!1,t.type),r=i.length>0?Ac([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:n,providedIn:"environment",factory:()=>new n($(qt))})}}return n})();function dC(n){Do("NgStandalone"),n.getStandaloneInjector=e=>e.get(Y1).getOrCreateStandaloneInjector(n)}function di(n,e,t,i){return K1(ie(),bs(),n,e,t,i)}function Pt(n,e,t,i,r){return gC(ie(),bs(),n,e,t,i,r)}function hC(n,e,t,i,r,s){return X1(ie(),bs(),n,e,t,i,r,s)}function fC(n,e,t,i,r,s,o){return Q1(ie(),bs(),n,e,t,i,r,s,o)}function pC(n,e,t,i,r,s,o,a){let l=bs()+n,c=ie(),u=Xw(c,l,t,i,r,s);return Hn(c,l+4,o)||u?Mo(c,l+5,a?e.call(a,t,i,r,s,o):e(t,i,r,s,o)):JT(c,l+5)}function Dc(n,e){let t=n[e];return t===an?void 0:t}function K1(n,e,t,i,r,s){let o=e+t;return Hn(n,o,r)?Mo(n,o+1,s?i.call(s,r):i(r)):Dc(n,o+1)}function gC(n,e,t,i,r,s,o){let a=e+t;return _o(n,a,r,s)?Mo(n,a+2,o?i.call(o,r,s):i(r,s)):Dc(n,a+2)}function X1(n,e,t,i,r,s,o,a){let l=e+t;return e1(n,l,r,s,o)?Mo(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Dc(n,l+3)}function Q1(n,e,t,i,r,s,o,a,l){let c=e+t;return Xw(n,c,r,s,o,a)?Mo(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Dc(n,c+4)}function Gp(n,e){let t=Ze(),i,r=n+Yt;t.firstCreatePass?(i=Z1(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=vr(i.type,!0)),o,a=Ft(F);try{let l=Ul(!1),c=s();return Ul(l),U1(t,ie(),r,c),c}finally{Ft(a)}}function Z1(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function qp(n,e,t,i){let r=n+Yt,s=ie(),o=MD(s,r);return J1(s,r)?gC(s,bs(),e,o.transform,t,i,o):o.transform(t,i)}function J1(n,e){return n[te].data[e].pure}var Sl=null;function eP(n){Sl!==null&&(n.defaultEncapsulation!==Sl.defaultEncapsulation||n.preserveWhitespaces!==Sl.preserveWhitespaces)||(Sl=n)}var Ic=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Yp=new H(""),To=new H(""),Mc=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Kp||(tP(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)($(Ae),$(Tc),$(To))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Tc=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Kp?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function tP(n){Kp=n}var Kp;function Ir(n){return!!n&&typeof n.then=="function"}function mC(n){return!!n&&typeof n.subscribe=="function"}var Yi=new H(""),vC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=O(Yi,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(Ir(s))t.push(s);else if(mC(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xp=new H("");function nP(){s0(()=>{throw new B(600,!1)})}function iP(n){return n.isBoundToModule}var rP=10;function sP(n,e,t){try{let i=t();return Ir(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function yC(n,e){return Array.isArray(e)?e.reduce(yC,n):T(T({},n),e)}var Sn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(bI),this.afterRenderManager=O(Zw),this.zonelessEnabled=O(Bp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ne,this.afterTick=new Ne,this.componentTypes=[],this.components=[],this.isStable=O(_s).hasPendingTasks.pipe(J(t=>!t)),this._injector=O(qt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Kl;if(!this._injector.get(vC).done){let h=!r&&Wb(t),f=!1;throw new B(405,f)}let o;r?o=t:o=this._injector.get(ps).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=iP(o)?void 0:this._injector.get(Hi),l=i||o.selector,c=o.create(_t.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Yp,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Nl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(gs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<rP;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)oP(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>fc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Nl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Xp,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function oP(n,e,t,i){if(!t&&!fc(n))return;jw(n,e,t&&!i?0:1)}var qf=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Pc=(()=>{class n{compileModuleSync(t){return new ec(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Gb(t),s=lw(r.declarations).reduce((o,a)=>{let l=Vi(a);return l&&o.push(new ms(l)),o},[]);return new qf(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aP=new H("");function lP(n,e,t){let i=new ec(t);return Promise.resolve(i)}function Cb(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var cP=(()=>{class n{constructor(){this.zone=O(Ae),this.changeDetectionScheduler=O(fs),this.applicationRef=O(Sn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uP({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ae(Y(T({},bC()),{scheduleInRootZone:t})),[{provide:Ae,useFactory:n},{provide:ls,multi:!0,useFactory:()=>{let i=O(cP,{optional:!0});return()=>i.initialize()}},{provide:ls,multi:!0,useFactory:()=>{let i=O(dP);return()=>{i.initialize()}}},e===!0?{provide:$w,useValue:!0}:[],{provide:zw,useValue:t??F_}]}function bC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var dP=(()=>{class n{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=O(Ae),this.pendingTasks=O(_s)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hP=(()=>{class n{constructor(){this.appRef=O(Sn),this.taskService=O(_s),this.ngZone=O(Ae),this.zonelessEnabled=O(Bp),this.disableScheduling=O($w,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(zw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?tb:V_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,tb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fP(){return typeof $localize<"u"&&$localize.locale||nc}var Nc=new H("",{providedIn:"root",factory:()=>O(Nc,le.Optional|le.SkipSelf)||fP()});var ic=new H("");function Dl(n){return!n.moduleRef}function pP(n){let e=Dl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ae);return t.run(()=>{Dl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(si,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Dl(n)){let s=()=>e.destroy(),o=n.platformInjector.get(ic);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(ic);o.add(s),n.moduleRef.onDestroy(()=>{Nl(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return sP(i,t,()=>{let s=e.get(vC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Nc,nc);if(F1(o||nc),Dl(n)){let a=e.get(Sn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return gP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function gP(n,e){let t=n.injector.get(Sn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new B(-403,!1);e.push(n)}var _C=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=i?.scheduleInRootZone,s=()=>yI(i?.ngZone,Y(T({},bC({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),o=i?.ignoreChangesOutsideZone,a=[uP({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:fs,useExisting:hP}],l=QT(t.moduleType,this.injector,a);return pP({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let r=yC({},i);return lP(this.injector,r,t).then(s=>this.bootstrapModuleFactory(s,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(ic,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)($(_t))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),fo=null,wC=new H("");function mP(n){if(fo&&!fo.get(wC,!1))throw new B(400,!1);nP(),fo=n;let e=n.get(_C);return bP(n),e}function Qp(n,e,t=[]){let i=`Platform: ${e}`,r=new H(i);return(s=[])=>{let o=CC();if(!o||o.injector.get(wC,!1)){let a=[...t,...s,{provide:r,useValue:!0}];n?n(a):mP(vP(a,i))}return yP(r)}}function vP(n=[],e){return _t.create({name:e,providers:[{provide:cc,useValue:"platform"},{provide:ic,useValue:new Set([()=>fo=null])},...n]})}function yP(n){let e=CC();if(!e)throw new B(401,!1);return e}function CC(){return fo?.get(_C)??null}function bP(n){n.get(Cp,null)?.forEach(t=>t())}function EC(){return!1}var Mr=(()=>{class n{static{this.__NG_ELEMENT_ID__=_P}}return n})();function _P(n){return wP(Tt(),ie(),(n&16)===16)}function wP(n,e,t){if(dc(n)&&!t){let i=Ui(n.index,e);return new xr(i,i)}else if(n.type&175){let i=e[sn];return new xr(i,e)}return null}var Yf=class{constructor(){}supports(e){return Kw(e)}create(e){return new Kf(e)}},CP=(n,e)=>e,Kf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CP}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<Eb(i,r,s)?t:i,a=Eb(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Kw(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,ZT(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Xf(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new rc),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xf=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},rc=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Qf,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Eb(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var Zf=class{constructor(){}supports(e){return e instanceof Map||Up(e)}create(){return new Jf}},Jf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Up(e)))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new ep(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},ep=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function xb(){return new Zp([new Yf])}var Zp=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:xb})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||xb()),deps:[[n,new ac,new Eo]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new B(901,!1)}}return n})();function Ab(){return new Jp([new Zf])}var Jp=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:Ab})}constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Ab()),deps:[[n,new ac,new Eo]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new B(901,!1)}}return n})();var xC=Qp(null,"core",[]),AC=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)($(Sn))}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({})}}return n})();function Rc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Po(n,e){Do("NgSignals");let t=n0(n);return e?.equal&&(t[ti].equal=e.equal),t}function hi(n){let e=ye(null);try{return n()}finally{ye(e)}}function SC(n){let e=Vi(n);if(!e)return null;let t=new ms(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var RC=null;function Gn(){return RC}function kC(n){RC??=n}var Uc=class{};var Rt=new H(""),cg=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>O(AP),providedIn:"platform"})}}return n})(),OC=new H(""),AP=(()=>{class n extends cg{constructor(){super(),this._doc=O(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(t){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function ug(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function DC(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function pi(n){return n&&n[0]!=="?"?"?"+n:n}var Tr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>O(dg),providedIn:"root"})}}return n})(),LC=new H(""),dg=(()=>{class n extends Tr{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ug(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+pi(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(cg),$(LC,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FC=(()=>{class n extends Tr{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=ug(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(cg),$(LC,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),xs=(()=>{class n{constructor(t){this._subject=new fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=IP(DC(IC(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+pi(i))}normalize(t){return n.stripTrailingSlash(DP(this._basePath,IC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=pi}static{this.joinWithSlash=ug}static{this.stripTrailingSlash=DC}static{this.\u0275fac=function(i){return new(i||n)($(Tr))}}static{this.\u0275prov=V({token:n,factory:()=>SP(),providedIn:"root"})}}return n})();function SP(){return new xs($(Tr))}function DP(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function IC(n){return n.replace(/\/index.html$/,"")}function IP(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Nt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Nt||{}),Oe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Oe||{}),Qt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Qt||{}),Ki={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function MP(n){return cn(n)[Xe.LocaleId]}function TP(n,e,t){let i=cn(n),r=[i[Xe.DayPeriodsFormat],i[Xe.DayPeriodsStandalone]],s=un(r,e);return un(s,t)}function PP(n,e,t){let i=cn(n),r=[i[Xe.DaysFormat],i[Xe.DaysStandalone]],s=un(r,e);return un(s,t)}function NP(n,e,t){let i=cn(n),r=[i[Xe.MonthsFormat],i[Xe.MonthsStandalone]],s=un(r,e);return un(s,t)}function RP(n,e){let i=cn(n)[Xe.Eras];return un(i,e)}function kc(n,e){let t=cn(n);return un(t[Xe.DateFormat],e)}function Oc(n,e){let t=cn(n);return un(t[Xe.TimeFormat],e)}function Lc(n,e){let i=cn(n)[Xe.DateTimeFormat];return un(i,e)}function Wc(n,e){let t=cn(n),i=t[Xe.NumberSymbols][e];if(typeof i>"u"){if(e===Ki.CurrencyDecimal)return t[Xe.NumberSymbols][Ki.Decimal];if(e===Ki.CurrencyGroup)return t[Xe.NumberSymbols][Ki.Group]}return i}function VC(n){if(!n[Xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kP(n){let e=cn(n);return VC(e),(e[Xe.ExtraData][2]||[]).map(i=>typeof i=="string"?eg(i):[eg(i[0]),eg(i[1])])}function OP(n,e,t){let i=cn(n);VC(i);let r=[i[Xe.ExtraData][0],i[Xe.ExtraData][1]],s=un(r,e)||[];return un(s,t)||[]}function un(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function eg(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var LP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fc={},FP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,gi=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(gi||{}),Ee=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ee||{}),Ce=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ce||{});function VP(n,e,t,i){let r=qP(n);e=fi(t,e)||e;let o=[],a;for(;e;)if(a=FP.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=BC(i,l),r=GP(r,i,!0));let c="";return o.forEach(u=>{let d=zP(u);c+=d?d(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function $c(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function fi(n,e){let t=MP(n);if(Fc[t]??={},Fc[t][e])return Fc[t][e];let i="";switch(e){case"shortDate":i=kc(n,Qt.Short);break;case"mediumDate":i=kc(n,Qt.Medium);break;case"longDate":i=kc(n,Qt.Long);break;case"fullDate":i=kc(n,Qt.Full);break;case"shortTime":i=Oc(n,Qt.Short);break;case"mediumTime":i=Oc(n,Qt.Medium);break;case"longTime":i=Oc(n,Qt.Long);break;case"fullTime":i=Oc(n,Qt.Full);break;case"short":let r=fi(n,"shortTime"),s=fi(n,"shortDate");i=Vc(Lc(n,Qt.Short),[r,s]);break;case"medium":let o=fi(n,"mediumTime"),a=fi(n,"mediumDate");i=Vc(Lc(n,Qt.Medium),[o,a]);break;case"long":let l=fi(n,"longTime"),c=fi(n,"longDate");i=Vc(Lc(n,Qt.Long),[l,c]);break;case"full":let u=fi(n,"fullTime"),d=fi(n,"fullDate");i=Vc(Lc(n,Qt.Full),[u,d]);break}return i&&(Fc[t][e]=i),i}function Vc(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Dn(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function jP(n,e){return Dn(n,3).substring(0,e)}function Je(n,e,t=0,i=!1,r=!1){return function(s,o){let a=BP(n,s);if((t>0||a>-t)&&(a+=t),n===Ee.Hours)a===0&&t===-12&&(a=12);else if(n===Ee.FractionalSeconds)return jP(a,e);let l=Wc(o,Ki.MinusSign);return Dn(a,e,l,i,r)}}function BP(n,e){switch(n){case Ee.FullYear:return e.getFullYear();case Ee.Month:return e.getMonth();case Ee.Date:return e.getDate();case Ee.Hours:return e.getHours();case Ee.Minutes:return e.getMinutes();case Ee.Seconds:return e.getSeconds();case Ee.FractionalSeconds:return e.getMilliseconds();case Ee.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Fe(n,e,t=Nt.Format,i=!1){return function(r,s){return HP(r,s,n,e,t,i)}}function HP(n,e,t,i,r,s){switch(t){case Ce.Months:return NP(e,r,i)[n.getMonth()];case Ce.Days:return PP(e,r,i)[n.getDay()];case Ce.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=kP(e),u=OP(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=o>=f.hours&&a>=f.minutes,v=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&v)return!0}else if(g||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return TP(e,r,i)[o<12?0:1];case Ce.Eras:return RP(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function jc(n){return function(e,t,i){let r=-1*i,s=Wc(t,Ki.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case gi.Short:return(r>=0?"+":"")+Dn(o,2,s)+Dn(Math.abs(r%60),2,s);case gi.ShortGMT:return"GMT"+(r>=0?"+":"")+Dn(o,1,s);case gi.Long:return"GMT"+(r>=0?"+":"")+Dn(o,2,s)+":"+Dn(Math.abs(r%60),2,s);case gi.Extended:return i===0?"Z":(r>=0?"+":"")+Dn(o,2,s)+":"+Dn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var UP=0,Hc=4;function $P(n){let e=$c(n,UP,1).getDay();return $c(n,0,1+(e<=Hc?Hc:Hc+7)-e)}function jC(n){let e=n.getDay(),t=e===0?-3:Hc-e;return $c(n.getFullYear(),n.getMonth(),n.getDate()+t)}function tg(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=jC(t),o=$P(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Dn(r,n,Wc(i,Ki.MinusSign))}}function Bc(n,e=!1){return function(t,i){let s=jC(t).getFullYear();return Dn(s,n,Wc(i,Ki.MinusSign),e)}}var ng={};function zP(n){if(ng[n])return ng[n];let e;switch(n){case"G":case"GG":case"GGG":e=Fe(Ce.Eras,Oe.Abbreviated);break;case"GGGG":e=Fe(Ce.Eras,Oe.Wide);break;case"GGGGG":e=Fe(Ce.Eras,Oe.Narrow);break;case"y":e=Je(Ee.FullYear,1,0,!1,!0);break;case"yy":e=Je(Ee.FullYear,2,0,!0,!0);break;case"yyy":e=Je(Ee.FullYear,3,0,!1,!0);break;case"yyyy":e=Je(Ee.FullYear,4,0,!1,!0);break;case"Y":e=Bc(1);break;case"YY":e=Bc(2,!0);break;case"YYY":e=Bc(3);break;case"YYYY":e=Bc(4);break;case"M":case"L":e=Je(Ee.Month,1,1);break;case"MM":case"LL":e=Je(Ee.Month,2,1);break;case"MMM":e=Fe(Ce.Months,Oe.Abbreviated);break;case"MMMM":e=Fe(Ce.Months,Oe.Wide);break;case"MMMMM":e=Fe(Ce.Months,Oe.Narrow);break;case"LLL":e=Fe(Ce.Months,Oe.Abbreviated,Nt.Standalone);break;case"LLLL":e=Fe(Ce.Months,Oe.Wide,Nt.Standalone);break;case"LLLLL":e=Fe(Ce.Months,Oe.Narrow,Nt.Standalone);break;case"w":e=tg(1);break;case"ww":e=tg(2);break;case"W":e=tg(1,!0);break;case"d":e=Je(Ee.Date,1);break;case"dd":e=Je(Ee.Date,2);break;case"c":case"cc":e=Je(Ee.Day,1);break;case"ccc":e=Fe(Ce.Days,Oe.Abbreviated,Nt.Standalone);break;case"cccc":e=Fe(Ce.Days,Oe.Wide,Nt.Standalone);break;case"ccccc":e=Fe(Ce.Days,Oe.Narrow,Nt.Standalone);break;case"cccccc":e=Fe(Ce.Days,Oe.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(Ce.Days,Oe.Abbreviated);break;case"EEEE":e=Fe(Ce.Days,Oe.Wide);break;case"EEEEE":e=Fe(Ce.Days,Oe.Narrow);break;case"EEEEEE":e=Fe(Ce.Days,Oe.Short);break;case"a":case"aa":case"aaa":e=Fe(Ce.DayPeriods,Oe.Abbreviated);break;case"aaaa":e=Fe(Ce.DayPeriods,Oe.Wide);break;case"aaaaa":e=Fe(Ce.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":e=Fe(Ce.DayPeriods,Oe.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=Fe(Ce.DayPeriods,Oe.Wide,Nt.Standalone,!0);break;case"bbbbb":e=Fe(Ce.DayPeriods,Oe.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(Ce.DayPeriods,Oe.Abbreviated,Nt.Format,!0);break;case"BBBB":e=Fe(Ce.DayPeriods,Oe.Wide,Nt.Format,!0);break;case"BBBBB":e=Fe(Ce.DayPeriods,Oe.Narrow,Nt.Format,!0);break;case"h":e=Je(Ee.Hours,1,-12);break;case"hh":e=Je(Ee.Hours,2,-12);break;case"H":e=Je(Ee.Hours,1);break;case"HH":e=Je(Ee.Hours,2);break;case"m":e=Je(Ee.Minutes,1);break;case"mm":e=Je(Ee.Minutes,2);break;case"s":e=Je(Ee.Seconds,1);break;case"ss":e=Je(Ee.Seconds,2);break;case"S":e=Je(Ee.FractionalSeconds,1);break;case"SS":e=Je(Ee.FractionalSeconds,2);break;case"SSS":e=Je(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=jc(gi.Short);break;case"ZZZZZ":e=jc(gi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jc(gi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=jc(gi.Long);break;default:return null}return ng[n]=e,e}function BC(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function WP(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function GP(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=BC(e,r);return WP(n,i*(s-r))}function qP(n){if(MC(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return $c(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(LP))return YP(i)}let e=new Date(n);if(!MC(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function YP(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function MC(n){return n instanceof Date&&!isNaN(n.valueOf())}function HC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var ig=/\s+/,TC=[],dn=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=TC,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ig):TC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ig):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(ig).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(F(lt),F(En))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var rg=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},et=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new rg(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),PC(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);PC(s,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(F(Gi),F(Ar),F(Zp))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function PC(n,e){n.context.$implicit=e.item}var wt=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new sg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(F(Gi),F(Ar))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),sg=class{constructor(){this.$implicit=null,this.ngIf=null}};function NC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Mt(e)}'.`)}var As=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,s]=t.split("."),o=r.indexOf("-")===-1?void 0:Bn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(F(lt),F(Jp),F(En))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function KP(n,e){return new B(2100,!1)}var XP="mediumDate",QP=new H(""),ZP=new H(""),UC=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(t==null||t===""||t!==t)return null;try{let o=i??this.defaultOptions?.dateFormat??XP,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return VP(t,o,s||this.locale,a)}catch(o){throw KP(n,o.message)}}static{this.\u0275fac=function(i){return new(i||n)(F(Nc,16),F(QP,24),F(ZP,24))}}static{this.\u0275pipe=Ub({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Ss=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({})}}return n})(),hg="browser",JP="server";function Gc(n){return n===hg}function fg(n){return n===JP}var $C=(()=>{class n{static{this.\u0275prov=V({token:n,providedIn:"root",factory:()=>Gc(O(wn))?new og(O(Rt),window):new ag})}}return n})(),og=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=eN(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function eN(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var ag=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},zc=class{};var mg=class extends Uc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vg=class n extends mg{static makeCurrent(){kC(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=tN();return t==null?null:nN(t)}resetBaseElement(){No=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HC(document.cookie,e)}},No=null;function tN(){return No=No||document.querySelector("base"),No?No.getAttribute("href"):null}function nN(n){return new URL(n,document.baseURI).pathname}var yg=class{addToWindow(e){vt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new B(5103,!1);return s},vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),vt.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=vt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?Gn().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},iN=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),bg=new H(""),qC=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)($(bg),$(Ae))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),qc=class{constructor(e){this._doc=e}},pg="ng-app-id",YC=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fg(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${pg}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(pg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(pg,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)($(Rt),$(yc),$(Ep,8),$(wn))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wg=/%COMP%/g,KC="%COMP%",rN=`_nghost-${KC}`,sN=`_ngcontent-${KC}`,oN=!0,aN=new H("",{providedIn:"root",factory:()=>oN});function lN(n){return sN.replace(wg,n)}function cN(n){return rN.replace(wg,n)}function XC(n,e){return e.map(t=>t.replace(wg,n))}var zC=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fg(a),this.defaultRenderer=new Ro(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Fn.ShadowDom&&(i=Y(T({},i),{encapsulation:Fn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Yc?r.applyToHost(t):r instanceof ko&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Fn.Emulated:s=new Yc(l,c,i,this.appId,u,o,a,d);break;case Fn.ShadowDom:return new _g(l,c,t,i,o,a,this.nonce,d);default:s=new ko(l,c,i,u,o,a,d);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)($(qC),$(YC),$(yc),$(aN),$(Rt),$(wn),$(Ae),$(Ep))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Ro=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WC(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(WC(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new B(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=gg[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=gg[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Bn.DashCase|Bn.Important)?e.style.setProperty(t,i,r&Bn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Bn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function WC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var _g=class extends Ro{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=XC(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ko=class extends Ro{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?XC(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yc=class extends ko{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=lN(c),this.hostAttr=cN(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},uN=(()=>{class n extends qc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)($(Rt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),GC=["alt","control","meta","shift"],dN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},fN=(()=>{class n extends qc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),GC.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=dN[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),GC.forEach(o=>{if(o!==r){let a=hN[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)($(Rt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function pN(){vg.makeCurrent()}function gN(){return new si}function mN(){return W_(document),document}var vN=[{provide:wn,useValue:hg},{provide:Cp,useValue:pN,multi:!0},{provide:Rt,useFactory:mN,deps:[]}],QC=Qp(xC,"browser",vN),yN=new H(""),bN=[{provide:To,useClass:yg,deps:[]},{provide:Yp,useClass:Mc,deps:[Ae,Tc,To]},{provide:Mc,useClass:Mc,deps:[Ae,Tc,To]}],_N=[{provide:cc,useValue:"root"},{provide:si,useFactory:gN,deps:[]},{provide:bg,useClass:uN,multi:!0,deps:[Rt,Ae,wn]},{provide:bg,useClass:fN,multi:!0,deps:[Rt]},zC,YC,qC,{provide:gs,useExisting:zC},{provide:zc,useClass:iN,deps:[]},[]],ZC=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:yc,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)($(yN,12))}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({providers:[..._N,...bN],imports:[Ss,AC]})}}return n})();var JC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)($(Rt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Cg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=$(wN),r},providedIn:"root"})}}return n})(),wN=(()=>{class n extends Cg{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case zn.NONE:return i;case zn.HTML:return Wi(i,"HTML")?Cn(i):Ap(this._doc,String(i)).toString();case zn.STYLE:return Wi(i,"Style")?Cn(i):i;case zn.SCRIPT:if(Wi(i,"Script"))return Cn(i);throw new B(5200,!1);case zn.URL:return Wi(i,"URL")?Cn(i):_c(String(i));case zn.RESOURCE_URL:if(Wi(i,"ResourceURL"))return Cn(i);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(t){return K_(t)}bypassSecurityTrustStyle(t){return X_(t)}bypassSecurityTrustScript(t){return Q_(t)}bypassSecurityTrustUrl(t){return Z_(t)}bypassSecurityTrustResourceUrl(t){return J_(t)}static{this.\u0275fac=function(i){return new(i||n)($(Rt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var re="primary",Ko=Symbol("RouteTitle"),Ig=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ns(n){return new Ig(n)}function EN(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qn(n[t],e[t]))return!1;return!0}function qn(n,e){let t=n?Mg(n):void 0,i=e?Mg(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!uE(n[r],e[r]))return!1;return!0}function Mg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function dE(n){return n.length>0?n[n.length-1]:null}function Qi(n){return Eh(n)?n:Ir(n)?xe(Promise.resolve(n)):q(n)}var AN={exact:fE,subset:pE},hE={exact:SN,subset:DN,ignored:()=>!0};function eE(n,e,t){return AN[t.paths](n.root,e.root,t.matrixParams)&&hE[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function SN(n,e){return qn(n,e)}function fE(n,e,t){if(!Nr(n.segments,e.segments)||!Qc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!fE(n.children[i],e.children[i],t))return!1;return!0}function DN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uE(n[t],e[t]))}function pE(n,e,t){return gE(n,e,e.segments,t)}function gE(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Nr(r,t)||e.hasChildren()||!Qc(r,t,i))}else if(n.segments.length===t.length){if(!Nr(n.segments,t)||!Qc(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!pE(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Nr(n.segments,r)||!Qc(n.segments,r,i)||!n.children[re]?!1:gE(n.children[re],e,s,i)}}function Qc(n,e,t){return e.every((i,r)=>hE[t](n[r].parameters,i.parameters))}var vi=class{constructor(e=new De([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ns(this.queryParams),this._queryParamMap}toString(){return TN.serialize(this)}},De=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zc(this)}},Pr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ns(this.parameters),this._parameterMap}toString(){return vE(this)}};function IN(n,e){return Nr(n,e)&&n.every((t,i)=>qn(t.parameters,e[i].parameters))}function Nr(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function MN(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===re&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==re&&(t=t.concat(e(r,i)))}),t}var Xo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>new Rs,providedIn:"root"})}}return n})(),Rs=class{parse(e){let t=new Pg(e);return new vi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Oo(e.root,!0)}`,i=RN(e.queryParams),r=typeof e.fragment=="string"?`#${PN(e.fragment)}`:"";return`${t}${i}${r}`}},TN=new Rs;function Zc(n){return n.segments.map(e=>vE(e)).join("/")}function Oo(n,e){if(!n.hasChildren())return Zc(n);if(e){let t=n.children[re]?Oo(n.children[re],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==re&&i.push(`${r}:${Oo(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=MN(n,(i,r)=>r===re?[Oo(n.children[re],!1)]:[`${r}:${Oo(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${Zc(n)}/${t[0]}`:`${Zc(n)}/(${t.join("//")})`}}function mE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(n){return mE(n).replace(/%3B/gi,";")}function PN(n){return encodeURI(n)}function Tg(n){return mE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(n){return decodeURIComponent(n)}function tE(n){return Jc(n.replace(/\+/g,"%20"))}function vE(n){return`${Tg(n.path)}${NN(n.parameters)}`}function NN(n){return Object.entries(n).map(([e,t])=>`;${Tg(e)}=${Tg(t)}`).join("")}function RN(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Kc(t)}=${Kc(r)}`).join("&"):`${Kc(t)}=${Kc(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var kN=/^[^\/()?;#]+/;function xg(n){let e=n.match(kN);return e?e[0]:""}var ON=/^[^\/()?;=#]+/;function LN(n){let e=n.match(ON);return e?e[0]:""}var FN=/^[^=?&#]+/;function VN(n){let e=n.match(FN);return e?e[0]:""}var jN=/^[^&#]+/;function BN(n){let e=n.match(jN);return e?e[0]:""}var Pg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[re]=new De(e,t)),i}parseSegment(){let e=xg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Pr(Jc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=LN(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=xg(this.remaining);r&&(i=r,this.capture(i))}e[Jc(t)]=Jc(i)}parseQueryParam(e){let t=VN(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=BN(this.remaining);o&&(i=o,this.capture(i))}let r=tE(t),s=tE(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=xg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new B(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[re]:new De([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function yE(n){return n.segments.length>0?new De([],{[re]:n}):n}function bE(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=bE(r);if(i===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new De(n.segments,e);return HN(t)}function HN(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new De(n.segments.concat(e.segments),e.children)}return n}function Ho(n){return n instanceof vi}function UN(n,e,t=null,i=null){let r=_E(n);return wE(r,e,t,i)}function _E(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new De(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=yE(i);return e??r}function wE(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Ag(r,r,r,t,i);let s=$N(e);if(s.toRoot())return Ag(r,r,new De([],{}),t,i);let o=zN(s,r,n),a=o.processChildren?Vo(o.segmentGroup,o.index,s.commands):EE(o.segmentGroup,o.index,s.commands);return Ag(r,o.segmentGroup,a,t,i)}function eu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Uo(n){return typeof n=="object"&&n!=null&&n.outlets}function Ag(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=CE(n,e,t);let a=yE(bE(o));return new vi(a,s,r)}function CE(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=CE(s,e,t)}),new De(n.segments,i)}var tu=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&eu(i[0]))throw new B(4003,!1);let r=i.find(Uo);if(r&&r!==dE(i))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $N(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tu(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new tu(t,e,i)}var Ms=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function zN(n,e,t){if(n.isAbsolute)return new Ms(e,!0,0);if(!t)return new Ms(e,!1,NaN);if(t.parent===null)return new Ms(t,!0,0);let i=eu(n.commands[0])?0:1,r=t.segments.length-1+i;return WN(t,r,n.numberOfDoubleDots)}function WN(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new B(4005,!1);r=i.segments.length}return new Ms(i,!1,r-s)}function GN(n){return Uo(n[0])?n[0].outlets:{[re]:n}}function EE(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Vo(n,e,t);let i=qN(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new De(n.segments.slice(0,i.pathIndex),{});return s.children[re]=new De(n.segments.slice(i.pathIndex),n.children),Vo(s,0,r)}else return i.match&&r.length===0?new De(n.segments,{}):i.match&&!n.hasChildren()?Ng(n,e,t):i.match?Vo(n,0,r):Ng(n,e,t)}function Vo(n,e,t){if(t.length===0)return new De(n.segments,{});{let i=GN(t),r={};if(Object.keys(i).some(s=>s!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let s=Vo(n.children[re],e,t);return new De(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=EE(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new De(n.segments,r)}}function qN(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Uo(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!iE(l,c,o))return s;i+=2}else{if(!iE(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Ng(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Uo(s)){let l=YN(s.outlets);return new De(i,l)}if(r===0&&eu(t[0])){let l=n.segments[e];i.push(new Pr(l.path,nE(t[0]))),r++;continue}let o=Uo(s)?s.outlets[re]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&eu(a)?(i.push(new Pr(o,nE(a))),r+=2):(i.push(new Pr(o,{})),r++)}return new De(i,{})}function YN(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Ng(new De([],{}),0,i))}),e}function nE(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function iE(n,e,t){return n==t.path&&qn(e,t.parameters)}var jo="imperative",pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{}),hn=class{constructor(e,t){this.id=e,this.url=t}},ks=class extends hn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=pt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends hn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Jt||{}),nu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(nu||{}),mi=class extends hn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xi=class extends hn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=pt.NavigationSkipped}},$o=class extends hn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},iu=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rg=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends hn{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Og=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends hn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vg=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jg=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ru=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=pt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zo=class{},Os=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function KN(n,e){return n.providers&&!n._injector&&(n._injector=Ac(n.providers,e,`Route: ${n.path}`)),n._injector??e}function In(n){return n.outlet||re}function XN(n,e){let t=n.filter(i=>In(i)===e);return t.push(...n.filter(i=>In(i)!==e)),t}function Qo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $g=class{get injector(){return Qo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Zo(this.rootInjector),this.attachRef=null}},Zo=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new $g(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)($(qt))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),su=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=zg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=zg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Wg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Wg(e,this._root).map(t=>t.value)}};function zg(n,e){if(n===e.value)return e;for(let t of e.children){let i=zg(n,t);if(i)return i}return null}function Wg(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Wg(n,t);if(i.length)return i.unshift(e),i}return[]}var Zt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Is(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ou=class extends su{constructor(e,t){super(e),this.snapshot=t,em(this,e)}toString(){return this.snapshot.toString()}};function xE(n){let e=QN(n),t=new $e([new Pr("",{})]),i=new $e({}),r=new $e({}),s=new $e({}),o=new $e(""),a=new Ls(t,i,s,o,r,re,n,e.root);return a.snapshot=e.root,new ou(new Zt(a,[]),e)}function QN(n){let e={},t={},i={},r="",s=new Ts([],e,i,r,t,re,n,null,{});return new lu("",new Zt(s,[]))}var Ls=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Ko]))??q(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Ns(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Ns(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function au(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:T(T({},e.params),n.params),data:T(T({},e.data),n.data),resolve:T(T(T(T({},n.data),e.data),r?.data),n._resolvedData)}:i={params:T({},n.params),data:T({},n.data),resolve:T(T({},n.data),n._resolvedData??{})},r&&SE(r)&&(i.resolve[Ko]=r.title),i}var Ts=class{get title(){return this.data?.[Ko]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ns(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ns(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lu=class extends su{constructor(e,t){super(t),this.url=e,em(this,t)}toString(){return AE(this._root)}};function em(n,e){e.value._routerState=n,e.children.forEach(t=>em(n,t))}function AE(n){let e=n.children.length>0?` { ${n.children.map(AE).join(", ")} } `:"";return`${n.value}${e}`}function Sg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qn(e.params,t.params)||n.paramsSubject.next(t.params),xN(e.url,t.url)||n.urlSubject.next(t.url),qn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Gg(n,e){let t=qn(n.params,e.params)&&IN(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Gg(n.parent,e.parent))}function SE(n){return typeof n.title=="string"||n.title===null}var ZN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new fe,this.deactivateEvents=new fe,this.attachEvents=new fe,this.detachEvents=new fe,this.parentContexts=O(Zo),this.location=O(Gi),this.changeDetector=O(Mr),this.inputBinder=O(fu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new qg(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]})}}return n})(),qg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ls?this.route:e===Zo?this.childContexts:this.parent.get(e,t)}},fu=new H(""),rE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=ao([i.queryParams,i.params,i.data]).pipe(mt(([s,o,a],l)=>(a=T(T(T({},s),o),a),l===0?q(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=SC(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function JN(n,e,t){let i=Wo(n,e._root,t?t._root:void 0);return new ou(i,e)}function Wo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=eR(n,e,t);return new Zt(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wo(n,a)),o}}let i=tR(e.value),r=e.children.map(s=>Wo(n,s));return new Zt(i,r)}}function eR(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Wo(n,i,r);return Wo(n,i)})}function tR(n){return new Ls(new $e(n.url),new $e(n.params),new $e(n.queryParams),new $e(n.fragment),new $e(n.data),n.outlet,n.component,n)}var Go=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},DE="ngNavigationCancelingError";function cu(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=IE(!1,Jt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function IE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[DE]=!0,t.cancellationCode=e,t}function nR(n){return ME(n)&&Ho(n.url)}function ME(n){return!!n&&n[DE]}var iR=(n,e,t,i)=>J(r=>(new Yg(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Yg=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Sg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Is(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Is(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Ug(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bg(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(Sg(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{constructor(e,t){this.component=e,this.route=t}};function rR(n,e,t){let i=n._root,r=e?e._root:null;return Lo(i,r,t,[i.value])}function sR(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vs(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Mb(n)?n:e.get(n):i}function Lo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Is(e);return n.children.forEach(o=>{oR(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bo(a,t.getContext(o),r)),r}function oR(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=aR(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new uu(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Lo(n,e,a?a.children:null,i,r):Lo(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ps(a.outlet.component,o))}else o&&Bo(e,a,r),r.canActivateChecks.push(new uu(i)),s.component?Lo(n,null,a?a.children:null,i,r):Lo(n,null,t,i,r);return r}function aR(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Nr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nr(n.url,e.url)||!qn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gg(n,e)||!qn(n.queryParams,e.queryParams);case"paramsChange":default:return!Gg(n,e)}}function Bo(n,e,t){let i=Is(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Bo(o,e.children.getContext(s),t):Bo(o,null,t):Bo(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ps(e.outlet.component,r)):t.canDeactivateChecks.push(new Ps(null,r)):t.canDeactivateChecks.push(new Ps(null,r))}function Jo(n){return typeof n=="function"}function lR(n){return typeof n=="boolean"}function cR(n){return n&&Jo(n.canLoad)}function uR(n){return n&&Jo(n.canActivate)}function dR(n){return n&&Jo(n.canActivateChild)}function hR(n){return n&&Jo(n.canDeactivate)}function fR(n){return n&&Jo(n.canMatch)}function TE(n){return n instanceof ii||n?.name==="EmptyError"}var Xc=Symbol("INITIAL_VALUE");function Fs(){return mt(n=>ao(n.map(e=>e.pipe(ot(1),Ph(Xc)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===Xc)return Xc;if(t===!1||pR(t))return t}return!0}),st(e=>e!==Xc),ot(1)))}function pR(n){return Ho(n)||n instanceof Go}function gR(n,e){return Ve(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?q(Y(T({},t),{guardsResult:!0})):mR(o,i,r,n).pipe(Ve(a=>a&&lR(a)?vR(i,s,n,e):q(a)),J(a=>Y(T({},t),{guardsResult:a})))})}function mR(n,e,t,i){return xe(n).pipe(Ve(r=>CR(r.component,r.route,t,e,i)),kn(r=>r!==!0,!0))}function vR(n,e,t,i){return xe(e).pipe(pr(r=>Rn(bR(r.route.parent,i),yR(r.route,i),wR(n,r.path,t),_R(n,r.route,t))),kn(r=>r!==!0,!0))}function yR(n,e){return n!==null&&e&&e(new Hg(n)),q(!0)}function bR(n,e){return n!==null&&e&&e(new jg(n)),q(!0)}function _R(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return q(!0);let r=i.map(s=>hr(()=>{let o=Qo(e)??t,a=Vs(s,o),l=uR(a)?a.canActivate(e,n):$n(o,()=>a(e,n));return Qi(l).pipe(kn())}));return q(r).pipe(Fs())}function wR(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>sR(o)).filter(o=>o!==null).map(o=>hr(()=>{let a=o.guards.map(l=>{let c=Qo(o.node)??t,u=Vs(l,c),d=dR(u)?u.canActivateChild(i,n):$n(c,()=>u(i,n));return Qi(d).pipe(kn())});return q(a).pipe(Fs())}));return q(s).pipe(Fs())}function CR(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(a=>{let l=Qo(e)??r,c=Vs(a,l),u=hR(c)?c.canDeactivate(n,e,t,i):$n(l,()=>c(n,e,t,i));return Qi(u).pipe(kn())});return q(o).pipe(Fs())}function ER(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return q(!0);let s=r.map(o=>{let a=Vs(o,n),l=cR(a)?a.canLoad(e,t):$n(n,()=>a(e,t));return Qi(l)});return q(s).pipe(Fs(),PE(i))}function PE(n){return vh(at(e=>{if(typeof e!="boolean")throw cu(n,e)}),J(e=>e===!0))}function xR(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return q(!0);let s=r.map(o=>{let a=Vs(o,n),l=fR(a)?a.canMatch(e,t):$n(n,()=>a(e,t));return Qi(l)});return q(s).pipe(Fs(),PE(i))}var qo=class{constructor(e){this.segmentGroup=e||null}},Yo=class extends Error{constructor(e){super(),this.urlTree=e}};function Ds(n){return Ti(new qo(n))}function AR(n){return Ti(new B(4e3,!1))}function SR(n){return Ti(IE(!1,Jt.GuardRejected))}var Kg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return q(i);if(r.numberOfChildren>1||!r.children[re])return AR(`${e.redirectTo}`);r=r.children[re]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:g}=r,v=$n(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:g}));if(v instanceof vi)throw new Yo(v);t=v}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Yo(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new vi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new De(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new B(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DR(n,e,t,i,r){let s=NE(n,e,t);return s.matched?(i=KN(e,i),xR(i,e,t,r).pipe(J(o=>o===!0?s:T({},Xg)))):q(s)}function NE(n,e,t){if(e.path==="**")return IR(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?T({},Xg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||EN)(t,n,e);if(!r)return T({},Xg);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?T(T({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function IR(n){return{matched:!0,parameters:n.length>0?dE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sE(n,e,t,i){return t.length>0&&PR(n,t,i)?{segmentGroup:new De(e,TR(i,new De(t,n.children))),slicedSegments:[]}:t.length===0&&NR(n,t,i)?{segmentGroup:new De(n.segments,MR(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function MR(n,e,t,i){let r={};for(let s of t)if(pu(n,e,s)&&!i[In(s)]){let o=new De([],{});r[In(s)]=o}return T(T({},i),r)}function TR(n,e){let t={};t[re]=e;for(let i of n)if(i.path===""&&In(i)!==re){let r=new De([],{});t[In(i)]=r}return t}function PR(n,e,t){return t.some(i=>pu(n,e,i)&&In(i)!==re)}function NR(n,e,t){return t.some(i=>pu(n,e,i))}function pu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function RR(n,e,t){return e.length===0&&!n.children[t]}var Qg=class{};function kR(n,e,t,i,r,s,o="emptyOnly"){return new Zg(n,e,t,i,r,o,s).recognize()}var OR=31,Zg=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Kg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=sE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:i})=>{let r=new Zt(i,t),s=new lu("",r),o=UN(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Ts([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(J(i=>({children:i,rootSnapshot:t})),Ni(i=>{if(i instanceof Yo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof qo?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(J(o=>o instanceof Zt?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return xe(s).pipe(pr(o=>{let a=i.children[o],l=XN(t,o);return this.processSegmentGroup(e,l,a,o,r)}),Th((o,a)=>(o.push(...a),o)),Ri(null),Ih(),Ve(o=>{if(o===null)return Ds(i);let a=RE(o);return LR(a),q(a)}))}processSegment(e,t,i,r,s,o,a){return xe(t).pipe(pr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Ni(c=>{if(c instanceof qo)return q(null);throw c}))),kn(l=>!!l),Ni(l=>{if(TE(l))return RR(i,r,s)?q(new Qg):Ds(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return In(i)!==o&&(o===re||!pu(r,s,i))?Ds(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):Ds(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=NE(t,r,s);if(!l)return Ds(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OR&&(this.allowRedirects=!1));let f=new Ts(s,c,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,oE(r),In(r),r.component??r._loadedComponent??null,r,aE(r)),p=au(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(r,g).pipe(Ve(v=>this.processSegment(e,i,t,v.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=DR(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(mt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(mt(({routes:c})=>{let u=i._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Ts(h,d,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,oE(i),In(i),i.component??i._loadedComponent??null,i,aE(i)),g=au(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:v,slicedSegments:m}=sE(t,h,f,c);if(m.length===0&&v.hasChildren())return this.processChildren(u,c,v,p).pipe(J(C=>new Zt(p,C)));if(c.length===0&&m.length===0)return q(new Zt(p,[]));let _=In(i)===s;return this.processSegment(u,c,v,m,_?re:s,!0,p).pipe(J(C=>new Zt(p,C instanceof Zt?[C]:[])))}))):Ds(t)))}getChildConfig(e,t,i){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):ER(e,t,i,this.urlSerializer).pipe(Ve(r=>r?this.configLoader.loadChildren(e,t).pipe(at(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):SR(t))):q({routes:[],injector:e})}};function LR(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function FR(n){let e=n.value.routeConfig;return e&&e.path===""}function RE(n){let e=[],t=new Set;for(let i of n){if(!FR(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=RE(i.children);e.push(new Zt(i.value,r))}return e.filter(i=>!t.has(i))}function oE(n){return n.data||{}}function aE(n){return n.resolve||{}}function VR(n,e,t,i,r,s){return Ve(o=>kR(n,e,t,i,o.extractedUrl,r,s).pipe(J(({state:a,tree:l})=>Y(T({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function jR(n,e){return Ve(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return q(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of kE(l))o.add(c);let a=0;return xe(o).pipe(pr(l=>s.has(l)?BR(l,i,n,e):(l.data=au(l,l.parent,n).resolve,q(void 0))),at(()=>a++),Jr(1),Ve(l=>a===o.size?q(t):Dt))})}function kE(n){let e=n.children.map(t=>kE(t)).flat();return[n,...e]}function BR(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!SE(r)&&(s[Ko]=r.title),HR(s,n,e,i).pipe(J(o=>(n._resolvedData=o,n.data=au(n,n.parent,t).resolve,null)))}function HR(n,e,t,i){let r=Mg(n);if(r.length===0)return q({});let s={};return xe(r).pipe(Ve(o=>UR(n[o],e,t,i).pipe(kn(),at(a=>{if(a instanceof Go)throw cu(new Rs,a);s[o]=a}))),Jr(1),lo(s),Ni(o=>TE(o)?Dt:Ti(o)))}function UR(n,e,t,i){let r=Qo(e)??i,s=Vs(n,r),o=s.resolve?s.resolve(e,t):$n(r,()=>s(e,t));return Qi(o)}function Dg(n){return mt(e=>{let t=n(e);return t?xe(t).pipe(J(()=>e)):q(e)})}var OE=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===re);return i}getResolvedTitleForRoute(t){return t.data[Ko]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>O($R),providedIn:"root"})}}return n})(),$R=(()=>{class n extends OE{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)($(JC))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ea=new H("",{providedIn:"root",factory:()=>({})}),zR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=pe({type:n,selectors:[["ng-component"]],standalone:!0,features:[dC],decls:1,vars:0,template:function(i,r){i&1&&z(0,"router-outlet")},dependencies:[ZN],encapsulation:2})}}return n})();function tm(n){let e=n.children&&n.children.map(tm),t=e?Y(T({},n),{children:e}):T({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=zR),t}var du=new H(""),nm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Pc)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Qi(t.loadComponent()).pipe(J(LE),at(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),co(()=>{this.componentLoaders.delete(t)})),r=new Mi(i,()=>new Ne).pipe(Kr());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=WR(i,this.compiler,t,this.onLoadEndListener).pipe(co(()=>{this.childrenLoaders.delete(i)})),o=new Mi(s,()=>new Ne).pipe(Kr());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function WR(n,e,t,i){return Qi(n.loadChildren()).pipe(J(LE),Ve(r=>r instanceof bo||Array.isArray(r)?q(r):xe(e.compileModuleAsync(r))),J(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(du,[],{optional:!0,self:!0}).flat()),{routes:o.map(tm),injector:s}}))}function GR(n){return n&&typeof n=="object"&&"default"in n}function LE(n){return GR(n)?n.default:n}var im=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>O(qR),providedIn:"root"})}}return n})(),qR=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FE=new H(""),VE=new H("");function YR(n,e,t){let i=n.get(VE),r=n.get(Rt);return n.get(Ae).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),KR(n))),{onViewTransitionCreated:l}=i;return l&&$n(n,()=>l({transition:a,from:e,to:t})),o})}function KR(n){return new Promise(e=>{$p({read:()=>setTimeout(e)},{injector:n})})}var XR=new H(""),rm=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=O(nm),this.environmentInjector=O(qt),this.urlSerializer=O(Xo),this.rootContexts=O(Zo),this.location=O(xs),this.inputBindingEnabled=O(fu,{optional:!0})!==null,this.titleStrategy=O(OE),this.options=O(ea,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(im),this.createViewTransition=O(FE,{optional:!0}),this.navigationErrorHandler=O(XR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Fg(r)),i=r=>this.events.next(new Vg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Y(T(T({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new $e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:jo,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(s=>s.id!==0),J(s=>Y(T({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),mt(s=>{let o=!1,a=!1;return q(s).pipe(mt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Jt.SupersededByNewNavigation),Dt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Y(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Xi(l.id,this.urlSerializer.serialize(l.rawUrl),d,nu.IgnoredSameUrlNavigation)),l.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(mt(d=>{let h=this.transitions?.getValue();return this.events.next(new ks(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Dt:Promise.resolve(d)}),VR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),at(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Y(T({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new iu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=l,v=new ks(d,this.urlSerializer.serialize(h),f,p);this.events.next(v);let m=xE(this.rootComponentType).snapshot;return this.currentTransition=s=Y(T({},l),{targetSnapshot:m,urlAfterRedirects:h,extras:Y(T({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,q(s)}else{let d="";return this.events.next(new Xi(l.id,this.urlSerializer.serialize(l.extractedUrl),d,nu.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dt}}),at(l=>{let c=new Rg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),J(l=>(this.currentTransition=s=Y(T({},l),{guards:rR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),gR(this.environmentInjector,l=>this.events.next(l)),at(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw cu(this.urlSerializer,l.guardsResult);let c=new kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),st(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Jt.GuardRejected),!1)),Dg(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(at(c=>{let u=new Og(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),mt(c=>{let u=!1;return q(c).pipe(jR(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Jt.NoDataFromResolver)}}))}),at(c=>{let u=new Lg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Dg(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(at(h=>{u.component=h}),J(()=>{})));for(let h of u.children)d.push(...c(h));return d};return ao(c(l.targetSnapshot.root)).pipe(Ri(null),ot(1))}),Dg(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?xe(u).pipe(J(()=>s)):q(s)}),J(l=>{let c=JN(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Y(T({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),at(()=>{this.events.next(new zo)}),iR(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ot(1),at({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Le(this.transitionAbortSubject.pipe(at(l=>{throw l}))),co(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ni(l=>{if(a=!0,ME(l))this.events.next(new mi(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),nR(l)?this.events.next(new Os(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new $o(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let u=$n(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Go){let{message:d,cancellationCode:h}=cu(this.urlSerializer,u);this.events.next(new mi(s.id,this.urlSerializer.serialize(s.extractedUrl),d,h)),this.events.next(new Os(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=t.errorHandler(l);s.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Dt}))}))}cancelNavigationTransition(t,i,r){let s=new mi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QR(n){return n!==jo}var ZR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>O(JR),providedIn:"root"})}}return n})(),Jg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},JR=(()=>{class n extends Jg{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:()=>O(ek),providedIn:"root"})}}return n})(),ek=(()=>{class n extends jE{constructor(){super(...arguments),this.location=O(xs),this.urlSerializer=O(Xo),this.options=O(ea,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(im),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof ks)this.stateMemento=this.createStateMemento();else if(t instanceof Xi)this.rawUrlTree=i.initialUrl;else if(t instanceof iu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof zo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof mi&&(t.code===Jt.GuardRejected||t.code===Jt.NoDataFromResolver)?this.restoreHistory(i):t instanceof $o?this.restoreHistory(i,!0):t instanceof yi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof vi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=T(T({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fo||{});function BE(n,e){n.events.pipe(st(t=>t instanceof yi||t instanceof mi||t instanceof $o||t instanceof Xi),J(t=>t instanceof yi||t instanceof Xi?Fo.COMPLETE:(t instanceof mi?t.code===Jt.Redirect||t.code===Jt.SupersededByNewNavigation:!1)?Fo.REDIRECTING:Fo.FAILED),st(t=>t!==Fo.REDIRECTING),ot(1)).subscribe(()=>{e()})}function tk(n){throw n}var nk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ik={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Ic),this.stateManager=O(jE),this.options=O(ea,{optional:!0})||{},this.pendingTasks=O(_s),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(rm),this.urlSerializer=O(Xo),this.location=O(xs),this.urlHandlingStrategy=O(im),this._events=new Ne,this.errorHandler=this.options.errorHandler||tk,this.navigated=!1,this.routeReuseStrategy=O(ZR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(du,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(fu,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof mi&&i.code!==Jt.Redirect&&i.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yi)this.navigated=!0;else if(i instanceof Os){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=T({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QR(r.source)},o);this.scheduleNavigation(a,jo,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}sk(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=T({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=T(T({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=_E(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return wE(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Ho(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,jo,null,i)}navigate(t,i={skipLocationChange:!1}){return rk(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=T({},nk):i===!1?r=T({},ik):r=i,Ho(t))return eE(this.currentUrlTree,t,r);let s=this.parseUrl(t);return eE(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return BE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rk(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}function sk(n){return!(n instanceof zo)&&!(n instanceof Os)}var hu=class{};var ok=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(st(t=>t instanceof yi),pr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ac(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xe(r).pipe(Pi())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=q(null);let s=r.pipe(Ve(o=>o===null?q(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return xe([s,o]).pipe(Pi())}else return s})}static{this.\u0275fac=function(i){return new(i||n)($(Rr),$(Pc),$(qt),$(hu),$(nm))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HE=new H(""),ak=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xi&&t.code===nu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ru&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ru(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Cw()}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();function lk(n){return n.routerState.root}function ta(n,e){return{\u0275kind:n,\u0275providers:e}}function ck(){let n=O(_t);return e=>{let t=n.get(Sn);if(e!==t.components[0])return;let i=n.get(Rr),r=n.get(UE);n.get(sm)===1&&i.initialNavigation(),n.get($E,null,le.Optional)?.setUpPreloading(),n.get(HE,null,le.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var UE=new H("",{factory:()=>new Ne}),sm=new H("",{providedIn:"root",factory:()=>1});function uk(){return ta(2,[{provide:sm,useValue:0},{provide:Yi,multi:!0,deps:[_t],useFactory:e=>{let t=e.get(OC,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Rr),s=e.get(UE);BE(r,()=>{i(!0)}),e.get(rm).afterPreactivation=()=>(i(!0),s.closed?q(void 0):s),r.initialNavigation()}))}}])}function dk(){return ta(3,[{provide:Yi,multi:!0,useFactory:()=>{let e=O(Rr);return()=>{e.setUpLocationChangeListener()}}},{provide:sm,useValue:2}])}var $E=new H("");function hk(n){return ta(0,[{provide:$E,useExisting:ok},{provide:hu,useExisting:n}])}function fk(){return ta(8,[rE,{provide:fu,useExisting:rE}])}function pk(n){let e=[{provide:FE,useValue:YR},{provide:VE,useValue:T({skipNextTransition:!!n?.skipInitialTransition},n)}];return ta(9,e)}var lE=new H("ROUTER_FORROOT_GUARD"),gk=[xs,{provide:Xo,useClass:Rs},Rr,Zo,{provide:Ls,useFactory:lk,deps:[Rr]},nm,[]],om=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[gk,[],{provide:du,multi:!0,useValue:t},{provide:lE,useFactory:bk,deps:[[Rr,new Eo,new ac]]},{provide:ea,useValue:i||{}},i?.useHash?vk():yk(),mk(),i?.preloadingStrategy?hk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?_k(i):[],i?.bindToComponentInputs?fk().\u0275providers:[],i?.enableViewTransitions?pk().\u0275providers:[],wk()]}}static forChild(t){return{ngModule:n,providers:[{provide:du,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)($(lE,8))}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({})}}return n})();function mk(){return{provide:HE,useFactory:()=>{let n=O($C),e=O(Ae),t=O(ea),i=O(rm),r=O(Xo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ak(r,i,n,e,t)}}}function vk(){return{provide:Tr,useClass:FC}}function yk(){return{provide:Tr,useClass:dg}}function bk(n){return"guarded"}function _k(n){return[n.initialNavigation==="disabled"?dk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?uk().\u0275providers:[]]}var cE=new H("");function wk(){return[{provide:cE,useFactory:ck},{provide:Xp,multi:!0,useExisting:cE}]}var Ck=[{path:"**",redirectTo:"invalid"}],gu=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ge({type:n});static \u0275inj=We({imports:[om.forRoot(Ck),om]})};var Yn=class n{modals=[];zIndexCounter=100;openModal(e){let t=this.modals.findIndex(i=>i.modalId===e);t>-1&&this.modals.splice(t,1),this.modals.push({modalId:e,zIndex:this.zIndexCounter}),this.zIndexCounter+=1}bringToFront(e){let t=this.modals.findIndex(i=>i.modalId===e);if(t>-1){let i=this.modals.splice(t,1)[0];this.modals.push(Y(T({},i),{zIndex:this.zIndexCounter})),this.zIndexCounter+=1}}getZIndex(e){let t=this.modals.find(i=>i.modalId===e);return t?t.zIndex:10}closeModal(e){this.modals=this.modals.filter(t=>t.modalId!==e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ut=class n{isMobile(){return window.innerWidth<650}getNotificationTemplate(e,t){return`
        <div class="flex items-center gap-3">
            <img src="https://img.icons8.com/?size=100&id=81443&format=png&color=000000" alt="Icon1" class="h-12 w-12">
            <div><strong>${e}</strong><p>${t}</p></div>
            <img src="https://img.icons8.com/?size=100&id=79023&format=png&color=000000" alt="Icon1" class="h-4 w-4 absolute top-1 right-1">
        </div>
        `}getNotificationConfig(){return[{title:"Best Project Award",desc:"Built Suraksha - 2nd highest revenue feature in udChalo",timeout:6e4,type:"success"},{title:"Beyond the limit Award",desc:"Built flutter prototype of flight booking app",timeout:6e4,type:"success",delay:4e3},{title:"Bug Bash Winner Award (2X)",desc:"Identified critical and highest no bugs in bug bash",timeout:6e4,type:"success",delay:6e3}]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ek=["*"],xk=(n,e,t,i,r)=>({"top-12":n,"left-12":e,"w-full h-full":t,"top-0 left-0":i,"w-[100vw] h-[100vh]":r}),Ak=(n,e,t,i)=>({zIndex:n,top:e,left:t,height:i}),Sk=n=>({"w-[50vw] h-[40vh]":n}),Dk=n=>({height:n});function Ik(n,e){if(n&1){let t=Se();y(0,"div",1),L("mousedown",function(r){ue(t);let s=W();return de(s.onMouseDown(r))})("click",function(){ue(t);let r=W();return de(r.bringToFront())}),y(1,"div",2),L("dblclick",function(){ue(t);let r=W();return de(r.toggleFullScreen())}),y(2,"div",3)(3,"button",4),L("click",function(){ue(t);let r=W();return de(r.closeModal())}),b(),y(4,"button",5),L("click",function(){ue(t);let r=W();return de(r.toggleFullScreen())}),b()(),y(5,"div",6)(6,"b"),M(7),b()(),z(8,"div"),b(),y(9,"div",7),lC(10),b()()}if(n&2){let t=W();R("ngClass",pC(5,xk,!t.isFullScreen,!t.isFullScreen,t.isFullScreen||t.isMobile,t.isFullScreen||t.isMobile,t.isFullScreen||t.isMobile))("ngStyle",fC(11,Ak,t.modalService.getZIndex(t.modalId),t.top,t.left,t.isFullScreen||t.isMobile?"calc(100vh - 80px)":"40vh")),A(7),be(t.modalId),A(2),R("ngClass",di(16,Sk,!t.isFullScreen&&!t.isMobile))("ngStyle",di(18,Dk,t.isFullScreen||t.isMobile?"calc(-120px + 100vh)":"40vh"))}}var Kn=class n{constructor(e,t){this.modalService=e;this.utilService=t;this.isMobile=t.isMobile(),this.isMobile&&(this.isFullScreen=!0,this.top="0",this.left="0")}modalId;onToggleFullScreen=new fe;onCloseModal=new fe;isOpen=!1;isFullScreen=!1;isMobile;top="50px";left="50px";offsetX=0;offsetY=0;openModal(){this.isOpen=!0,this.top="50px",this.left="50px",this.isMobile&&(this.top="0",this.left="0"),this.modalService.openModal(this.modalId)}closeModal(){this.isOpen=!1,this.modalService.closeModal(this.modalId),this.isFullScreen=!1,this.onCloseModal.emit(this.modalId)}toggleFullScreen(){this.isFullScreen=!this.isFullScreen,this.isFullScreen||this.isMobile?(this.top="0",this.left="0"):(this.top="50px",this.left="50px"),this.onToggleFullScreen.emit({isFullScreen:this.isFullScreen,modalId:this.modalId})}onMouseDown(e){this.offsetX=e.clientX-parseInt(this.left),this.offsetY=e.clientY-parseInt(this.top),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}onMouseMove=e=>{this.left=`${e.clientX-this.offsetX}px`,this.top=`${e.clientY-this.offsetY}px`};onMouseUp=()=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)};bringToFront(){this.modalService.bringToFront(this.modalId)}static \u0275fac=function(t){return new(t||n)(F(Yn),F(Ut))};static \u0275cmp=pe({type:n,selectors:[["app-modal"]],inputs:{modalId:"modalId"},outputs:{onToggleFullScreen:"onToggleFullScreen",onCloseModal:"onCloseModal"},ngContentSelectors:Ek,decls:1,vars:1,consts:[["class","fixed bg-white text-black shadow-lg transition-transform duration-300 cursor-pointer rounded-modal animate-fade-in-up",3,"ngClass","ngStyle","mousedown","click",4,"ngIf"],[1,"fixed","bg-white","text-black","shadow-lg","transition-transform","duration-300","cursor-pointer","rounded-modal","animate-fade-in-up",3,"mousedown","click","ngClass","ngStyle"],[1,"flex","justify-between","bg-gray-200","p-2","text-white","cursor-move",3,"dblclick"],[1,"space-x-2"],[1,"bg-red-400","text-white","rounded-full","w-4","h-4","hover:bg-red-200","focus:outline-none",3,"click"],[1,"bg-green-400","text-white","rounded-full","w-4","h-4","hover:bg-green-200","focus:outline-none",3,"click"],[1,"text-black"],[1,"bg-white",2,"overflow-y","auto",3,"ngClass","ngStyle"]],template:function(t,i){t&1&&(aC(),K(0,Ik,11,20,"div",0)),t&2&&R("ngIf",i.isOpen)},dependencies:[dn,wt,As]})};var $s={};Wy($s,{AbortException:()=>SO,AnnotationEditorLayer:()=>DO,AnnotationEditorParamsType:()=>IO,AnnotationEditorType:()=>Fv,AnnotationEditorUIManager:()=>MO,AnnotationLayer:()=>TO,AnnotationMode:()=>PO,CMapCompressionType:()=>NO,ColorPicker:()=>RO,DOMSVGFactory:()=>kO,DrawLayer:()=>OO,FeatureTest:()=>LO,GlobalWorkerOptions:()=>Vv,ImageKind:()=>FO,InvalidPDFException:()=>VO,MissingPDFException:()=>jO,OPS:()=>BO,PDFDataRangeTransport:()=>HO,PDFDateString:()=>UO,PDFWorker:()=>$O,PasswordResponses:()=>zO,PermissionFlag:()=>WO,PixelsPerInch:()=>GO,RenderingCancelledException:()=>qO,TextLayer:()=>YO,UnexpectedResponseException:()=>KO,Util:()=>XO,VerbosityLevel:()=>jv,XfaLayer:()=>QO,build:()=>ZO,createValidAbsoluteUrl:()=>JO,fetchData:()=>eL,getDocument:()=>Bv,getFilenameFromUrl:()=>tL,getPdfFilenameFromUrl:()=>nL,getXfaPageViewport:()=>iL,isDataScheme:()=>rL,isPdfFile:()=>sL,noContextMenu:()=>oL,normalizeUnicode:()=>aL,setLayerDimensions:()=>lL,shadow:()=>cL,version:()=>_a});var oa={};oa.d=(n,e)=>{for(var t in e)oa.o(e,t)&&!oa.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};oa.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ee=globalThis.pdfjsLib={};oa.d(ee,{AbortException:()=>xi,AnnotationEditorLayer:()=>AO,AnnotationEditorParamsType:()=>Q,AnnotationEditorType:()=>ge,AnnotationEditorUIManager:()=>ha,AnnotationLayer:()=>Sv,AnnotationMode:()=>Ji,CMapCompressionType:()=>pm,ColorPicker:()=>ed,DOMSVGFactory:()=>ca,DrawLayer:()=>Pv,FeatureTest:()=>xt,GlobalWorkerOptions:()=>Or,ImageKind:()=>Cu,InvalidPDFException:()=>Au,MissingPDFException:()=>Ei,OPS:()=>Mn,PDFDataRangeTransport:()=>Hu,PDFDateString:()=>Ru,PDFWorker:()=>Hs,PasswordResponses:()=>kk,PermissionFlag:()=>Rk,PixelsPerInch:()=>er,RenderingCancelledException:()=>da,TextLayer:()=>ga,UnexpectedResponseException:()=>Us,Util:()=>U,VerbosityLevel:()=>nd,XfaLayer:()=>zu,build:()=>EO,createValidAbsoluteUrl:()=>Vk,fetchData:()=>od,getDocument:()=>bO,getFilenameFromUrl:()=>Wk,getPdfFilenameFromUrl:()=>Gk,getXfaPageViewport:()=>qk,isDataScheme:()=>ad,isPdfFile:()=>Rv,noContextMenu:()=>pn,normalizeUnicode:()=>$k,setLayerDimensions:()=>Lr,shadow:()=>me,version:()=>CO});var Et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),sx=[1,0,0,1,0,0],fm=[.001,0,0,.001,0,0],Tk=1e7,wu=1.35,Pk=.35,KW=Pk/wu,tn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ji={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Nk="pdfjs_internal_editor_",ge={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Q={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Rk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ct={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cu={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var na={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var nd={ERRORS:0,WARNINGS:1,INFOS:5},pm={NONE:0,BINARY:1},Mn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},kk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},id=nd.WARNINGS;function Ok(n){Number.isInteger(n)&&(id=n)}function Lk(){return id}function rd(n){id>=nd.INFOS&&console.log(`Info: ${n}`)}function he(n){id>=nd.WARNINGS&&console.log(`Warning: ${n}`)}function nt(n){throw new Error(n)}function ht(n,e){n||nt(e)}function Fk(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Vk(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=Uk(n)}catch{}let i=e?new URL(n,e):new URL(n);if(Fk(i))return i}catch{}return null}function me(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}var tr=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}(),aa=class extends tr{constructor(e,t){super(e,"PasswordException"),this.code=t}},la=class extends tr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},Au=class extends tr{constructor(e){super(e,"InvalidPDFException")}},Ei=class extends tr{constructor(e){super(e,"MissingPDFException")}},Us=class extends tr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},gm=class extends tr{constructor(e){super(e,"FormatError")}},xi=class extends tr{constructor(e){super(e,"AbortException")}};function ox(n){(typeof n!="object"||n?.length===void 0)&&nt("Invalid argument for bytesToString");let e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);let i=[];for(let r=0;r<e;r+=t){let s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function sd(n){typeof n!="string"&&nt("Invalid argument for stringToBytes");let e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function jk(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Nv(n){let e=Object.create(null);for(let[t,i]of n)e[t]=i;return e}function Bk(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Hk(){try{return new Function(""),!0}catch{return!1}}var xt=class{static get isLittleEndian(){return me(this,"isLittleEndian",Bk())}static get isEvalSupported(){return me(this,"isEvalSupported",Hk())}static get isOffscreenCanvasSupported(){return me(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?me(this,"platform",{isMac:navigator.platform.includes("Mac")}):me(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return me(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},lm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),U=class{static makeHexColor(e,t,i){return`#${lm[e]}${lm[t]}${lm[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){let i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){let i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;let s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static#e(e,t,i,r,s,o,a,l,c,u){if(c<=0||c>=1)return;let d=1-c,h=c*c,f=h*c,p=d*(d*(d*e+3*c*t)+3*h*i)+f*r,g=d*(d*(d*s+3*c*o)+3*h*a)+f*l;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],g)}static#t(e,t,i,r,s,o,a,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,i,r,s,o,a,l,-d/u,h);return}let f=u**2-4*d*c;if(f<0)return;let p=Math.sqrt(f),g=2*c;this.#e(e,t,i,r,s,o,a,l,(-u+p)/g,h),this.#e(e,t,i,r,s,o,a,l,(-u-p)/g,h)}static bezierBoundingBox(e,t,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],this.#t(e,i,s,a,t,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),this.#t(e,i,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),c),c}};function Uk(n){return decodeURIComponent(escape(n))}var cm=null,zE=null;function $k(n){return cm||(cm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zE=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(cm,(e,t,i)=>t?t.normalize("NFKC"):zE.get(i))}function zk(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return ox(n)}var ax="pdfjs_internal_id_",bi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8},Su=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}},Du=class{#e=!1;constructor({enableHWA:e=!1}={}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nt("Abstract method `_createCanvas` called.")}},Iu=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(t){return k(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let i=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?pm.BINARY:pm.NONE;return this._fetchData(i,r).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})})}_fetchData(e,t){nt("Abstract method `_fetchData` called.")}},Mu=class{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(t){return k(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let i=`${this.baseUrl}${e}`;return this._fetchData(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})})}_fetchData(e){nt("Abstract method `_fetchData` called.")}},mm=class{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nt("Abstract method `_createSVG` called.")}},wi="http://www.w3.org/2000/svg",er=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},vm=class extends Su{#e;#t;#n;#i;#r;#s;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#i=e,this.#r=t}get#l(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#c(){if(!this.#n){let e=this.#r.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let i=this.#r.createElementNS(wi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#r.createElementNS(wi,"defs"),e.append(i),i.append(this.#n),this.#r.body.append(e)}return this.#n}#u(e){if(e.length===1){let l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;let u=c.join(",");return[u,u,u]}let[t,i,r]=e,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=t[l]/255,o[l]=i[l]/255,a[l]=r[l]/255;return[s.join(","),o.join(","),a.join(",")]}#o(e){if(this.#e===void 0){this.#e="";let t=this.#r.URL;t!==this.#r.baseURI&&(ad(t)?he('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#l.get(e);if(t)return t;let[i,r,s]=this.#u(e),o=e.length===1?i:`${i}${r}${s}`;if(t=this.#l.get(o),t)return this.#l.set(e,t),t;let a=`g_${this.#i}_transfer_map_${this.#a++}`,l=this.#o(a);this.#l.set(e,l),this.#l.set(o,l);let c=this.#f(a);return this.#v(i,r,s,c),l}addHCMFilter(e,t){let i=`${e}-${t}`,r="base",s=this.#d.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#d.set(r,s)),!e||!t))return s.url;let o=this.#y(e);e=U.makeHexColor(...o);let a=this.#y(t);if(t=U.makeHexColor(...a),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;let l=new Array(256);for(let f=0;f<=255;f++){let p=f/255;l[f]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}let c=l.join(","),u=`g_${this.#i}_hcm_filter`,d=s.filter=this.#f(u);this.#v(c,c,c,d),this.#p(d);let h=(f,p)=>{let g=o[f]/255,v=a[f]/255,m=new Array(p+1);for(let _=0;_<=p;_++)m[_]=g+_/p*(v-g);return m.join(",")};return this.#v(h(0,5),h(1,5),h(2,5),d),s.url=this.#o(u),s.url}addAlphaFilter(e){let t=this.#l.get(e);if(t)return t;let[i]=this.#u([e]),r=`alpha_${i}`;if(t=this.#l.get(r),t)return this.#l.set(e,t),t;let s=`g_${this.#i}_alpha_map_${this.#a++}`,o=this.#o(s);this.#l.set(e,o),this.#l.set(r,o);let a=this.#f(s);return this.#m(i,a),o}addLuminosityFilter(e){let t=this.#l.get(e||"luminosity");if(t)return t;let i,r;if(e?([i]=this.#u([e]),r=`luminosity_${i}`):r="luminosity",t=this.#l.get(r),t)return this.#l.set(e,t),t;let s=`g_${this.#i}_luminosity_map_${this.#a++}`,o=this.#o(s);this.#l.set(e,o),this.#l.set(r,o);let a=this.#f(s);return this.#h(a),e&&this.#m(i,a),o}addHighlightHCMFilter(e,t,i,r,s){let o=`${t}-${i}-${r}-${s}`,a=this.#d.get(e);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#d.set(e,a)),!t||!i))return a.url;let[l,c]=[t,i].map(this.#y.bind(this)),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,f]=[r,s].map(this.#y.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#c.style.color="";let p=(m,_,C)=>{let w=new Array(256),S=(d-u)/C,E=m/255,D=(_-m)/(255*C),N=0;for(let x=0;x<=C;x++){let P=Math.round(u+x*S),j=E+x*D;for(let we=N;we<=P;we++)w[we]=j;N=P+1}for(let x=N;x<256;x++)w[x]=w[N-1];return w.join(",")},g=`g_${this.#i}_hcm_${e}_filter`,v=a.filter=this.#f(g);return this.#p(v),this.#v(p(h[0],f[0],5),p(h[1],f[1],5),p(h[2],f[2],5),v),a.url=this.#o(g),a.url}destroy(e=!1){e&&this.#d.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#a=0)}#h(e){let t=this.#r.createElementNS(wi,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){let t=this.#r.createElementNS(wi,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){let t=this.#r.createElementNS(wi,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#g(e,t,i){let r=this.#r.createElementNS(wi,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#v(e,t,i,r){let s=this.#r.createElementNS(wi,"feComponentTransfer");r.append(s),this.#g(s,"feFuncR",e),this.#g(s,"feFuncG",t),this.#g(s,"feFuncB",i)}#m(e,t){let i=this.#r.createElementNS(wi,"feComponentTransfer");t.append(i),this.#g(i,"feFuncA",e)}#y(e){return this.#c.style.color=e,kv(getComputedStyle(this.#c).getPropertyValue("color"))}},ym=class extends Du{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let i=this._document.createElement("canvas");return i.width=e,i.height=t,i}};function od(n,e="text"){return k(this,null,function*(){if(sa(n,document.baseURI)){let t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{let r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})})}var Tu=class extends Iu{_fetchData(e,t){return od(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):sd(i),compressionType:t}))}},Pu=class extends Mu{_fetchData(e){return od(e,"arraybuffer").then(t=>new Uint8Array(t))}},ca=class extends mm{_createSVG(e){return document.createElementNS(wi,e)}},ua=class n{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;let a=(e[2]+e[0])/2,l=(e[3]+e[1])/2,c,u,d,h;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,h=-h);let f,p,g,v;c===0?(f=Math.abs(l-e[1])*t+r,p=Math.abs(a-e[0])*t+s,g=(e[3]-e[1])*t,v=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+r,p=Math.abs(l-e[1])*t+s,g=(e[2]-e[0])*t,v=(e[3]-e[1])*t),this.transform=[c*t,u*t,d*t,h*t,f-c*t*a-d*t*l,p-u*t*a-h*t*l],this.width=g,this.height=v}get rawDims(){let{viewBox:e}=this;return me(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return U.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=U.applyTransform([e[0],e[1]],this.transform),i=U.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return U.applyInverseTransform([e,t],this.transform)}},da=class extends tr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function ad(n){let e=n.length,t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Rv(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Wk(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Gk(n,e="document.pdf"){if(typeof n!="string")return e;if(ad(n))return he('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n),s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}var Nu=class{started=Object.create(null);times=[];time(e){e in this.started&&he(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||he(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:i}of this.times)t=Math.max(i.length,t);for(let{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}};function sa(n,e){try{let{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function pn(n){n.preventDefault()}var WE,Ru=class{static toDateObject(e){if(!e||typeof e!="string")return null;WE||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=WE.exec(e);if(!t)return null;let i=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;let c=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}};function qk(n,{scale:e=1,rotation:t=0}){let{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new ua({viewBox:s,scale:e,rotation:t})}function kv(n){if(n.startsWith("#")){let e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(he(`Not a valid color format: "${n}"`),[0,0,0])}function Yk(n){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of n.keys()){e.style.color=t;let i=window.getComputedStyle(e).color;n.set(t,kv(i))}e.remove()}function je(n){let{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function _i(n){let{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function Lr(n,e,t=!1,i=!0){if(e instanceof ua){let{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=xt.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}var bm=class n{#e=null;#t=null;#n;#i=null;#r=null;static#s=null;constructor(e){this.#n=e,n.#s||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let e=this.#e=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");let t=this.#n._uiManager._signal;e.addEventListener("contextmenu",pn,{signal:t}),e.addEventListener("pointerdown",n.#a,{signal:t});let i=this.#i=document.createElement("div");i.className="buttons",e.append(i);let r=this.#n.toolbarPosition;if(r){let{style:s}=e,o=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}static#a(e){e.stopPropagation()}#l(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#c(e){let t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",pn,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#r?.shown()}#u(){let{editorType:e,_uiManager:t}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",n.#s[e]),this.#c(i),i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#i.append(i)}get#o(){let e=document.createElement("div");return e.className="divider",e}addAltText(e){return k(this,null,function*(){let t=yield e.render();this.#c(t),this.#i.prepend(t,this.#o),this.#r=e})}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#c(t),this.#i.prepend(t,this.#o)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},_m=class{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",pn,{signal:this.#n._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#s(),e}#r(e,t){let i=0,r=0;for(let s of e){let o=s.y+s.height;if(o<i)continue;let a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]}show(e,t,i){let[r,s]=this.#r(t,i),{style:o}=this.#t||=this.#i();e.append(this.#t),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let i=this.#n._signal;e.addEventListener("contextmenu",pn,{signal:i}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(e)}};function ku(n,e,t){for(let i of t)e.addEventListener(i,n[i].bind(n))}function Kk(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var wm=class{#e=0;get id(){return`${Nk}${this.#e++}`}},Cm=class n{#e=zk();#t=0;#n=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;let s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return me(this,"_isSVGFittingCanvas",s)}#i(e,t){return k(this,null,function*(){this.#n||=new Map;let i=this.#n.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(i.url=t,r=yield od(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){let s=n._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=()=>k(this,null,function*(){let d=i.svgUrl=o.result;a.src=(yield s)?`${d}#svgView(preserveAspectRatio(none))`:d}),a.onerror=o.onerror=u});o.readAsDataURL(r),yield l}else i.bitmap=yield createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return this.#n.set(e,i),i&&this.#n.set(i.id,i),i})}getFromFile(e){return k(this,null,function*(){let{lastModified:t,name:i,size:r,type:s}=e;return this.#i(`${t}_${i}_${r}_${s}`,e)})}getFromUrl(e){return k(this,null,function*(){return this.#i(e,e)})}getFromId(e){return k(this,null,function*(){this.#n||=new Map;let t=this.#n.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null})}getSvgUrl(e){let t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;let t=this.#n.get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},Em=class{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),this.#t)return;let l={cmd:e,undo:t,post:i,type:s};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(l);return}if(o&&this.#e[this.#i].type===s){a&&(l.undo=this.#e[this.#i].undo),this.#e[this.#i]=l;return}let c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#i===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}},Fr=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=xt.platform;for(let[i,r,s={}]of e)for(let o of i){let a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let i=this.callbacks.get(this.#e(t));if(!i)return;let{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}},xm=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return Yk(e),me(this,"_colors",e)}convert(e){let t=kv(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return n._colorsMapping.get(i);return t}getHexCode(e){let t=this._colors.get(e);return t?U.makeHexColor(...t):e}},ha=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#r=null;#s=null;#a=null;#l=new Em;#d=null;#c=0;#u=new Set;#o=null;#h=null;#p=new Set;#f=!1;#g=!1;#v=!1;#m=null;#y=null;#_=null;#C=null;#w=!1;#x=null;#T=new wm;#D=!1;#E=!1;#I=null;#S=null;#P=null;#k=null;#A=ge.NONE;#b=new Set;#M=null;#N=null;#L=null;#H={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#O=null;#F=null;#V=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=n.prototype,i=a=>a.#F.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){let{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return me(this,"_keyboardManager",new Fr([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#F.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#F.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}]]))}constructor(t,i,r,s,o,a,l,c,u,d,h){let f=this._signal=this.#e.signal;this.#F=t,this.#V=i,this.#r=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),this.#J(),this.#ie(),this.#G(),this.#s=o.annotationStorage,this.#m=o.filterFactory,this.#N=a,this.#C=l||null,this.#f=c,this.#g=u,this.#v=d,this.#k=h||null,this.viewParameters={realScale:er.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null;for(let t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#b.clear(),this.#l.destroy(),this.#r?.destroy(),this.#x?.hide(),this.#x=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#O&&(clearTimeout(this.#O),this.#O=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#k}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return me(this,"hcmFilter",this.#N?this.#m.addHCMFilter(this.#N.foreground,this.#N.background):"none")}get direction(){return me(this,"direction",getComputedStyle(this.#F).direction)}get highlightColors(){return me(this,"highlightColors",this.#C?new Map(this.#C.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return me(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#P=t}editAltText(t,i=!1){this.#r?.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=i;break}}onPageChanging({pageNumber:t}){this.#c=t-1}focusMainContainer(){this.#F.focus()}findParent(t,i){for(let r of this.#i.values()){let{x:s,y:o,width:a,height:l}=r.div.getBoundingClientRect();if(t>=s&&t<=s+a&&i>=o&&i<=o+l)return r}return null}disableUserSelect(t=!1){this.#V.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*er.PDF_TO_CSS_UNITS;for(let i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#B({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#W(t){let{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(let r of this.#i.values())if(r.hasTextLayer(t))return r;return null}highlightSelection(t=""){let i=document.getSelection();if(!i||i.isCollapsed)return;let{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=i,l=i.toString(),u=this.#B(i).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;i.empty();let h=this.#W(u),f=this.#A===ge.NONE,p=()=>{h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(ge.HIGHLIGHT,p);return}p()}#Q(){let t=document.getSelection();if(!t||t.isCollapsed)return;let r=this.#B(t).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#x||=new _m(this),this.#x.show(r,s,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#Z(){let t=document.getSelection();if(!t||t.isCollapsed){this.#M&&(this.#x?.hide(),this.#M=null,this.#R({hasSelectedText:!1}));return}let{anchorNode:i}=t;if(i===this.#M)return;let s=this.#B(t).closest(".textLayer");if(!s){this.#M&&(this.#x?.hide(),this.#M=null,this.#R({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#M=i,this.#R({hasSelectedText:!0}),!(this.#A!==ge.HIGHLIGHT&&this.#A!==ge.NONE)&&(this.#A===ge.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){let o=this.#A===ge.HIGHLIGHT?this.#W(s):null;o?.toggleDrawing();let a=new AbortController,l=this.combinedSignal(a),c=u=>{u.type==="pointerup"&&u.button!==0||(a.abort(),o?.toggleDrawing(!0),u.type==="pointerup"&&this.#z("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#z(t=""){this.#A===ge.HIGHLIGHT?this.highlightSelection(t):this.#f&&this.#Q()}#J(){document.addEventListener("selectionchange",this.#Z.bind(this),{signal:this._signal})}#ee(){if(this.#_)return;this.#_=new AbortController;let t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#te(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#z("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let i of this.#b)if(i.div.contains(t)){this.#S=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#S)return;let[t,i]=this.#S;this.#S=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#G(){if(this.#I)return;this.#I=new AbortController;let t=this.combinedSignal(this.#I);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ne(){this.#I?.abort(),this.#I=null}#q(){if(this.#d)return;this.#d=new AbortController;let t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Y(){this.#d?.abort(),this.#d=null}#ie(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#G(),this.#q()}removeEditListeners(){this.#ne(),this.#Y()}dragOver(t){for(let{type:i}of t.dataTransfer.items)for(let r of this.#h)if(r.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let i of t.dataTransfer.items)for(let r of this.#h)if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let i=[];for(let r of this.#b){let s=r.serialize(!0);s&&i.push(s)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();let{clipboardData:i}=t;for(let o of i.items)for(let a of this.#h)if(a.isHandlingMimeForPasting(o.type)){a.paste(o,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){he(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();let s=this.currentLayer;try{let o=[];for(let c of r){let u=s.deserialize(c);if(!u)return;o.push(u)}let a=()=>{for(let c of o)this.#K(c);this.#X(o)},l=()=>{for(let c of o)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(o){he(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==ge.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#z("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#R(t){Object.entries(t).some(([r,s])=>this.#H[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#H,t)}),this.#A===ge.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#U([[Q.HIGHLIGHT_FREE,!0]]))}#U(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ee(),this.#q(),this.#R({isEditing:this.#A!==ge.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#te(),this.#Y(),this.#R({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#h){this.#h=t;for(let i of this.#h)this.#U(i.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#c)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#c}addLayer(t){this.#i.set(t.pageIndex,t),this.#D?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}updateMode(t,i=null,r=!1){if(this.#A!==t){if(this.#A=t,t===ge.NONE){this.setEditingState(!1),this.#se();return}this.setEditingState(!0),this.#re(),this.unselectAll();for(let s of this.#i.values())s.updateMode(t);if(!i&&r){this.addNewEditorFromKeyboard();return}if(i){for(let s of this.#n.values())if(s.annotationElementId===i){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#h){switch(t){case Q.CREATE:this.currentLayer.addNewEditor();return;case Q.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(i);break;case Q.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#L||=new Map).set(t,i),this.showAllEditors("highlight",i);break}for(let r of this.#b)r.updateParams(t,i);for(let r of this.#h)r.updateDefaultParams(t,i)}}showAllEditors(t,i,r=!1){for(let o of this.#n.values())o.editorType===t&&o.show(i);(this.#L?.get(Q.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#U([[Q.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#E!==t){this.#E=t;for(let i of this.#i.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}#re(){if(!this.#D){this.#D=!0;for(let t of this.#i.values())t.enable();for(let t of this.#n.values())t.enable()}}#se(){if(this.unselectAll(),this.#D){this.#D=!1;for(let t of this.#i.values())t.disable();for(let t of this.#n.values())t.disable()}}getEditors(t){let i=[];for(let r of this.#n.values())r.pageIndex===t&&i.push(r);return i}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#K(t){let i=this.#i.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#U(t.propertiesToUpdate))}get#oe(){let t=null;for(t of this.#b);return t}updateUI(t){this.#oe===t&&this.#U(t.propertiesToUpdate)}toggleSelected(t){if(this.#b.has(t)){this.#b.delete(t),t.unselect(),this.#R({hasSelectedEditor:this.hasSelection});return}this.#b.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}setSelected(t){for(let i of this.#b)i!==t&&i.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#R({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#R({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()})}redo(){this.#l.redo(),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#l.add(t),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#b],i=()=>{for(let s of t)s.remove()},r=()=>{for(let s of t)this.#K(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#X(t){for(let i of this.#b)i.unselect();this.#b.clear();for(let i of t)i.isEmpty()||(this.#b.add(i),i.select());this.#R({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#b)t.commit();this.#X(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==ge.NONE))&&this.hasSelection){for(let t of this.#b)t.unselect();this.#b.clear(),this.#R({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=t,this.#j[1]+=i;let[s,o]=this.#j,a=[...this.#b],l=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(s,o)},undo:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(-s,-o)},mustExec:!1})},l);for(let c of a)c.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#o=new Map;for(let t of this.#b)this.#o.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#o)return!1;this.disableUserSelect(!1);let t=this.#o;this.#o=null;let i=!1;for(let[{x:s,y:o,pageIndex:a},l]of t)l.newX=s,l.newY=o,l.newPageIndex=a,i||=s!==l.savedX||o!==l.savedY||a!==l.savedPageIndex;if(!i)return!1;let r=(s,o,a,l)=>{if(this.#n.has(s.id)){let c=this.#i.get(l);c?s._setParentAndPosition(c,o,a):(s.pageIndex=l,s.x=o,s.y=a)}};return this.addCommands({cmd:()=>{for(let[s,{newX:o,newY:a,newPageIndex:l}]of t)r(s,o,a,l)},undo:()=>{for(let[s,{savedX:o,savedY:a,savedPageIndex:l}]of t)r(s,o,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#o)for(let r of this.#o.keys())r.drag(t,i)}rebuild(t){if(t.parent===null){let i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#A}get imageManager(){return me(this,"imageManager",new Cm)}getSelectionBoxes(t){if(!t)return null;let i=document.getSelection();for(let u=0,d=i.rangeCount;u<d;u++)if(!t.contains(i.getRangeAt(u).commonAncestorContainer))return null;let{x:r,y:s,width:o,height:a}=t.getBoundingClientRect(),l;switch(t.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/a,y:1-(u+h-r)/o,width:f/a,height:h/o});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-r)/o,y:1-(d+f-s)/a,width:h/o,height:f/a});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/a,y:(u-r)/o,width:f/a,height:h/o});break;default:l=(u,d,h,f)=>({x:(u-r)/o,y:(d-s)/a,width:h/o,height:f/a});break}let c=[];for(let u=0,d=i.rangeCount;u<d;u++){let h=i.getRangeAt(u);if(!h.collapsed)for(let{x:f,y:p,width:g,height:v}of h.getClientRects())g===0||v===0||c.push(l(f,p,g,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#a||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#a?.delete(t)}renderAnnotationElement(t){let i=this.#a?.get(t.data.id);if(!i)return;let r=this.#s.getRawValue(i);r&&(this.#A===ge.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}}return n})(),GE=(()=>{class n{#e=null;#t=!1;#n=null;#i=null;#r=null;#s=!1;#a=null;#l=null;#d=null;#c=null;#u=!1;static _l10nPromise=null;constructor(t){this.#l=t,this.#u=t._uiManager.useNewAltTextFlow}static initialize(t){n._l10nPromise||=t}render(){return k(this,null,function*(){let t=this.#n=document.createElement("button");t.className="altText";let i;this.#u?(t.classList.add("new"),i=yield n._l10nPromise.get("pdfjs-editor-new-alt-text-missing-button-label")):i=yield n._l10nPromise.get("pdfjs-editor-alt-text-button-label"),t.textContent=i,t.setAttribute("aria-label",i),t.tabIndex="0";let r=this.#l._uiManager._signal;t.addEventListener("contextmenu",pn,{signal:r}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});let s=o=>{o.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#u&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#o}})};return t.addEventListener("click",s,{capture:!0,signal:r}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#s=!0,s(o))},{signal:r}),yield this.#h(),t})}get#o(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#d:this.isEmpty()}get guessedText(){return this.#d}setGuessedText(t){return k(this,null,function*(){this.#e===null&&(this.#d=t,this.#c=yield n._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:t}),this.#h())})}toggleAltTextBadge(t=!1){if(!this.#u||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){let i=this.#a=document.createElement("div");i.className="noAltTextBadge",this.#l.div.append(i)}this.#a.classList.toggle("hidden",!t)}serialize(t){let i=this.#e;return!t&&this.#d===i&&(i=this.#c),{altText:i,decorative:this.#t,guessedText:this.#d,textWithDisclaimer:this.#c}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:i,guessedText:r,textWithDisclaimer:s,cancel:o=!1}){r&&(this.#d=r,this.#c=s),!(this.#e===t&&this.#t===i)&&(o||(this.#e=t,this.#t=i),this.#h())}toggle(t=!1){this.#n&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!t)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#o}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a?.remove(),this.#a=null}#h(){return k(this,null,function*(){let t=this.#n;if(!t)return;if(this.#u){let s=this.#o,o=s==="review"?"to-review":s;if(t.classList.toggle("done",!!this.#e),n._l10nPromise.get(`pdfjs-editor-new-alt-text-${o}-button-label`).then(a=>{t.setAttribute("aria-label",a);for(let l of t.childNodes)if(l.nodeType===Node.TEXT_NODE){l.textContent=a;break}}),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){t.classList.remove("done"),this.#i?.remove();return}t.classList.add("done"),n._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{t.setAttribute("aria-label",s)})}let i=this.#i;if(!i){this.#i=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip");let s=i.id=`alt-text-tooltip-${this.#l.id}`;t.setAttribute("aria-describedby",s);let o=100,a=this.#l._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#i.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},o)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i?.classList.remove("show")},{signal:a})}i.innerText=this.#t?yield n._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#e,i.parentNode||t.append(i),this.#l.getImageForAltText()?.setAttribute("aria-describedby",i.id)})}}return n})(),Ie=class n{#e=null;#t=null;#n=null;#i=!1;#r=!1;#s=null;#a=null;#l=null;#d="";#c=!1;#u=null;#o=!1;#h=!1;#p=!1;#f=null;#g=0;#v=0;#m=null;_editToolbar=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10nPromise=null;static _l10nResizer=null;#y=!1;#_=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new xm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=n.prototype._resizeWithKeyboard,t=ha.TRANSLATE_SMALL,i=ha.TRANSLATE_BIG;return me(this,"_resizerKeyboardManager",new Fr([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];let[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return me(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new Am({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._l10nPromise||=new Map([...["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map(s=>[s,e.get(s)]),...["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map(s=>[s,e.get.bind(e,s)])]),i?.strings)for(let s of i.strings)n._l10nPromise.set(s,e.get(s));if(n._borderLineWidth!==-1)return;let r=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(e){this.#y=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#L(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){let[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}#C([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()}translate(e,t){this.#C(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y],this.#C(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#u||=[this.x,this.y];let[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this,[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:i}=n,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,i]=this.pageDimensions,{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=t,this.y=s/=i;let[l,c]=this.getBaseTranslation();r+=l,s+=c;let{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#w(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return n.#w(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return n.#w(e,t,360-this.parentRotation)}#x(e){switch(e){case 90:{let[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return xt.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){let[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!this.#r&&t.endsWith("%");if(r&&s)return;let[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!this.#r&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let i of e){let r=document.createElement("div");this.#s.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#D.bind(this,i),{signal:t}),r.addEventListener("contextmenu",pn,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#s)}#D(e,t){t.preventDefault();let{isMac:i}=xt.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#n?.toggle(!1);let r=this._isDraggable;this._isDraggable=!1;let s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",pn,{signal:o});let a=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let f=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#E(a,l,c,u)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})}#E(e,t,i,r){let s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;let[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;let[c,u]=this.parentDimensions;this.setDims(c*i,u*r),this.fixAndSetPosition()},mustExec:!0})}#I(e,t){let[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=n.MIN_SIZE/i,u=n.MIN_SIZE/r,d=Z=>Math.round(Z*1e4)/1e4,h=this.#x(this.rotation),f=(Z,se)=>[h[0]*Z+h[2]*se,h[1]*Z+h[3]*se],p=this.#x(360-this.rotation),g=(Z,se)=>[p[0]*Z+p[2]*se,p[1]*Z+p[3]*se],v,m,_=!1,C=!1;switch(e){case"topLeft":_=!0,v=(Z,se)=>[0,0],m=(Z,se)=>[Z,se];break;case"topMiddle":v=(Z,se)=>[Z/2,0],m=(Z,se)=>[Z/2,se];break;case"topRight":_=!0,v=(Z,se)=>[Z,0],m=(Z,se)=>[0,se];break;case"middleRight":C=!0,v=(Z,se)=>[Z,se/2],m=(Z,se)=>[0,se/2];break;case"bottomRight":_=!0,v=(Z,se)=>[Z,se],m=(Z,se)=>[0,0];break;case"bottomMiddle":v=(Z,se)=>[Z/2,se],m=(Z,se)=>[Z/2,0];break;case"bottomLeft":_=!0,v=(Z,se)=>[0,se],m=(Z,se)=>[Z,0];break;case"middleLeft":C=!0,v=(Z,se)=>[0,se/2],m=(Z,se)=>[Z,se/2];break}let w=v(a,l),S=m(a,l),E=f(...S),D=d(s+E[0]),N=d(o+E[1]),x=1,P=1,[j,we]=this.screenToPageTranslation(t.movementX,t.movementY);if([j,we]=g(j/i,we/r),_){let Z=Math.hypot(a,l);x=P=Math.max(Math.min(Math.hypot(S[0]-w[0]-j,S[1]-w[1]-we)/Z,1/a,1/l),c/a,u/l)}else C?x=Math.max(c,Math.min(1,Math.abs(S[0]-w[0]-j)))/a:P=Math.max(u,Math.min(1,Math.abs(S[1]-w[1]-we)))/l;let Me=d(a*x),Te=d(l*P);E=f(...m(Me,Te));let He=D-E[0],yt=N-E[1];this.width=Me,this.height=Te,this.x=He,this.y=yt,this.setDims(i*Me,r*Te),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){return k(this,null,function*(){return this._editToolbar||this.#h?this._editToolbar:(this._editToolbar=new bm(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return k(this,null,function*(){this.#n||(GE.initialize(n._l10nPromise),this.#n=new GE(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){return k(this,null,function*(){yield this.#n?.setGuessedText(e)})}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#k();let[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);let[i,r]=this.getInitialTranslation();return this.translate(i,r),ku(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=xt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#P(e);return}this.#S(e)}#S(e){let{isMac:t}=xt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#P(e){let t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i=new AbortController,r=this._uiManager.combinedSignal(i);if(t){this.div.classList.add("moving"),this.#g=e.clientX,this.#v=e.clientY;let o=a=>{let{clientX:l,clientY:c}=a,[u,d]=this.screenToPageTranslation(l-this.#g,c-this.#v);this.#g=l,this.#v=c,this._uiManager.dragSelectedEditors(u,d)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:r})}let s=()=>{i.abort(),t&&this.div.classList.remove("moving"),this.#c=!1,this._uiManager.endDragSession()||this.#S(e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){let r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,d=this.x*s,h=this.y*o,f=this.width*s,p=this.height*o;switch(i){case 0:return[d+c+a,o-h-u-p+l,d+c+f+a,o-h-u+l];case 90:return[d+u+a,o-h+c+l,d+u+p+a,o-h+c+f+l];case 180:return[d-c-f+a,o-h+u+l,d-c+a,o-h+u+p+l];case 270:return[d-u-p+a,o-h-c-f+l,d-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#k(){if(this.#l||!this.div)return;this.#l=new AbortController;let e=this._uiManager.combinedSignal(this.#l);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#k()}rotate(e){}serialize(e=!1,t=null){nt("An editor must be serializable")}static deserialize(e,t,i){let r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,r.#e=e.accessibilityData;let[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#l?.abort(),this.#l=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#L(),this.removeEditToolbar(),this.#m){for(let e of this.#m.values())clearTimeout(e);this.#m=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#s.classList.remove("hidden"),ku(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#a={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#s.children;if(!this.#t){this.#t=Array.from(t);let o=this.#A.bind(this),a=this.#b.bind(this),l=this._uiManager._signal;for(let c of this.#t){let u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#M.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",n._l10nResizer[u])}}let i=this.#t[0],r=0;for(let o of t){if(o===i)break;r++}let s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)this.#s.append(this.#s.firstChild);else if(s>r)for(let a=0;a<s-r;a++)this.#s.firstChild.before(this.#s.lastChild);let o=0;for(let a of t){let c=this.#t[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",n._l10nResizer[c])}}this.#N(0),this.#p=!0,this.#s.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#A(e){n._resizerKeyboardManager.exec(this,e)}#b(e){this.#p&&e.relatedTarget?.parentNode!==this.#s&&this.#L()}#M(e){this.#d=this.#p?e:""}#N(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#p&&this.#I(this.#d,{movementX:e,movementY:t})}#L(){if(this.#p=!1,this.#N(-1),this.#a){let{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#a;this.#E(e,t,i,r),this.#a=null}}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#o}set isEditing(e){this.#o=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#r=!0;let i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#m||=new Map;let{action:i}=e,r=this.#m.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#m.delete(i),this.#m.size===0&&(this.#m=null)},n._telemetryTimeout),this.#m.set(i,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},Am=class extends Ie{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}},qE=3285377520,fn=4294901760,Xn=65535,Ou=class{constructor(e){this.h1=e?e&4294967295:qE,this.h2=e?e&4294967295:qE}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let g=0,v=e.length;g<v;g++){let m=e.charCodeAt(g);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r),a=0,l=0,c=this.h1,u=this.h2,d=3432918353,h=461845907,f=d&Xn,p=h&Xn;for(let g=0;g<r;g++)g&1?(a=o[g],a=a*d&fn|a*f&Xn,a=a<<15|a>>>17,a=a*h&fn|a*p&Xn,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*d&fn|l*f&Xn,l=l<<15|l>>>17,l=l*h&fn|l*p&Xn,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*d&fn|a*f&Xn,a=a<<15|a>>>17,a=a*h&fn|a*p&Xn,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&fn|e*36045&Xn,t=t*4283543511&fn|((t<<16|e>>>16)*2950163797&fn)>>>16,e^=t>>>1,e=e*444984403&fn|e*60499&Xn,t=t*3301882366&fn|((t<<16|e>>>16)*3120437893&fn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},Sm=Object.freeze({map:null,hash:"",transfer:void 0}),fa=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#n.values())if(t instanceof Ie)return;this.onAnnotationEditor(null)}}setValue(e,t){let i=this.#n.get(e),r=!1;if(i!==void 0)for(let[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,this.#n.set(e,t);r&&this.#i(),t instanceof Ie&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?Nv(this.#n):null}setAll(e){for(let[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Lu(this)}get serializable(){if(this.#n.size===0)return Sm;let e=new Map,t=new Ou,i=[],r=Object.create(null),s=!1;for(let[o,a]of this.#n){let l=a instanceof Ie?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(let o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Sm}get editorStats(){let e=null,t=new Map;for(let i of this.#n.values()){if(!(i instanceof Ie))continue;let r=i.telemetryFinalData;if(!r)continue;let{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||=Object.create(null);let o=e[s]||=new Map;for(let[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));let u=c.get(l)??0;c.set(l,u+1)}}for(let[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#n.values())!(t instanceof Ie)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},Lu=class extends fa{#e;constructor(e){super();let{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){nt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return me(this,"modifiedIds",{ids:new Set,hash:""})}},Dm=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(i){return k(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(ht(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:r,src:s,style:o}=e,a=new FontFace(r,s,o);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(r),t?.(e)}catch{he(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}nt("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return k(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{yield i.loaded}catch(r){throw he(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(i=>{let r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return me(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Et||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),me(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ht(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){let s=i.shift();setTimeout(s.callback,0)}}let{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return me(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(w,S){return w.charCodeAt(S)<<24|w.charCodeAt(S+1)<<16|w.charCodeAt(S+2)<<8|w.charCodeAt(S+3)&255}function r(w,S,E,D){let N=w.substring(0,S),x=w.substring(S+E);return N+D+x}let s,o,a=this._document.createElement("canvas");a.width=1,a.height=1;let l=a.getContext("2d"),c=0;function u(w,S){if(++c>30){he("Load test font never loaded."),S();return}if(l.font="30px "+w,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(u.bind(null,w,S))}let d=`lt${Date.now()}${this.loadTestFontId++}`,h=this._loadTestFont;h=r(h,976,d.length,d);let p=16,g=1482184792,v=i(h,p);for(s=0,o=d.length-3;s<o;s+=4)v=v-g+i(d,s)|0;s<d.length&&(v=v-g+i(d+"XXX",s)|0),h=r(h,p,4,jk(v));let m=`url(data:font/opentype;base64,${btoa(h)});`,_=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(_);let C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(let w of[e.loadedName,d]){let S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=w,C.append(S)}this._document.body.append(C),u(d,()=>{C.remove(),t.complete()})}},Im=class{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(let r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=ox(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`,i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return this._inspectFont?.(this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){he(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,o){};let r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case bi.BEZIER_CURVE_TO:{let[a,l,c,u,d,h]=i.slice(s,s+6);r.push(f=>f.bezierCurveTo(a,l,c,u,d,h)),s+=6}break;case bi.MOVE_TO:{let[a,l]=i.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case bi.LINE_TO:{let[a,l]=i.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case bi.QUADRATIC_CURVE_TO:{let[a,l,c,u]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(a,l,c,u)),s+=4}break;case bi.RESTORE:r.push(a=>a.restore());break;case bi.SAVE:r.push(a=>a.save());break;case bi.SCALE:ht(r.length===2,"Scale command is only valid at the third position.");break;case bi.TRANSFORM:{let[a,l,c,u,d,h]=i.slice(s,s+6);r.push(f=>f.transform(a,l,c,u,d,h)),s+=6}break;case bi.TRANSLATE:{let[a,l]=i.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}};Et&&(Eu=Promise.withResolvers(),xu=null,k(void 0,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),i=yield import("./chunk-ALIQTIYY.js"),r=yield import("./chunk-NYZOWURK.js"),s,o;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:o}))}).then(e=>{xu=e,Eu.resolve()},e=>{he(`loadPackages: ${e}`),xu=new Map,Eu.resolve()}));var Eu,xu,Qn=class{static get promise(){return Eu.promise}static get(e){return xu?.get(e)}},lx=function(n){return Qn.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))},Mm=class extends Su{},Tm=class extends Du{_createCanvas(e,t){return Qn.get("canvas").createCanvas(e,t)}},Pm=class extends Iu{_fetchData(e,t){return lx(e).then(i=>({cMapData:i,compressionType:t}))}},Nm=class extends Mu{_fetchData(e){return lx(e)}},Ot={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Rm(n,e){if(!e)return;let t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}var pa=class{getPattern(){nt("Abstract method `getPattern` called.")}},km=class extends pa{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Ot.STROKE||r===Ot.FILL){let o=t.current.getClippedPathBoundingBox(r,je(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=U.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),Rm(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");let d=new DOMMatrix(i);s.setTransform(d)}else Rm(e,this._bbox),s=this._createGradient(e);return s}};function um(n,e,t,i,r,s,o,a){let l=e.coords,c=e.colors,u=n.data,d=n.width*4,h;l[t+1]>l[i+1]&&(h=t,t=i,i=h,h=s,s=o,o=h),l[i+1]>l[r+1]&&(h=i,i=r,r=h,h=o,o=a,a=h),l[t+1]>l[i+1]&&(h=t,t=i,i=h,h=s,s=o,o=h);let f=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY;if(p>=_)return;let C=c[s],w=c[s+1],S=c[s+2],E=c[o],D=c[o+1],N=c[o+2],x=c[a],P=c[a+1],j=c[a+2],we=Math.round(p),Me=Math.round(_),Te,He,yt,Z,se,Fa,Va,ja;for(let St=we;St<=Me;St++){if(St<v){let it=St<p?0:(p-St)/(p-v);Te=f-(f-g)*it,He=C-(C-E)*it,yt=w-(w-D)*it,Z=S-(S-N)*it}else{let it;St>_?it=1:v===_?it=0:it=(v-St)/(v-_),Te=g-(g-m)*it,He=E-(E-x)*it,yt=D-(D-P)*it,Z=N-(N-j)*it}let gt;St<p?gt=0:St>_?gt=1:gt=(p-St)/(p-_),se=f-(f-m)*gt,Fa=C-(C-x)*gt,Va=w-(w-P)*gt,ja=S-(S-j)*gt;let Ba=Math.round(Math.min(Te,se)),ar=Math.round(Math.max(Te,se)),Ii=d*St+Ba*4;for(let it=Ba;it<=ar;it++)gt=(Te-it)/(Te-se),gt<0?gt=0:gt>1&&(gt=1),u[Ii++]=He-(He-Fa)*gt|0,u[Ii++]=yt-(yt-Va)*gt|0,u[Ii++]=Z-(Z-ja)*gt|0,u[Ii++]=255}}function Xk(n,e,t){let i=e.coords,r=e.colors,s,o;switch(e.type){case"lattice":let a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)um(n,t,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),um(n,t,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)um(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}var Om=class extends pa{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){let a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,p=u/h,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/p},v=d+2*2,m=h+2*2,_=i.getCanvas("mesh",v,m,!1),C=_.context,w=C.createImageData(d,h);if(t){let E=w.data;for(let D=0,N=E.length;D<N;D+=4)E[D]=t[0],E[D+1]=t[1],E[D+2]=t[2],E[D+3]=255}for(let E of this._figures)Xk(w,E,g);return C.putImageData(w,2,2),{canvas:_.canvas,offsetX:a-2*f,offsetY:l-2*p,scaleX:f,scaleY:p}}getPattern(e,t,i,r){Rm(e,this._bbox);let s;if(r===Ot.SHADING)s=U.singularValueDecompose2dScale(je(e));else if(s=U.singularValueDecompose2dScale(t.baseTransform),this.matrix){let a=U.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}let o=this._createMeshCanvas(s,r===Ot.SHADING?null:this._background,t.cachedCanvases);return r!==Ot.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}},Lm=class extends pa{getPattern(){return"hotpink"}};function Qk(n){switch(n[0]){case"RadialAxial":return new km(n);case"Mesh":return new Om(n);case"Dummy":return new Lm}throw new Error(`Unknown IR type: ${n[0]}`)}var YE={COLORED:1,UNCOLORED:2},Zk=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,i,r,s,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(t){let i=this.operatorList,r=this.bbox,s=this.xstep,o=this.ystep,a=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;rd("TilingType: "+l);let d=r[0],h=r[1],f=r[2],p=r[3],g=U.singularValueDecompose2dScale(this.matrix),v=U.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*v[0],g[1]*v[1]],_=this.getSizeAndScale(s,this.ctx.canvas.width,m[0]),C=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]),w=t.cachedCanvases.getCanvas("pattern",_.size,C.size,!0),S=w.context,E=u.createCanvasGraphics(S);E.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(E,a,c);let D=d,N=h,x=f,P=p;return d<0&&(D=0,x+=Math.abs(d)),h<0&&(N=0,P+=Math.abs(h)),S.translate(-(_.scale*D),-(C.scale*N)),E.transform(_.scale,0,0,C.scale,0,0),S.save(),this.clipBbox(E,D,N,x,P),E.baseTransform=je(E.ctx),E.executeOperatorList(i),E.endDrawing(),{canvas:w.canvas,scaleX:_.scale,scaleY:C.scale,offsetX:D,offsetY:N}}getSizeAndScale(t,i,r){t=Math.abs(t);let s=Math.max(n.MAX_PATTERN_SIZE,i),o=Math.ceil(t*r);return o>=s?o=s:r=o/t,{scale:r,size:o}}clipBbox(t,i,r,s,o){let a=s-i,l=o-r;t.ctx.rect(i,r,a,l),t.current.updateRectMinMax(je(t.ctx),[i,r,s,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,r){let s=t.ctx,o=t.current;switch(i){case YE.COLORED:let a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case YE.UNCOLORED:let l=U.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new gm(`Unsupported paint type: ${i}`)}}getPattern(t,i,r,s){let o=r;s!==Ot.SHADING&&(o=U.transform(o,i.baseTransform),this.matrix&&(o=U.transform(o,this.matrix)));let a=this.createPatternCanvas(i),l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);let c=t.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return n})();function Jk({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){let a=xt.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=i>>3,d=i&7,h=n.length;t=new Uint32Array(t.buffer);let f=0;for(let p=0;p<r;p++){for(let v=e+u;e<v;e++){let m=e<h?n[e]:255;t[f++]=m&128?c:l,t[f++]=m&64?c:l,t[f++]=m&32?c:l,t[f++]=m&16?c:l,t[f++]=m&8?c:l,t[f++]=m&4?c:l,t[f++]=m&2?c:l,t[f++]=m&1?c:l}if(d===0)continue;let g=e<h?n[e++]:255;for(let v=0;v<d;v++)t[f++]=g&1<<7-v?c:l}return{srcPos:e,destPos:f}}var KE=16,XE=100,eO=15,QE=10,ZE=1e3,zt=16;function tO(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var Fm=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function mu(n,e,t,i,r,s,o,a,l,c){let[u,d,h,f,p,g]=je(n);if(d===0&&h===0){let _=o*u+p,C=Math.round(_),w=a*f+g,S=Math.round(w),E=(o+l)*u+p,D=Math.abs(Math.round(E)-C)||1,N=(a+c)*f+g,x=Math.abs(Math.round(N)-S)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),C,S),n.drawImage(e,t,i,r,s,0,0,D,x),n.setTransform(u,d,h,f,p,g),[D,x]}if(u===0&&f===0){let _=a*h+p,C=Math.round(_),w=o*d+g,S=Math.round(w),E=(a+c)*h+p,D=Math.abs(Math.round(E)-C)||1,N=(o+l)*d+g,x=Math.abs(Math.round(N)-S)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,C,S),n.drawImage(e,t,i,r,s,0,0,x,D),n.setTransform(u,d,h,f,p,g),[x,D]}n.drawImage(e,t,i,r,s,o,a,l,c);let v=Math.hypot(u,d),m=Math.hypot(h,f);return[v*l,m*c]}function nO(n){let{width:e,height:t}=n;if(e>ZE||t>ZE)return null;let i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1,o=new Uint8Array(s*(t+1)),a,l,c,u=e+7&-8,d=new Uint8Array(u*t),h=0;for(let m of n.data){let _=128;for(;_>0;)d[h++]=m&_?0:255,_>>=1}let f=0;for(h=0,d[h]!==0&&(o[0]=1,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(o[l]=d[h]?2:1,++f),h++;for(d[h]!==0&&(o[l]=2,++f),a=1;a<t;a++){h=a*u,c=a*s,d[h-u]!==d[h]&&(o[c]=d[h]?1:8,++f);let m=(d[h]?4:0)+(d[h-u]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),r[m]&&(o[c+l]=r[m],++f),h++;if(d[h-u]!==d[h]&&(o[c+l]=d[h]?2:4,++f),f>i)return null}for(h=u*(t-1),c=a*s,d[h]!==0&&(o[c]=8,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(o[c+l]=d[h]?4:8,++f),h++;if(d[h]!==0&&(o[c+l]=4,++f),f>i)return null;let p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),g=new Path2D;for(a=0;f&&a<=t;a++){let m=a*s,_=m+e;for(;m<_&&!o[m];)m++;if(m===_)continue;g.moveTo(m%s,a);let C=m,w=o[m];do{let S=p[w];do m+=S;while(!o[m]);let E=o[m];E!==5&&E!==10?(w=E,o[m]=0):(w=E&51*w>>4,o[m]&=w>>2|w<<2),g.lineTo(m%s,m/s|0),o[m]||--f}while(C!==m);--a}return d=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(g),m.beginPath(),m.restore()}}var Fu=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=sx,this.textMatrixScale=1,this.fontMatrix=fm,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ct.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=U.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){let i=U.applyTransform(t,e),r=U.applyTransform(t.slice(2),e),s=U.applyTransform([t[0],t[3]],e),o=U.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){U.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,c,u){let d=U.bezierBoundingBox(t,i,r,s,o,a,l,c,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Ot.FILL,t=null){let i=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ot.STROKE){t||nt("Stroke bounding box must include transform.");let r=U.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){let e=U.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ot.FILL,t=null){return U.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function JE(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}let t=e.height,i=e.width,r=t%zt,s=(t-r)/zt,o=r===0?s:s+1,a=n.createImageData(i,zt),l=0,c,u=e.data,d=a.data,h,f,p,g;if(e.kind===Cu.GRAYSCALE_1BPP){let v=u.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),_=m.length,C=i+7>>3,w=4294967295,S=xt.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(p=h<s?zt:r,c=0,f=0;f<p;f++){let E=v-l,D=0,N=E>C?i:E*8-7,x=N&-8,P=0,j=0;for(;D<x;D+=8)j=u[l++],m[c++]=j&128?w:S,m[c++]=j&64?w:S,m[c++]=j&32?w:S,m[c++]=j&16?w:S,m[c++]=j&8?w:S,m[c++]=j&4?w:S,m[c++]=j&2?w:S,m[c++]=j&1?w:S;for(;D<N;D++)P===0&&(j=u[l++],P=128),m[c++]=j&P?w:S,P>>=1}for(;c<_;)m[c++]=0;n.putImageData(a,0,h*zt)}}else if(e.kind===Cu.RGBA_32BPP){for(f=0,g=i*zt*4,h=0;h<s;h++)d.set(u.subarray(l,l+g)),l+=g,n.putImageData(a,0,f),f+=zt;h<o&&(g=i*r*4,d.set(u.subarray(l,l+g)),n.putImageData(a,0,f))}else if(e.kind===Cu.RGB_24BPP)for(p=zt,g=i*p,h=0;h<o;h++){for(h>=s&&(p=r,g=i*p),c=0,f=g;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,h*zt)}else throw new Error(`bad image kind: ${e.kind}`)}function ex(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}let t=e.height,i=e.width,r=t%zt,s=(t-r)/zt,o=r===0?s:s+1,a=n.createImageData(i,zt),l=0,c=e.data,u=a.data;for(let d=0;d<o;d++){let h=d<s?zt:r;({srcPos:l}=Jk({src:c,srcPos:l,dest:u,width:i,height:h,nonBlackColor:0})),n.putImageData(a,0,d*zt)}}function ia(n,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function vu(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Et){let{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function tx(n,e){if(e)return!0;let t=U.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let i=Math.fround((globalThis.devicePixelRatio||1)*er.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}var iO=["butt","round","square"],rO=["miter","round","bevel"],sO={},nx={},Bs=class n{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=e,this.current=new Fu(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Fm(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){let s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){let l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...je(this.compositeCtx))}this.ctx.save(),vu(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=je(this.ctx)}executeOperatorList(e,t,i,r){let s=e.argsArray,o=e.fnArray,a=t||0,l=s.length;if(l===a)return a;let c=l-a>QE&&typeof i=="function",u=c?Date.now()+eO:0,d=0,h=this.commonObjs,f=this.objs,p;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(p=o[a],p!==Mn.dependency)this[p].apply(this,s[a]);else for(let g of s[a]){let v=g.startsWith("g_")?h:f;if(!v.has(g))return v.get(g,i),a}if(a++,a===l)return a;if(c&&++d>QE){if(Date.now()>u)return i(),a;d=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let i=e.width,r=e.height,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let h=a,f=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,a,l,0,0,h,f),e=u.canvas,a=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){let t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=je(t),l,c,u,d;if((e.bitmap||e.data)&&e.count>1){let N=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(N),l||(l=new Map,this._cachedBitmapsMap.set(N,l));let x=l.get(c);if(x&&!o){let P=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:x,offsetX:P,offsetY:j}}u=x}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),ex(d.context,e));let h=U.transform(a,[1/i,0,0,-1/r,0,0]);h=U.transform(h,[1,0,0,1,0,-r]);let[f,p,g,v]=U.getAxialAlignedBoundingBox([0,0,i,r],h),m=Math.round(g-f)||1,_=Math.round(v-p)||1,C=this.cachedCanvases.getCanvas("fillCanvas",m,_),w=C.context,S=f,E=p;w.translate(-S,-E),w.transform(...h),u||(u=this._scaleImage(d.canvas,_i(w)),u=u.img,l&&o&&l.set(c,u)),w.imageSmoothingEnabled=tx(je(w),e.interpolate),mu(w,u,0,0,u.width,u.height,0,0,i,r),w.globalCompositeOperation="source-in";let D=U.transform(_i(w),[1,0,0,1,-S,-E]);return w.fillStyle=o?s.getPattern(t,this,D,Ot.FILL):s,w.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,C.canvas)),{canvas:C.canvas,offsetX:Math.round(S),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iO[e]}setLineJoin(e){this.ctx.lineJoin=rO[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;let s=this.ctx;s.setTransform(...je(this.suspendedCtx)),ia(this.suspendedCtx,s),tO(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ia(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){let s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,c,u,d){let h=e.canvas,f=l-u,p=c-d;if(o){if(f<0||p<0||f+i>h.width||p+r>h.height){let v=this.cachedCanvases.getCanvas("maskExtension",i,r),m=v.context;m.drawImage(h,-f,-p),o.some(_=>_!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=U.makeHexColor(...o),m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over"),h=v.canvas,f=p=0}else if(o.some(v=>v!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let v=new Path2D;v.rect(f,p,i,r),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=U.makeHexColor(...o),e.fillRect(f,p,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));let g=new Path2D;g.rect(l,c,i,r),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,f,p,i,r,l,c,i,r),t.restore()}save(){this.inSMaskMode?(ia(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ia(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){let r=this.ctx,s=this.current,o=s.x,a=s.y,l,c,u=je(r),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,h=d?i.slice(0):null;for(let f=0,p=0,g=e.length;f<g;f++)switch(e[f]|0){case Mn.rectangle:o=t[p++],a=t[p++];let v=t[p++],m=t[p++],_=o+v,C=a+m;r.moveTo(o,a),v===0||m===0?r.lineTo(_,C):(r.lineTo(_,a),r.lineTo(_,C),r.lineTo(o,C)),d||s.updateRectMinMax(u,[o,a,_,C]),r.closePath();break;case Mn.moveTo:o=t[p++],a=t[p++],r.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Mn.lineTo:o=t[p++],a=t[p++],r.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Mn.curveTo:l=o,c=a,o=t[p+4],a=t[p+5],r.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,a),s.updateCurvePathMinMax(u,l,c,t[p],t[p+1],t[p+2],t[p+3],o,a,h),p+=6;break;case Mn.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[p],t[p+1],t[p+2],t[p+3],h),o=t[p+2],a=t[p+3],p+=4;break;case Mn.curveTo3:l=o,c=a,o=t[p+2],a=t[p+3],r.bezierCurveTo(t[p],t[p+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[p],t[p+1],o,a,o,a,h),p+=4;break;case Mn.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(u,h),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,_i(t),Ot.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,i=this.current.fillColor,r=this.current.patternFill,s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,_i(t),Ot.FILL),s=!0);let o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=sO}eoClip(){this.pendingClip=nx}beginText(){this.current.textMatrix=sx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||fm,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&he("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;let s=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`,a="normal";i.black?a="900":i.bold&&(a="bold");let l=i.italic?"italic":"normal",c=t;t<KE?c=KE:t>XE&&(c=XE),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){let s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&Ct.FILL_STROKE_MASK,d=!!(l&Ct.ADD_TO_PATH_FLAG),h=o.patternFill&&!a.missingFile,f;(a.disableFontFace||d||h)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(s.save(),s.translate(t,i),s.beginPath(),f(s,c),r&&s.setTransform(...r),(u===Ct.FILL||u===Ct.FILL_STROKE)&&s.fill(),(u===Ct.STROKE||u===Ct.FILL_STROKE)&&s.stroke(),s.restore()):((u===Ct.FILL||u===Ct.FILL_STROKE)&&s.fillText(e,t,i),(u===Ct.STROKE||u===Ct.FILL_STROKE)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||=[]).push({transform:je(s),x:t,y:i,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return me(this,"isFontSubpixelAAEnabled",i)}showText(e){let t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);let r=t.fontSize;if(r===0)return;let s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=i.vertical,f=h?1:-1,p=i.defaultVMetrics,g=r*t.fontMatrix[0],v=t.textRenderingMode===Ct.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let m;if(t.patternFill){s.save();let E=t.fillColor.getPattern(s,this,_i(s),Ot.FILL);m=je(s),s.restore(),s.fillStyle=E}let _=t.lineWidth,C=t.textMatrixScale;if(C===0||_===0){let E=t.textRenderingMode&Ct.FILL_STROKE_MASK;(E===Ct.STROKE||E===Ct.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=C;if(o!==1&&(s.scale(o,o),_/=o),s.lineWidth=_,i.isInvalidPDFjsFont){let E=[],D=0;for(let N of e)E.push(N.unicode),D+=N.width;s.fillText(E.join(""),0,0),t.x+=D*g*u,s.restore(),this.compose();return}let w=0,S;for(S=0;S<d;++S){let E=e[S];if(typeof E=="number"){w+=f*E*r/1e3;continue}let D=!1,N=(E.isSpace?l:0)+a,x=E.fontChar,P=E.accent,j,we,Me=E.width;if(h){let He=E.vmetric||p,yt=-(E.vmetric?He[1]:Me*.5)*g,Z=He[2]*g;Me=He?-He[0]:Me,j=yt/o,we=(w+Z)/o}else j=w/o,we=0;if(i.remeasure&&Me>0){let He=s.measureText(x).width*1e3/r*o;if(Me<He&&this.isFontSubpixelAAEnabled){let yt=Me/He;D=!0,s.save(),s.scale(yt,1),j/=yt}else Me!==He&&(j+=(Me-He)/2e3*r/o)}if(this.contentVisible&&(E.isInFont||i.missingFile)){if(v&&!P)s.fillText(x,j,we);else if(this.paintChar(x,j,we,m),P){let He=j+r*P.offset.x/o,yt=we-r*P.offset.y/o;this.paintChar(P.fontChar,He,yt,m)}}let Te=h?Me*g-N*c:Me*g+N*c;w+=Te,D&&s.restore()}h?t.y-=w:t.x+=w*u,s.restore(),this.compose()}showType3Text(e){let t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,d=i.fontMatrix||fm,h=e.length,f=i.textRenderingMode===Ct.INVISIBLE,p,g,v,m;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,o),p=0;p<h;++p){if(g=e[p],typeof g=="number"){m=a*g*s/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}let _=(g.isSpace?c:0)+l,C=r.charProcOperatorList[g.operatorListId];if(!C){he(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(C),this.restore()),v=U.applyTransform([g.width,0],d)[0]*s+_,t.translate(v,0),i.x+=v*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let i=e[1],r=this.baseTransform||je(this.ctx),s={createCanvasGraphics:o=>new n(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Zk(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=U.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=U.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=Qk(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,_i(t),Ot.SHADING);let r=_i(t);if(r){let{width:s,height:o}=t.canvas,[a,l,c,u]=U.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){nt("Should not call beginInlineImage")}beginImageData(){nt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=je(this.ctx),t)){let i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(je(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||rd("TODO: Support non-isolated groups."),e.knockout&&he("Knockout groups not supported.");let i=je(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=U.getAxialAlignedBoundingBox(e.bbox,je(t)),s=[0,0,t.canvas.width,t.canvas.height];r=U.intersect(r,s)||[0,0,0,0];let o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);let d=this.cachedCanvases.getCanvas(u,l,c),h=d.context;h.translate(-o,-a),h.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),ia(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let r=je(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);let s=U.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(this.#e(),vu(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;let[l,c]=U.singularValueDecompose2dScale(je(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);let{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),vu(this.ctx)}else vu(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Fu(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=nO(e)),r.compiled)){r.compiled(i);return}let s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);let a=this.ctx;a.save();let l=je(a);a.transform(t,i,r,s,0,0);let c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){let h=U.transform(l,[t,i,r,s,o[u],o[u+1]]),[f,p]=U.applyTransform([0,0],h);a.drawImage(c.canvas,f,p)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(let s of e){let{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();let h=this.getObject(o,s);ex(d,h),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,_i(t),Ot.FILL):i,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),mu(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){he("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;let s=this.getObject(e);if(!s){he("Dependent image isn't ready yet");return}let o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,i=e.height,r=this.ctx;if(this.save(),!Et){let{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{let l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;JE(l,e),s=this.applyTransferMapsToCanvas(l)}let o=this._scaleImage(s,_i(r));r.imageSmoothingEnabled=tx(je(r),e.interpolate),mu(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let i=this.ctx,r;if(e.bitmap)r=e.bitmap;else{let s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;JE(l,e),r=this.applyTransferMapsToCanvas(l)}for(let s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),mu(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let i=this.ctx;this.pendingClip&&(t||(this.pendingClip===nx?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=je(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform(),o,a;if(i===0&&r===0){let l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{let u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{let u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{let l=Math.abs(t*s-i*r),c=Math.hypot(t,i),u=Math.hypot(r,s);if(e===0)o=u/l,a=c/l;else{let d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}let o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){let a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let n in Mn)Bs.prototype[n]!==void 0&&(Bs.prototype[Mn[n]]=Bs.prototype[n]);var Or=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},yu={UNKNOWN:0,DATA:1,ERROR:2},tt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function en(n){switch(n instanceof Error||typeof n=="object"&&n!==null||nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new xi(n.message);case"MissingPDFException":return new Ei(n.message);case"PasswordException":return new aa(n.message,n.code);case"UnexpectedResponseException":return new Us(n.message,n.status);case"UnknownErrorException":return new la(n.message,n.details);default:return new la(n.message,n.toString())}}var kr=class{constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{let s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){this.#t(s);return}if(s.callback){let a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===yu.DATA)l.resolve(s.data);else if(s.callback===yu.ERROR)l.reject(en(s.reason));else throw new Error("Unexpected callback case");return}let o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){let a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){i.postMessage({sourceName:a,targetName:l,callback:yu.DATA,callbackId:s.callbackId,data:c})},function(c){i.postMessage({sourceName:a,targetName:l,callback:yu.ERROR,callbackId:s.callbackId,reason:en(c)})});return}if(s.streamId){this.#e(s);return}o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){let i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){let r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){let s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{let u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{let u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:tt.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{ht(c instanceof Error,"cancel must have a valid reason");let u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:tt.CANCEL,streamId:s,reason:en(c)}),u.promise}},i)}#e(e){let t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;let h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:tt.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:tt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){ht(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:tt.ERROR,streamId:t,reason:en(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:tt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:tt.START_COMPLETE,streamId:t,reason:en(c)})})}#t(e){let t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case tt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(en(e.reason));break;case tt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(en(e.reason));break;case tt.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:tt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:tt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:tt.PULL_COMPLETE,streamId:t,reason:en(l)})});break;case tt.ENQUEUE:if(ht(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case tt.CLOSE:if(ht(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#n(o,t);break;case tt.ERROR:ht(o,"error should have stream controller"),o.controller.error(en(e.reason)),this.#n(o,t);break;case tt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(en(e.reason)),this.#n(o,t);break;case tt.CANCEL:if(!a)break;new Promise(function(l){l(a.onCancel?.(en(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:tt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:tt.CANCEL_COMPLETE,streamId:t,reason:en(l)})}),a.sinkCapability.reject(en(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#n(e,t){return k(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},Vm=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return Nv(this.#e)}has(e){return this.#e.has(e)}},Zi=Symbol("INTERNAL"),jm=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:i,usage:r}){this.#e=!!(e&tn.DISPLAY),this.#t=!!(e&tn.PRINT),this.name=t,this.intent=i,this.usage=r}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==Zi&&nt("Internal method `_setVisible` called."),this.#n=i,this.#i=t}},Bm=class{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=tn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(let i of e.groups)this.#t.set(i.id,new jm(t,i));if(e.baseState==="OFF")for(let i of this.#t.values())i._setVisible(Zi,!1);for(let i of e.on)this.#t.get(i)._setVisible(Zi,!0);for(let i of e.off)this.#t.get(i)._setVisible(Zi,!1);this.#n=this.getHash()}}#r(e){let t=e.length;if(t<2)return!0;let i=e[0];for(let r=1;r<t;r++){let s=e[r],o;if(Array.isArray(s))o=this.#r(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return he(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return rd("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(he(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#r(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return he(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return he(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return he(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return he(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return he(`Unknown optional content policy ${e.policy}.`),!0}return he(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){let i=this.#t.get(e);if(!i){he(`Optional content group not found: ${e}`);return}i._setVisible(Zi,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(let r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}let s=this.#t.get(r);if(s)switch(i){case"ON":s._setVisible(Zi,!0);break;case"OFF":s._setVisible(Zi,!1);break;case"Toggle":s._setVisible(Zi,!s.visible);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?Nv(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new Ou;for(let[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}},Hm=class{constructor(e,{disableRange:t=!1,disableStream:i=!1}){ht(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){let l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{let r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});ht(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ht(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new Um(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new $m(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},Um=class{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=Rv(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(let s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return k(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},$m=class{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return k(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function oO(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){let u=c(t);return s(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{let h=new TextDecoder(u,{fatal:!0}),f=sd(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){let d=[],h,f=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,g,v,m]=h;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[v,m]}let p=[];for(let g=0;g<d.length&&g in d;++g){let[v,m]=d[g];m=a(m),v&&(m=unescape(m),g===0&&(m=l(m))),p.push(m)}return p.join("")}function a(u){if(u.startsWith('"')){let d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){let f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){let d=u.indexOf("'");if(d===-1)return u;let h=u.slice(0,d),p=u.slice(d+1).replace(/^[^']*'/,"");return r(h,p)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,p){if(f==="q"||f==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}),r(h,p);try{p=atob(p)}catch{}return r(h,p)})}return""}function Ov({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){let r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Lv(n){let e=n("Content-Disposition");if(e){let t=oO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Rv(t))return t}return null}function ld(n,e){return n===404||n===0&&e.startsWith("file:")?new Ei('Missing PDF "'+e+'".'):new Us(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function cx(n){return n===200||n===206}function ux(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function dx(n){let e=new Headers;for(let t in n){let i=n[t];i!==void 0&&e.append(t,i)}return e}function hx(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(he(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var Vu=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ht(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zm(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new Wm(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},zm=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=dx(this._stream.httpHeaders);let i=t.url;fetch(i,ux(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!cx(r.status))throw ld(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();let s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=Ov({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=Lv(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return k(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:hx(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},Wm=class{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;let r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=dx(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);let s=r.url;fetch(s,ux(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!cx(o.status))throw ld(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return k(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:hx(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},dm=200,hm=206;function aO(n){let e=n.response;return typeof e!="string"?e:sd(e).buffer}var Gm=class{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){let r={begin:e,end:t};for(let s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let s in this.httpHeaders){let o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=hm):r.expectedStatus=dm,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){let i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){let i=this.pendingRequests[e];if(!i)return;let r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError?.(r.status);return}let s=r.status||dm;if(!(s===dm&&i.expectedStatus===hm)&&s!==i.expectedStatus){i.onError?.(r.status);return}let a=aO(r);if(s===hm){let l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);i.onDone({begin:parseInt(c[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):i.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},qm=class{constructor(e){this._source=e,this._manager=new Gm(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ht(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ym(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let i=new Km(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},Ym=class{constructor(e,t){this._manager=e;let i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=Ov({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Lv(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ld(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return k(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},Km=class{constructor(e,t,i){this._manager=e;let r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=ld(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return k(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},lO=/^[a-z][a-z0-9\-+.]+:/i;function cO(n){if(lO.test(n))return new URL(n);let e=Qn.get("url");return new URL(e.pathToFileURL(n))}function fx(n,e,t){return n.protocol==="http:"?Qn.get("http").request(n,{headers:e},t):Qn.get("https").request(n,{headers:e},t)}var Xm=class{constructor(e){this.source=e,this.url=cO(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ht(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Jm(this):new Qm(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=this.isFsUrl?new ev(this,e,t):new Zm(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},ju=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return k(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},Bu=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return k(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},Qm=class extends ju{constructor(e){super(e);let t=i=>{if(i.statusCode===404){let a=new Ei(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);let r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=Ov({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=Lv(r)};this._request=fx(this._url,e.httpHeaders,t),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}},Zm=class extends Bu{constructor(e,t,i){super(e),this._httpHeaders={};for(let s in e.httpHeaders){let o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;let r=s=>{if(s.statusCode===404){let o=new Ei(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=fx(this._url,this._httpHeaders,r),this._request.on("error",s=>{this._storedError=s}),this._request.end()}},Jm=class extends ju{constructor(e){super(e);let t=Qn.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Ei(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}},ev=class extends Bu{constructor(e,t,i){super(e);let r=Qn.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}},uO=1e5,$t=30,dO=.8,ga=class n{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#l=0;#d=null;#c=null;#u=0;#o=0;#h=Object.create(null);#p=[];#f=null;#g=[];#v=new WeakMap;#m=null;static#y=new Map;static#_=new Map;static#C=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#o=i.scale*(globalThis.devicePixelRatio||1),this.#u=i.rotation,this.#s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};let{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;this.#m=[1,0,0,-1,-o,a+s],this.#l=r,this.#a=s,n.#I(),Lr(t,i),this.#e.promise.catch(()=>{}).then(()=>{n.#w.delete(this),this.#s=null,this.#h=null})}render(){let e=()=>{this.#d.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#r??=t.lang,Object.assign(this.#h,t.styles),this.#x(t.items),e()},this.#e.reject)};return this.#d=this.#f.getReader(),n.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==this.#u&&(t?.(),this.#u=r,Lr(this.#c,{rotation:r})),i!==this.#o){t?.(),this.#o=i;let s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:n.#E(this.#r)};for(let o of this.#g)s.properties=this.#v.get(o),s.div=o,this.#D(s)}}cancel(){let e=new xi("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#p}#x(e){if(this.#n)return;this.#s.ctx??=n.#E(this.#r);let t=this.#g,i=this.#p;for(let r of e){if(t.length>uO){he("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){let s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id!==null&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#T(r)}}#T(e){let t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#g.push(t);let r=U.transform(this.#m,e.transform),s=Math.atan2(r[1],r[0]),o=this.#h[e.fontName];o.vertical&&(s+=Math.PI/2);let a=this.#i&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*n.#S(a,this.#r),u,d;s===0?(u=r[4],d=r[5]-c):(u=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));let h="calc(var(--scale-factor)*",f=t.style;this.#t===this.#c?(f.left=`${(100*u/this.#l).toFixed(2)}%`,f.top=`${(100*d/this.#a).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(n.#C*l).toFixed(2)}px)`,f.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let g=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);g!==v&&Math.max(g,v)/Math.min(g,v)>1.5&&(p=!0)}if(p&&(i.canvasWidth=o.vertical?e.height:e.width),this.#v.set(t,i),this.#s.div=t,this.#s.properties=i,this.#D(this.#s),i.hasText&&this.#t.append(t),i.hasEOL){let g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#D(e){let{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t,l="";if(n.#C>1&&(l=`scale(${1/n.#C})`),i.canvasWidth!==0&&i.hasText){let{fontFamily:c}=a,{canvasWidth:u,fontSize:d}=i;(s!==d||o!==c)&&(r.font=`${d*this.#o}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);let{width:h}=r.measureText(t.textContent);h>0&&(l=`scaleX(${u*this.#o/h}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#w.size>0)){this.#y.clear();for(let{canvas:e}of this.#_.values())e.remove();this.#_.clear()}}static#E(e=null){let t=this.#_.get(e||="");if(!t){let i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#_.set(e,t)}return t}static#I(){if(this.#C!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#S(e,t){let i=this.#y.get(e);if(i)return i;let r=this.#E(t),s=r.font;r.canvas.width=r.canvas.height=$t,r.font=`${$t}px ${e}`;let o=r.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){let d=a/(a+l);return this.#y.set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,$t,$t),r.strokeText("g",0,0);let c=r.getImageData(0,0,$t,$t).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/$t);break}r.clearRect(0,0,$t,$t),r.strokeText("A",0,$t),c=r.getImageData(0,0,$t,$t).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=$t-Math.floor(d/4/$t);break}r.canvas.width=r.canvas.height=0,r.font=s;let u=a?a/(a+l):dO;return this.#y.set(e,u),u}},ma=class n{static textContent(e){let t=[],i={items:t,styles:Object.create(null)};function r(s){if(!s)return;let o=null,a=s.name;if(a==="#text")o=s.value;else if(n.shouldBuildText(a))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(let l of s.children)r(l)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},hO=65536,fO=100,pO=5e3,gO=Et?Tm:ym,mO=Et?Pm:Tu,vO=Et?Mm:vm,yO=Et?Nm:Pu;function bO(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let e=new tv,{docId:t}=e,i=n.url?_O(n.url):null,r=n.data?wO(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof Hu?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:hO,u=n.worker instanceof Hs?n.worker:null,d=n.verbosity,h=typeof n.docBaseUrl=="string"&&!ad(n.docBaseUrl)?n.docBaseUrl:null,f=typeof n.cMapUrl=="string"?n.cMapUrl:null,p=n.cMapPacked!==!1,g=n.CMapReaderFactory||mO,v=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||yO,_=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,w=n.isEvalSupported!==!1,S=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Et,E=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:Et,N=n.fontExtraProperties===!0,x=n.enableXfa===!0,P=n.ownerDocument||globalThis.document,j=n.disableRange===!0,we=n.disableStream===!0,Me=n.disableAutoFetch===!0,Te=n.pdfBug===!0,He=n.enableHWA===!0,yt=l?l.length:n.length??NaN,Z=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Et&&!D,se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===Tu&&m===Pu&&f&&v&&sa(f,document.baseURI)&&sa(v,document.baseURI),Fa=n.canvasFactory||new gO({ownerDocument:P,enableHWA:He}),Va=n.filterFactory||new vO({docId:t,ownerDocument:P}),ja=null;Ok(d);let St={canvasFactory:Fa,filterFactory:Va};if(se||(St.cMapReaderFactory=new g({baseUrl:f,isCompressed:p}),St.standardFontDataFactory=new m({baseUrl:v})),!u){let ar={verbosity:d,port:Or.workerPort};u=ar.port?Hs.fromPort(ar):new Hs(ar),e._worker=u}let gt={docId:t,apiVersion:"4.6.82",data:r,password:a,disableAutoFetch:Me,rangeChunkSize:c,length:yt,docBaseUrl:h,enableXfa:x,evaluatorOptions:{maxImageSize:C,disableFontFace:D,ignoreErrors:_,isEvalSupported:w,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:E,fontExtraProperties:N,useSystemFonts:Z,cMapUrl:se?f:null,standardFontDataUrl:se?v:null}},Ba={disableFontFace:D,fontExtraProperties:N,ownerDocument:P,pdfBug:Te,styleElement:ja,loadingParams:{disableAutoFetch:Me,enableXfa:x}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let ar=u.messageHandler.sendWithPromise("GetDocRequest",gt,r?[r.buffer]:null),Ii;if(l)Ii=new Hm(l,{disableRange:j,disableStream:we});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");Ii=(ei=>Et?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&sa(ei.url)?new Vu(ei):new Xm(ei):sa(ei.url)?new Vu(ei):new qm(ei))({url:i,length:yt,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:j,disableStream:we})}return ar.then(it=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let ei=new kr(t,it,u.port),Hy=new sv(ei,e,Ii,Ba,St);e._transport=Hy,ei.send("Ready",null)})}).catch(e._capability.reject),e}function _O(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Et&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function wO(n){if(Et&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return sd(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ix(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var tv=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return k(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},Hu=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},nv=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return me(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},iv=class{#e=null;#t=!1;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new Nu:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Uu,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new ua({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return me(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return k(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=Ji.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){this._stats?.time("Overall");let h=this._transport.getRenderingIntent(i,r,u,d),{renderingIntent:f,cacheKey:p}=h;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(f);let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);let v=!!(f&tn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));let m=w=>{g.renderTasks.delete(_),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),w?(_.capability.reject(w),this._abortOperatorList({intentState:g,reason:w instanceof Error?w:new Error(w)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new av({callback:m,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||=new Set).add(_);let C=_.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([w,S])=>{if(this.destroyed){m();return}if(this._stats?.time("Rendering"),!(S.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:w,optionalContentConfig:S}),_.operatorListChanged()}).catch(m),C}getOperatorList({intent:e="display",annotationMode:t=Ji.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}let o=this._transport.getRenderingIntent(e,t,i,r,!0),a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ma.textContent(i));let t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}let o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#n(!1);return e&&t&&(this._stats&&=new Nu),t}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},pO),!1;for(let{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){let{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;let u=()=>{l.read().then(({value:d,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(let h of c.renderTasks)h.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof da){let r=fO;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new xi(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}},rv=class{#e=new Set;#t=Promise.resolve();postMessage(e,t){let i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let r of this.#e)r.call(this,i)})}addEventListener(e,t){this.#e.add(t)}removeEventListener(e,t){this.#e.delete(t)}terminate(){this.#e.clear()}},Hs=class n{static#e=0;static#t=!1;static#n;static{Et&&(this.#t=!0,Or.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}let r=new URL(t,i);return i.origin===r.origin},this._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}}constructor({name:e=null,port:t=null,verbosity:i=Lk()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(n.#n?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(n.#n||=new WeakMap).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Et?Promise.all([Qn.promise,this._readyCapability.promise]):this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new kr("main","worker",e),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(n.#t||n.#r){this._setupFakeWorker();return}let{workerSrc:e}=n;try{n._isSameOrigin(window.location.href,e)||(e=n._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),i=new kr("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,this.#i()}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});let o=()=>{let a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{rd("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){n.#t||(he("Setting up fake worker."),n.#t=!0),n._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new rv;this._port=t;let i=`fake${n.#e++}`,r=new kr(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new kr(i,i+"_worker",t),this.#i()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=this.#n?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new n(e)}static get workerSrc(){if(Or.workerSrc)return Or.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#r(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return me(this,"_setupFakeWorkerGlobal",k(this,null,function*(){return this.#r?this.#r:(yield import(this.workerSrc)).WorkerMessageHandler}))}},sv=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#r=null;constructor(e,t,i,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Uu,this.fontLoader=new Dm({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(e,t=null){let i=this.#e.get(e);if(i)return i;let r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return me(this,"annotationStorage",new fa)}getRenderingIntent(e,t=Ji.ENABLE,i=null,r=!1,s=!1){let o=tn.DISPLAY,a=Sm;switch(e){case"any":o=tn.ANY;break;case"display":break;case"print":o=tn.PRINT;break;default:he(`getRenderingIntent - invalid intent: ${e}`)}let l=o&tn.PRINT&&i instanceof Lu?i:this.annotationStorage;switch(t){case Ji.DISABLE:o+=tn.ANNOTATIONS_DISABLE;break;case Ji.ENABLE:break;case Ji.ENABLE_FORMS:o+=tn.ANNOTATIONS_FORMS;break;case Ji.ENABLE_STORAGE:o+=tn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:he(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=tn.IS_EDITING),s&&(o+=tn.OPLIST);let{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),ga.cleanup(),this._networkStream?.cancelAllRequests(new xi("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{ht(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}ht(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{let r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),s.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{ht(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}ht(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new nv(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new aa(i.message,i.code);break;case"InvalidPDFException":r=new Au(i.message);break;case"MissingPDFException":r=new Ei(i.message);break;case"UnexpectedResponseException":r=new Us(i.message,i.status);break;case"UnknownErrorException":r=new la(i.message,i.details);break;default:nt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(this.#r=Promise.withResolvers(),t.onPassword){let r=s=>{s instanceof Error?this.#r.reject(s):this.#r.resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){this.#r.reject(s)}}else this.#r.reject(new aa(i.message,i.code));return this.#r.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":let{disableFontFace:o,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in s){let h=s.error;he(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}let c=l&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new Im(s,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!a&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":let{imageRef:d}=s;ht(d,"The imageRef must be defined.");for(let h of this.#t.values())for(let[,f]of h.objs)if(f?.ref===d)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{if(this.destroyed)return;let a=this.#t.get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":a.objs.resolve(i,o),o?.dataLen>Tk&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&he("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,i=this.#n.get(t);if(i)return i;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,e);let o=new iv(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#n.set(t,r),r}getPageIndex(e){return ix(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new Bm(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new Vm(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return k(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),ga.cleanup()}})}cachedPageNumber(e){if(!ix(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}},bu=Symbol("INITIAL_DATA"),Uu=class{#e=Object.create(null);#t(e){return this.#e[e]||=Y(T({},Promise.withResolvers()),{data:bu})}get(e,t=null){if(t){let r=this.#t(e);return r.promise.then(()=>t(r.data)),null}let i=this.#e[e];if(!i||i.data===bu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){let t=this.#e[e];return!!t&&t.data!==bu}resolve(e,t=null){let i=this.#t(e);i.data=t,i.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==bu&&(yield[e,t])}}},ov=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},av=class n{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ov(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Bs(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(e||new da(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return k(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},CO="4.6.82",EO="9b541910f";function rx(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ra(n){return Math.max(0,Math.min(255,255*n))}var $u=class{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ra(e),[e,e,e]}static G_HTML([e]){let t=rx(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(ra)}static RGB_HTML(e){return`#${e.map(rx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[ra(1-Math.min(1,e+r)),ra(1-Math.min(1,i+r)),ra(1-Math.min(1,t+r))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){let r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}},zu=class{static setupStorage(e,t,i,r,s){let o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(let a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{let l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){let{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(let[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){let t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});let a=s!=="richText",l=e.div;if(l.append(o),e.viewport){let d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");let c=[];if(r.children.length===0){if(r.value){let d=document.createTextNode(r.value);o.append(d),a&&ma.shouldBuildText(r.name)&&c.push(d)}return{textDivs:c}}let u=[[r,-1,o]];for(;u.length>0;){let[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}let p=d.children[++u.at(-1)[1]];if(p===null)continue;let{name:g}=p;if(g==="#text"){let m=document.createTextNode(p.value);c.push(m),f.append(m);continue}let v=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,g):document.createElement(g);if(f.append(v),p.attributes&&this.setAttributes({html:v,element:p,storage:t,intent:s,linkService:i}),p.children?.length>0)u.push([p,-1,v]);else if(p.value){let m=document.createTextNode(p.value);a&&ma.shouldBuildText(g)&&c.push(m),v.append(m)}}for(let d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},ba=1e3,xO=9,Vr=new WeakSet;function Ci(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var lv=class{static create(e){switch(e.data.annotationType){case dt.LINK:return new Wu(e);case dt.TEXT:return new cv(e);case dt.WIDGET:switch(e.data.fieldType){case"Tx":return new uv(e);case"Btn":return e.data.radioButton?new Gu(e):e.data.checkBox?new hv(e):new fv(e);case"Ch":return new pv(e);case"Sig":return new dv(e)}return new Ai(e);case dt.POPUP:return new va(e);case dt.FREETEXT:return new qu(e);case dt.LINE:return new mv(e);case dt.SQUARE:return new vv(e);case dt.CIRCLE:return new yv(e);case dt.POLYLINE:return new Yu(e);case dt.CARET:return new _v(e);case dt.INK:return new Ku(e);case dt.POLYGON:return new bv(e);case dt.HIGHLIGHT:return new wv(e);case dt.UNDERLINE:return new Cv(e);case dt.SQUIGGLY:return new Ev(e);case dt.STRIKEOUT:return new xv(e);case dt.STAMP:return new Xu(e);case dt.FILEATTACHMENT:return new Av(e);default:return new Qe(e)}}},Qe=class n{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e?.str||t?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){let{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i?.splice(0,4,...e);let{width:c,height:u}=Ci(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(r)}_createContainer(e){let{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ai||(s.tabIndex=ba);let{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof va){let{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}let{width:a,height:l}=Ci(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;let g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(g>0||v>0){let _=`calc(${g}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;o.borderRadius=_}else if(this instanceof Gu){let _=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=_}switch(t.borderStyle.style){case na.SOLID:o.borderStyle="solid";break;case na.DASHED:o.borderStyle="dashed";break;case na.BEVELED:he("Unimplemented border style: beveled");break;case na.INSET:he("Unimplemented border style: inset");break;case na.UNDERLINE:o.borderBottomStyle="solid";break;default:break}let m=t.borderColor||null;m?(this.#t=!0,o.borderColor=U.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}let c=U.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=r.rawDims;o.left=`${100*(c[0]-h)/u}%`,o.top=`${100*(c[1]-f)/d}%`;let{rotation:p}=t;return t.hasOwnCanvas||p===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(p,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Ci(this.data.rect),a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,i,r)=>{let s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=$u[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:$u[`${o}_rgb`](a)})};return me(this,"_commonActions",{display:t=>{let{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){let i=this._commonActions;for(let r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let i=this._commonActions;for(let[r,s]of Object.entries(t)){let o=i[r];if(o){let a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,i,r,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){let[g,v,m,_]=e.subarray(2,6);if(r===g&&s===v&&t===m&&i===_)return}let{style:o}=this.container,a;if(this.#t){let{borderColor:g,borderWidth:v}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}let l=r-t,c=s-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);let h=u.createElement("defs");d.append(h);let f=u.createElement("clipPath"),p=`clippath_${this.data.id}`;f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let g=2,v=e.length;g<v;g+=8){let m=e[g],_=e[g+1],C=e[g+2],w=e[g+3],S=u.createElement("rect"),E=(C-t)/l,D=(s-_)/c,N=(m-C)/l,x=(_-w)/c;S.setAttribute("x",E),S.setAttribute("y",D),S.setAttribute("width",N),S.setAttribute("height",x),f.append(S),a?.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${D}" width="${N}" height="${x}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){let{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");let i=this.#n=new va({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(i.render())}render(){nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let i=[];if(this._fieldObjects){let r=this._fieldObjects[e];if(r)for(let{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;let l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Vr.has(c)){he(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(let r of document.getElementsByName(e)){let{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&Vr.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},Wu=class extends Qe{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(this.#t(i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#n(i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let r of Object.keys(t.actions)){let s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){he('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();let{fields:r,refs:s,include:o}=t,a=[];if(r.length!==0||s.length!==0){let u=new Set(s);for(let d of r){let h=this._fieldObjects[d]||[];for(let{id:f}of h)u.add(f)}for(let d of Object.values(this._fieldObjects))for(let h of d)u.has(h.id)===o&&a.push(h)}else for(let u of Object.values(this._fieldObjects))a.push(...u);let l=this.annotationStorage,c=[];for(let u of a){let{id:d}=u;switch(c.push(d),u.type){case"text":{let f=u.defaultValue||"";l.setValue(d,{value:f});break}case"checkbox":case"radiobutton":{let f=u.defaultValue===u.exportValues;l.setValue(d,{value:f});break}case"combobox":case"listbox":{let f=u.defaultValue||"";l.setValue(d,{value:f});break}default:continue}let h=document.querySelector(`[data-element-id="${d}"]`);if(h){if(!Vr.has(h)){he(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;h.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}},cv=class extends Qe{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},Ai=class extends Qe{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return xt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(e,t,i,r){for(let[s,o]of i)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":U.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||xO,s=e.style,o,a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(wu*r))||1,d=c/u;o=Math.min(r,l(d/wu))}else{let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/wu))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=U.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},uv=class extends Ai{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){let s=this.annotationStorage;for(let o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){let r=e.getValue(t,{value:this.data.fieldValue}),s=r.value||"",o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=r.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=a??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",a??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Vr.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=ba,this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",u=>{e.setValue(t,{value:u.target.value}),this.setPropertyOnSiblings(i,"value",u.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",u=>{let d=this.data.defaultFieldValue??"";i.value=l.userValue=d,l.formattedValue=null});let c=u=>{let{formattedValue:d}=l;d!=null&&(u.target.value=d),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",d=>{if(l.focused)return;let{target:h}=d;l.userValue&&(h.value=l.userValue),l.lastCommittedValue=h.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target);let h={value(f){l.userValue=f.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),f.target.value=l.userValue},formattedValue(f){let{formattedValue:p}=f.detail;l.formattedValue=p,p!=null&&f.target!==document.activeElement&&(f.target.value=p),e.setValue(t,{formattedValue:p})},selRange(f){f.target.setSelectionRange(...f.detail.selRange)},charLimit:f=>{let{charLimit:p}=f.detail,{target:g}=f;if(p===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",p);let v=l.userValue;!v||v.length<=p||(v=v.slice(0,p),g.value=l.userValue=v,e.setValue(t,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("keydown",d=>{l.commitKey=1;let h=-1;if(d.key==="Escape"?h=0:d.key==="Enter"&&!this.data.multiLine?h=2:d.key==="Tab"&&(l.commitKey=3),h===-1)return;let{value:f}=d.target;l.lastCommittedValue!==f&&(l.lastCommittedValue=f,l.userValue=f,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,willCommit:!0,commitKey:h,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});let u=c;c=null,i.addEventListener("blur",d=>{if(!l.focused||!d.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:h}=d.target;l.userValue=h,l.lastCommittedValue!==h&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,willCommit:!0,commitKey:l.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}),u(d)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",d=>{l.lastCommittedValue=null;let{data:h,target:f}=d,{value:p,selectionStart:g,selectionEnd:v}=f,m=g,_=v;switch(d.inputType){case"deleteWordBackward":{let C=p.substring(0,g).match(/\w*[^\w]*$/);C&&(m-=C[0].length);break}case"deleteWordForward":{let C=p.substring(g).match(/^[^\w]*\w*/);C&&(_+=C[0].length);break}case"deleteContentBackward":g===v&&(m-=1);break;case"deleteContentForward":g===v&&(_+=1);break}d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,change:h||"",willCommit:!1,selStart:m,selEnd:_}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){let d=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},dv=class extends Ai{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},hv=class extends Ai{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,i=t.id,r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let s=document.createElement("input");return Vr.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=ba,s.addEventListener("change",o=>{let{name:a,checked:l}=o.target;for(let c of this._getElementsByName(a,i)){let u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{let a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{let a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},Gu=class extends Ai{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,i=t.id,r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(let o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});let s=document.createElement("input");if(Vr.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=ba,s.addEventListener("change",o=>{let{name:a,checked:l}=o.target;for(let c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{let a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){let o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{let l={value:c=>{let u=o===c.detail.value;for(let d of this._getElementsByName(c.target.name)){let h=u&&d.id===i;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},fv=class extends Wu{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}},pv=class extends Ai{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Vr.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=ba;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{let d=this.data.defaultFieldValue;for(let h of r.options)h.selected=h.value===d});for(let u of this.data.options){let d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){let u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}let a=u=>{let d=u?"value":"textContent",{options:h,multiple:f}=r;return f?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]},l=a(!1),c=u=>{let d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{let d={value(h){o?.();let f=h.detail.value,p=new Set(Array.isArray(f)?f:[f]);for(let g of r.options)g.selected=p.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){r.multiple=!0},remove(h){let f=r.options,p=h.detail.remove;f[p].selected=!1,r.remove(p),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){let{index:f,displayValue:p,exportValue:g}=h.detail.insert,v=r.children[f],m=document.createElement("option");m.textContent=p,m.value=g,v?v.before(m):r.append(m),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){let{items:f}=h.detail;for(;r.length!==0;)r.remove(0);for(let p of f){let{displayValue:g,exportValue:v}=p,m=document.createElement("option");m.textContent=g,m.value=v,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){let f=new Set(h.detail.indices);for(let p of h.target.options)p.selected=f.has(p.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),r.addEventListener("input",u=>{let d=a(!0),h=a(!1);e.setValue(t,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},va=class extends Qe{constructor(e){let{data:t,elements:i}=e;super(e,{isRenderable:Qe._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new gv({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${ax}${i}`).join(",")),this.container}},gv=class{#e=this.#T.bind(this);#t=this.#S.bind(this);#n=this.#I.bind(this);#i=this.#E.bind(this);#r=null;#s=null;#a=null;#l=null;#d=null;#c=null;#u=null;#o=!1;#h=null;#p=null;#f=null;#g=null;#v=null;#m=null;#y=!1;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#s=e,this.#v=r,this.#a=o,this.#g=a,this.#c=l,this.#r=t,this.#f=c,this.#u=u,this.#d=i,this.#l=Ru.toDateObject(s),this.trigger=i.flatMap(h=>h.getElementsToTriggerPopup());for(let h of this.trigger)h.addEventListener("click",this.#i),h.addEventListener("mouseenter",this.#n),h.addEventListener("mouseleave",this.#t),h.classList.add("popupTriggerArea");for(let h of i)h.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,d&&this.#E()}render(){if(this.#h)return;let e=this.#h=document.createElement("div");if(e.className="popup",this.#r){let s=e.style.outlineColor=U.makeHexColor(...this.#r);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=U.makeHexColor(...this.#r.map(a=>Math.floor(.7*(255-a)+a)))}let t=document.createElement("span");t.className="header";let i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=this.#v,e.append(t),this.#l){let s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),t.append(s)}let r=this.#_;if(r)zu.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let s=this._formatContents(this.#a);e.append(s)}this.#s.append(e)}get#_(){let e=this.#g,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#g.html||null}get#C(){return this.#_?.attributes?.style?.fontSize||0}get#w(){return this.#_?.attributes?.style?.color||null}#x(e){let t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#w,fontSize:this.#C?`calc(${this.#C}px * var(--scale-factor))`:""}};for(let s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i}_formatContents({str:e,dir:t}){let i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;let r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){let a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#o)&&this.#E()}updateEdited({rect:e,popupContent:t}){this.#m||={contentsObj:this.#a,richText:this.#g},e&&(this.#p=null),t&&(this.#g=this.#x(t),this.#a=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#m&&({contentsObj:this.#a,richText:this.#g}=this.#m,this.#m=null,this.#h?.remove(),this.#h=null,this.#p=null)}#D(){if(this.#p!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#c,o=!!this.#u,a=o?this.#u:this.#f;for(let p of this.#d)if(!a||U.intersect(p.data.rect,a)!==null){a=p.data.rect,o=!0;break}let l=U.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,d=l[0]+u,h=l[1];this.#p=[100*(d-r)/t,100*(h-s)/i];let{style:f}=this.#s;f.left=`${this.#p[0]}%`,f.top=`${this.#p[1]}%`}#E(){this.#o=!this.#o,this.#o?(this.#I(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#e)):(this.#S(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#e))}#I(){this.#h||this.render(),this.isVisible?this.#o&&this.#s.classList.add("focused"):(this.#D(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#S(){this.#s.classList.remove("focused"),!(this.#o||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#s.hidden=!0)}maybeShow(){this.#y&&(this.#h||this.#I(),this.#y=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}},qu=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ge.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},mv=class extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:i}=Ci(e.rect),r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},vv=class extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:i}=Ci(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},yv=class extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:i}=Ci(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",i/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},Yu=class extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:i,popupRef:r}}=this;if(!t)return this.container;let{width:s,height:o}=Ci(e),a=this.svgFactory.create(s,o,!0),l=[];for(let u=0,d=t.length;u<d;u+=2){let h=t[u]-e[0],f=e[3]-t[u+1];l.push(`${h},${f}`)}l=l.join(" ");let c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},bv=class extends Yu{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},_v=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Ku=class extends Qe{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ge.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:i,popupRef:r}}=this,{width:s,height:o}=Ci(e),a=this.svgFactory.create(s,o,!0);for(let l of t){let c=[];for(let d=0,h=l.length;d<h;d+=2){let f=l[d]-e[0],p=e[3]-l[d+1];c.push(`${f},${p}`)}c=c.join(" ");let u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),a.append(u)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},wv=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}},Cv=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},Ev=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},xv=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},Xu=class extends Qe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Av=class extends Qe{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",T({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;let{isMac:r}=xt.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},Sv=class{#e=null;#t=null;#n=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){this.div=e,this.#e=t,this.#t=i,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}#i(e,t){let i=e.firstChild||e;i.id=`${ax}${t}`,this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1)}render(e){return k(this,null,function*(){let{annotations:t}=e,i=this.div;Lr(i,this.viewport);let r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ca,annotationStorage:e.annotationStorage||new fa,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let o of t){if(o.noHTML)continue;let a=o.annotationType===dt.POPUP;if(a){let u=r.get(o.id);if(!u)continue;s.elements=u}else{let{width:u,height:d}=Ci(o.rect);if(u<=0||d<=0)continue}s.data=o;let l=lv.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){let u=r.get(o.popupRef);u?u.push(l):r.set(o.popupRef,[l])}let c=l.render();o.hidden&&(c.style.visibility="hidden"),this.#i(c,o.id),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#r()})}update({viewport:e}){let t=this.div;this.viewport=e,Lr(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;let e=this.div;for(let[t,i]of this.#t){let r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";let{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}},_u=/\r\n?|\n/g,Dv=class n extends Ie{#e;#t="";#n=`${this.id}-editor`;#i=null;#r;#s=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=n.prototype,t=s=>s.isEmpty(),i=ha.TRANSLATE_SMALL,r=ha.TRANSLATE_BIG;return me(this,"_keyboardManager",new Fr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=ge.FREETEXT;constructor(e){super(Y(T({},e),{name:"freeTextEditor"})),this.#e=e.color||n._defaultColor||Ie._defaultLineColor,this.#r=e.fontSize||n._defaultFontSize}static initialize(e,t){Ie.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Q.FREETEXT_SIZE:n._defaultFontSize=t;break;case Q.FREETEXT_COLOR:n._defaultColor=t;break}}updateParams(e,t){switch(e){case Q.FREETEXT_SIZE:this.#a(t);break;case Q.FREETEXT_COLOR:this.#l(t);break}}static get defaultPropertiesToUpdate(){return[[Q.FREETEXT_SIZE,n._defaultFontSize],[Q.FREETEXT_COLOR,n._defaultColor||Ie._defaultLineColor]]}get propertiesToUpdate(){return[[Q.FREETEXT_SIZE,this.#r],[Q.FREETEXT_COLOR,this.#e]]}#a(e){let t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#r)*this.parentScale),this.#r=r,this.#c()},i=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){let t=r=>{this.#e=this.editorDiv.style.color=r},i=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ge.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;let e=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#d(){let e=[];this.editorDiv.normalize();for(let t of this.editorDiv.childNodes)e.push(n.#u(t));return e.join(`
`)}#c(){let[e,t]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:r,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#t,t=this.#t=this.#d().trimEnd();if(e===t)return;let i=r=>{if(this.#t=r,!r){this.remove();return}this.#o(),this._uiManager.rebuild(this),this.#c()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ie._l10nPromise.get("pdfjs-free-text-default-content").then(r=>this.editorDiv?.setAttribute("default-content",r)),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#r}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ku(this,this.div,["dblclick","keydown"]),this.width){let[r,s]=this.parentDimensions;if(this.annotationElementId){let{position:o}=this.#s,[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);let[c,u]=this.pageDimensions,[d,h]=this.pageTranslation,f,p;switch(this.rotation){case 0:f=e+(o[0]-d)/c,p=t+this.height-(o[1]-h)/u;break;case 90:f=e+(o[0]-d)/c,p=t-(o[1]-h)/u,[a,l]=[l,-a];break;case 180:f=e-this.width+(o[0]-d)/c,p=t-(o[1]-h)/u,[a,l]=[-a,-l];break;case 270:f=e+(o[0]-d-this.height*u)/c,p=t+(o[1]-h-this.width*c)/u,[a,l]=[-l,a];break}this.setAt(f*r,p*s,a,l)}else this.setAt(e*r,t*s,this.width*r,this.height*s);this.#o(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(_u,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();let r=n.#p(t.getData("text")||"").replaceAll(_u,`
`);if(!r)return;let s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();let o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}let{startContainer:a,startOffset:l}=o,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){let f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(_u,"")),f!==this.editorDiv){let p=c;for(let g of this.editorDiv.childNodes){if(g===f){p=u;continue}p.push(n.#u(g))}}c.push(a.nodeValue.slice(0,l).replaceAll(_u,""))}else if(a===this.editorDiv){let f=c,p=0;for(let g of this.editorDiv.childNodes)p++===l&&(f=u),f.push(n.#u(g))}this.#t=`${c.join(`
`)}${r}${u.join(`
`)}`,this.#o();let d=new Range,h=c.reduce((f,p)=>f+p.length,0);for(let{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){let p=f.nodeValue.length;if(h<=p){d.setStart(f,h),d.setEnd(f,h);break}h-=p}s.removeAllRanges(),s.addRange(d)}#o(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let e of this.#t.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#t.replaceAll("\xA0"," ")}static#p(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){let r=null;if(e instanceof qu){let{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:u},textContent:d,textPosition:h,parent:{page:{pageNumber:f}}}=e;if(!d||d.length===0)return null;r=e={annotationType:ge.FREETEXT,color:Array.from(a),fontSize:o,value:d.join(`
`),position:h,pageIndex:f-1,rect:l.slice(0),rotation:c,id:u,deleted:!1}}let s=super.deserialize(e,t,i);return s.#r=e.fontSize,s.#e=U.makeHexColor(...e.color),s.#t=n.#p(e.value),s.annotationElementId=e.id||null,s.#s=r,s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let t=n._internalPadding*this.parentScale,i=this.getRect(t,t),r=Ie._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:ge.FREETEXT,color:r,fontSize:this.#r,value:this.#h(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#f(s)?null:(s.id=this.annotationElementId,s)}#f(e){let{value:t,fontSize:i,color:r,pageIndex:s}=this.#s;return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((o,a)=>o!==r[a])||e.pageIndex!==s}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:i}=t;i.fontSize=`calc(${this.#r}px * var(--scale-factor))`,i.color=this.#e,t.replaceChildren();for(let s of this.#t.split(`
`)){let o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),t.append(o)}let r=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},Qu=class{#e;#t=[];#n=[];constructor(e,t=0,i=0,r=!0){let s=1/0,o=-1/0,a=1/0,l=-1/0,u=10**-4;for(let{x:m,y:_,width:C,height:w}of e){let S=Math.floor((m-t)/u)*u,E=Math.ceil((m+C+t)/u)*u,D=Math.floor((_-t)/u)*u,N=Math.ceil((_+w+t)/u)*u,x=[S,D,N,!0],P=[E,D,N,!1];this.#t.push(x,P),s=Math.min(s,S),o=Math.max(o,E),a=Math.min(a,D),l=Math.max(l,N)}let d=o-s+2*i,h=l-a+2*i,f=s-i,p=a-i,g=this.#t.at(r?-1:-2),v=[g[0],g[2]];for(let m of this.#t){let[_,C,w]=m;m[0]=(_-f)/d,m[1]=(C-p)/h,m[2]=(w-p)/h}this.#e={x:f,y:p,width:d,height:h,lastPoint:v}}getOutlines(){this.#t.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#l(t)),this.#s(t)):(this.#a(t),e.push(...this.#l(t)));return this.#i(e)}#i(e){let t=[],i=new Set;for(let o of e){let[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){let l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}let r=[],s;for(;i.size>0;){let o=i.values().next().value,[a,l,c,u,d]=o;i.delete(o);let h=a,f=l;for(s=[a,c],r.push(s);;){let p;if(i.has(u))p=u;else if(i.has(d))p=d;else break;i.delete(p),[a,l,c,u,d]=p,h!==a&&(s.push(h,f,a,f===l?l:c),h=a),f=f===l?c:l}s.push(h,f)}return new Iv(r,this.#e)}#r(e){let t=this.#n,i=0,r=t.length-1;for(;i<=r;){let s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1}#s([,e,t]){let i=this.#r(e);this.#n.splice(i,0,[e,t])}#a([,e,t]){let i=this.#r(e);for(let r=i;r<this.#n.length;r++){let[s,o]=this.#n[r];if(s!==e)break;if(s===e&&o===t){this.#n.splice(r,1);return}}for(let r=i-1;r>=0;r--){let[s,o]=this.#n[r];if(s!==e)break;if(s===e&&o===t){this.#n.splice(r,1);return}}}#l(e){let[t,i,r]=e,s=[[t,i,r]],o=this.#r(r);for(let a=0;a<o;a++){let[l,c]=this.#n[a];for(let u=0,d=s.length;u<d;u++){let[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s}},Zu=class{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof ya}},Iv=class extends Zu{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){let o=t[s],a=t[s+1];o===i?(e.push(`V${a}`),r=a):a===r&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){let o=[],a=i-e,l=r-t;for(let c of this.#t){let u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=e+c[d]*a,u[d+1]=r-c[d+1]*l;o.push(u)}return o}get box(){return this.#e}},Ju=class n{#e;#t=[];#n;#i;#r=[];#s=new Float64Array(18);#a;#l;#d;#c;#u;#o;#h=[];static#p=8;static#f=2;static#g=n.#p+n.#f;constructor({x:e,y:t},i,r,s,o,a=0){this.#e=i,this.#o=s*r,this.#i=o,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=a,this.#c=n.#p*r,this.#d=n.#g*r,this.#u=r,this.#h.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#s[8])}#v(){let e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[i,r,s,o]=this.#e;return[(this.#a+(e[0]-t[0])/2-i)/s,(this.#l+(e[1]-t[1])/2-r)/o,(this.#a+(t[0]-e[0])/2-i)/s,(this.#l+(t[1]-e[1])/2-r)/o]}add({x:e,y:t}){this.#a=e,this.#l=t;let[i,r,s,o]=this.#e,[a,l,c,u]=this.#s.subarray(8,12),d=e-c,h=t-u,f=Math.hypot(d,h);if(f<this.#d)return!1;let p=f-this.#c,g=p/f,v=g*d,m=g*h,_=a,C=l;a=c,l=u,c+=v,u+=m,this.#h?.push(e,t);let w=-m/p,S=v/p,E=w*this.#o,D=S*this.#o;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+E,u+D],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-E,u-D],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([a+E,l+D],2),this.#r.push(NaN,NaN,NaN,NaN,(a+E-i)/s,(l+D-r)/o),this.#s.set([a-E,l-D],14),this.#t.push(NaN,NaN,NaN,NaN,(a-E-i)/s,(l-D-r)/o)),this.#s.set([_,C,a,l,c,u],6),!this.isEmpty()):(this.#s.set([_,C,a,l,c,u],6),Math.abs(Math.atan2(C-l,_-a)-Math.atan2(m,v))<Math.PI/2?([a,l,c,u]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+u)/2-r)/o),[a,l,_,C]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+a)/2-i)/s,((C+l)/2-r)/o),!0):([_,C,a,l,c,u]=this.#s.subarray(0,6),this.#r.push(((_+5*a)/6-i)/s,((C+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),[c,u,a,l,_,C]=this.#s.subarray(12,18),this.#t.push(((_+5*a)/6-i)/s,((C+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#r,t=this.#t,i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,o,a,l]=this.#e,[c,u,d,h]=this.#v();if(isNaN(this.#s[6])&&!this.isEmpty())return`M${(this.#s[2]-s)/a} ${(this.#s[3]-o)/l} L${(this.#s[4]-s)/a} ${(this.#s[5]-o)/l} L${c} ${u} L${d} ${h} L${(this.#s[16]-s)/a} ${(this.#s[17]-o)/l} L${(this.#s[14]-s)/a} ${(this.#s[15]-o)/l} Z`;let f=[];f.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?f.push(`L${e[p+4]} ${e[p+5]}`):f.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);f.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${c} ${u} L${d} ${h} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?f.push(`L${t[p+4]} ${t[p+5]}`):f.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return f.push(`L${t[4]} ${t[5]} Z`),f.join(" ")}getOutlines(){let e=this.#r,t=this.#t,i=this.#s,r=i.subarray(4,6),s=i.subarray(16,18),[o,a,l,c]=this.#e,u=new Float64Array((this.#h?.length??0)+2);for(let m=0,_=u.length-2;m<_;m+=2)u[m]=(this.#h[m]-o)/l,u[m+1]=(this.#h[m+1]-a)/c;u[u.length-2]=(this.#a-o)/l,u[u.length-1]=(this.#l-a)/c;let[d,h,f,p]=this.#v();if(isNaN(i[6])&&!this.isEmpty()){let m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/c,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/c,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/c],0),new ya(m,u,this.#e,this.#u,this.#n,this.#i)}let g=new Float64Array(this.#r.length+24+this.#t.length),v=e.length;for(let m=0;m<v;m+=2){if(isNaN(e[m])){g[m]=g[m+1]=NaN;continue}g[m]=e[m],g[m+1]=e[m+1]}g.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],v),v+=24;for(let m=t.length-6;m>=6;m-=6)for(let _=0;_<6;_+=2){if(isNaN(t[m+_])){g[v]=g[v+1]=NaN,v+=2;continue}g[v]=t[m+_],g[v+1]=t[m+_+1],v+=2}return g.set([NaN,NaN,NaN,NaN,t[4],t[5]],v),new ya(g,u,this.#e,this.#u,this.#n,this.#i)}},ya=class extends Zu{#e;#t=null;#n;#i;#r;#s;#a;constructor(e,t,i,r,s,o){super(),this.#a=e,this.#r=t,this.#e=i,this.#s=r,this.#n=s,this.#i=o,this.#c(o);let{x:a,y:l,width:c,height:u}=this.#t;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u}toSVGPath(){let e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,i=this.#a.length;t<i;t+=6){if(isNaN(this.#a[t])){e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`);continue}e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){let o=i-e,a=r-t,l,c;switch(s){case 0:l=this.#l(this.#a,e,r,o,-a),c=this.#l(this.#r,e,r,o,-a);break;case 90:l=this.#d(this.#a,e,t,o,a),c=this.#d(this.#r,e,t,o,a);break;case 180:l=this.#l(this.#a,i,t,-o,a),c=this.#l(this.#r,i,t,-o,a);break;case 270:l=this.#d(this.#a,i,r,-o,-a),c=this.#d(this.#r,i,r,-o,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}#l(e,t,i,r,s){let o=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*r,o[a+1]=i+e[a+1]*s;return o}#d(e,t,i,r,s){let o=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*r,o[a+1]=i+e[a]*s;return o}#c(e){let t=this.#a,i=t[4],r=t[5],s=i,o=r,a=i,l=r,c=i,u=r,d=e?Math.max:Math.min;for(let v=6,m=t.length;v<m;v+=6){if(isNaN(t[v]))s=Math.min(s,t[v+4]),o=Math.min(o,t[v+5]),a=Math.max(a,t[v+4]),l=Math.max(l,t[v+5]),u<t[v+5]?(c=t[v+4],u=t[v+5]):u===t[v+5]&&(c=d(c,t[v+4]));else{let _=U.bezierBoundingBox(i,r,...t.slice(v,v+6));s=Math.min(s,_[0]),o=Math.min(o,_[1]),a=Math.max(a,_[2]),l=Math.max(l,_[3]),u<_[3]?(c=_[2],u=_[3]):u===_[3]&&(c=d(c,_[2]))}i=t[v+4],r=t[v+5]}let h=s-this.#n,f=o-this.#n,p=a-s+2*this.#n,g=l-o+2*this.#n;this.#t={x:h,y:f,width:p,height:g,lastPoint:[c,u]}}get box(){return this.#t}getNewOutline(e,t){let{x:i,y:r,width:s,height:o}=this.#t,[a,l,c,u]=this.#e,d=s*c,h=o*u,f=i*c+a,p=r*u+l,g=new Ju({x:this.#r[0]*d+f,y:this.#r[1]*h+p},this.#e,this.#s,e,this.#i,t??this.#n);for(let v=2;v<this.#r.length;v+=2)g.add({x:this.#r[v]*d+f,y:this.#r[v+1]*h+p});return g.getOutlines()}},ed=class n{#e=this.#f.bind(this);#t=this.#v.bind(this);#n=null;#i=null;#r;#s=null;#a=!1;#l=!1;#d=null;#c;#u=null;#o;static get _keyboardManager(){return me(this,"_keyboardManager",new Fr([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#l=!1,this.#o=Q.HIGHLIGHT_COLOR,this.#d=e):(this.#l=!0,this.#o=Q.HIGHLIGHT_DEFAULT_COLOR),this.#u=e?._uiManager||t,this.#c=this.#u._eventBus,this.#r=e?.color||this.#u?.highlightColors.values().next().value||"#FFFF98"}renderButton(){let e=this.#n=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#u._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#e,{signal:t});let i=this.#i=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#r,e.append(i),e}renderMainDropdown(){let e=this.#s=this.#h();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#h(){let e=document.createElement("div"),t=this.#u._signal;e.addEventListener("contextmenu",pn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[i,r]of this.#u.highlightColors){let s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);let o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#r),s.addEventListener("click",this.#p.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#e,{signal:t}),e}#p(e,t){t.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#o,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#n){this.#g(e);return}let t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#m){this.#g(e);return}if(e.target===this.#n){this.#s.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#s?.firstChild||e.target===this.#n){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#g(e);return}this.#s.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#g(e);return}this.#s.lastChild?.focus()}#f(e){n._keyboardManager.exec(this,e)}#g(e){if(this.#m){this.hideDropdown();return}if(this.#a=e.detail===0,window.addEventListener("pointerdown",this.#t,{signal:this.#u._signal}),this.#s){this.#s.classList.remove("hidden");return}let t=this.#s=this.#h();this.#n.append(t)}#v(e){this.#s?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#m(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#l){if(!this.#m){this.#d?.unselect();return}this.hideDropdown(),this.#n.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#i&&(this.#i.style.backgroundColor=e),!this.#s)return;let t=this.#u.highlightColors.values();for(let i of this.#s.children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s?.remove(),this.#s=null}},td=class n extends Ie{#e=null;#t=0;#n;#i=null;#r=null;#s=null;#a=null;#l=0;#d=null;#c=null;#u=null;#o=!1;#h=null;#p;#f=null;#g="";#v;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=ge.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=n.prototype;return me(this,"_keyboardManager",new Fr([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(Y(T({},e),{name:"highlightEditor"})),this.color=e.color||n._defaultColor,this.#v=e.thickness||n._defaultThickness,this.#p=e.opacity||n._defaultOpacity,this.#n=e.boxes||null,this.#m=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#o=!0,this.#_(e),this.#D()):(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#l=e.focusOffset,this.#y(),this.#D(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#o?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){let e=new Qu(this.#n,.001);this.#c=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#c.box;let t=new Qu(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();let{lastPoint:i}=this.#s.box;this.#h=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#_({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#c=e;let r=1.5;if(this.#s=e.getNewOutline(this.#v/2+r,.0025),t>=0)this.#u=t,this.#i=i,this.parent.drawLayer.finalizeLine(t,e),this.#f=this.parent.drawLayer.highlightOutline(this.#s);else if(this.parent){let u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,n.#E(this.#c.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#s),this.parent.drawLayer.updateBox(this.#f,n.#E(this.#s.box,u))}let{x:s,y:o,width:a,height:l}=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{let[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{let[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}let{lastPoint:c}=this.#s.box;this.#h=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(e,t){Ie.initialize(e,t),n._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Q.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case Q.HIGHLIGHT_THICKNESS:n._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#h}updateParams(e,t){switch(e){case Q.HIGHLIGHT_COLOR:this.#C(t);break;case Q.HIGHLIGHT_THICKNESS:this.#w(t);break}}static get defaultPropertiesToUpdate(){return[[Q.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[Q.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[Q.HIGHLIGHT_COLOR,this.color||n._defaultColor],[Q.HIGHLIGHT_THICKNESS,this.#v||n._defaultThickness],[Q.HIGHLIGHT_FREE,this.#o]]}#C(e){let t=r=>{this.color=r,this.parent?.drawLayer.changeColor(this.#u,r),this.#r?.updateColor(r)},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#w(e){let t=this.#v,i=r=>{this.#v=r,this.#x(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return k(this,null,function*(){let e=yield Gy(n.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#r=new ed({editor:this}),e.addColorPicker(this.#r)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#P())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#D(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#D(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#x(e){if(!this.#o)return;this.#_({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)}#T(){this.#u===null||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#D(e=this.parent){this.#u===null&&({id:this.#u,clipPathId:this.#i}=e.drawLayer.highlight(this.#c,this.color,this.#p),this.#f=e.drawLayer.highlightOutline(this.#s),this.#d&&(this.#d.style.clipPath=this.#i))}static#E({x:e,y:t,width:i,height:r},s){switch(s){case 90:return{x:1-t-r,y:e,width:r,height:i};case 180:return{x:1-e-i,y:1-t-r,width:i,height:r};case 270:return{x:t,y:1-e-i,width:r,height:i}}return{x:e,y:t,width:i,height:r}}rotate(e){let{drawLayer:t}=this.parent,i;this.#o?(e=(e-this.rotation+360)%360,i=n.#E(this.#c.box,e)):i=n.#E(this,e),t.rotate(this.#u,e),t.rotate(this.#f,e),t.updateBox(this.#u,i),t.updateBox(this.#f,n.#E(this.#s.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#o?e.classList.add("free"):this.div.addEventListener("keydown",this.#I.bind(this),{signal:this._uiManager._signal});let t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;let[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),ku(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#f,"hovered")}#I(e){n._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#S(!0);break;case 1:case 3:this.#S(!1);break}}#S(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#l)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#o||this.#S(!1))}get _mustFixPosition(){return!this.#o}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#f,e))}#P(){return this.#o?this.rotation:0}#k(){if(this.#o)return null;let[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#n,o=new Float32Array(s.length*8),a=0;for(let{x:l,y:c,width:u,height:d}of s){let h=l*e+i,f=(1-c-d)*t+r;o[a]=o[a+4]=h,o[a+1]=o[a+3]=f,o[a+2]=o[a+6]=h+u*e,o[a+5]=o[a+7]=f+d*t,a+=8}return o}#A(e){return this.#c.serialize(e,this.#P())}static startHighlighting(e,t,{target:i,x:r,y:s}){let{x:o,y:a,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),h=p=>{p.preventDefault(),p.stopPropagation()},f=p=>{u.abort(),this.#M(e,p)};window.addEventListener("blur",f,{signal:d}),window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("pointerdown",h,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",pn,{signal:d}),i.addEventListener("pointermove",this.#b.bind(this,e),{signal:d}),this._freeHighlight=new Ju({x:r,y:s},[o,a,l,c],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#b(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#M(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,i){let r=super.deserialize(e,t,i),{rect:[s,o,a,l],color:c,quadPoints:u}=e;r.color=U.makeHexColor(...c),r.#p=e.opacity;let[d,h]=r.pageDimensions;r.width=(a-s)/d,r.height=(l-o)/h;let f=r.#n=[];for(let p=0;p<u.length;p+=8)f.push({x:(u[4]-a)/d,y:(l-(1-u[p+5]))/h,width:(u[p+2]-u[p])/d,height:(u[p+5]-u[p+1])/h});return r.#y(),r}serialize(e=!1){if(this.isEmpty()||e)return null;let t=this.getRect(0,0),i=Ie._colorManager.convert(this.color);return{annotationType:ge.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#v,quadPoints:this.#k(),outlines:this.#A(t),pageIndex:this.pageIndex,rect:t,rotation:this.#P(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}},Mv=class n extends Ie{#e=0;#t=0;#n=null;#i=new Path2D;#r=!1;#s=null;#a=!1;#l=!1;#d=null;#c=null;#u=0;#o=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=ge.INK;constructor(e){super(Y(T({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Ie.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Q.INK_THICKNESS:n._defaultThickness=t;break;case Q.INK_COLOR:n._defaultColor=t;break;case Q.INK_OPACITY:n._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case Q.INK_THICKNESS:this.#p(t);break;case Q.INK_COLOR:this.#f(t);break;case Q.INK_OPACITY:this.#g(t);break}}static get defaultPropertiesToUpdate(){return[[Q.INK_THICKNESS,n._defaultThickness],[Q.INK_COLOR,n._defaultColor||Ie._defaultLineColor],[Q.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Q.INK_THICKNESS,this.thickness||n._defaultThickness],[Q.INK_COLOR,this.color||n._defaultColor||Ie._defaultLineColor],[Q.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#p(e){let t=r=>{this.thickness=r,this.#B()},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(e){let t=r=>{this.color=r,this.#E()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(e){let t=r=>{this.opacity=r,this.#E()};e/=100;let i=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#A()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#B()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,i=this.width*e,r=this.height*t;this.setDimensions(i,r)}enableEditMode(){this.#r||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#I())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#S())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#v(){let{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}#m(){let{ctx:e,color:t,opacity:i,thickness:r,parentScale:s,scaleFactor:o}=this;e.lineWidth=r*s/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${Kk(i)}`}#y(e,t){this.canvas.addEventListener("contextmenu",pn,{signal:this._uiManager._signal}),this.#S(),this.#s=new AbortController;let i=this._uiManager.combinedSignal(this.#s);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#l||(this.#l=!0,this.#b(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||Ie._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([e,t]),this.#a=!1,this.#m(),this.#h=()=>{this.#x(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#_(e,t){let[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===r)return;let s=this.currentPath,o=this.#i;if(s.push([e,t]),this.#a=!0,s.length<=2){o.moveTo(...s[0]),o.lineTo(e,t);return}s.length===3&&(this.#i=o=new Path2D,o.moveTo(...s[0])),this.#T(o,...s.at(-3),...s.at(-2),e,t)}#C(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#i.lineTo(...e)}#w(e,t){this.#h=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#_(e,t),this.#C();let i;if(this.currentPath.length!==1)i=this.#D();else{let l=[e,t];i=[[l,l.slice(),l.slice(),l]]}let r=this.#i,s=this.currentPath;this.currentPath=[],this.#i=new Path2D;let o=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#A()),this.#B())};this.addCommands({cmd:o,undo:a,mustExec:!0})}#x(){if(!this.#a)return;this.#a=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),i=t.map(u=>u[0]),r=t.map(u=>u[1]),s=Math.min(...i)-e,o=Math.max(...i)+e,a=Math.min(...r)-e,l=Math.max(...r)+e,{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(let u of this.bezierPath2D)c.stroke(u);c.stroke(this.#i),c.restore()}#T(e,t,i,r,s,o,a){let l=(t+r)/2,c=(i+s)/2,u=(r+o)/2,d=(s+a)/2;e.bezierCurveTo(l+2*(r-l)/3,c+2*(s-c)/3,u+2*(r-u)/3,d+2*(s-d)/3,u,d)}#D(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],i,[r,s]=e[0];for(i=1;i<e.length-2;i++){let[h,f]=e[i],[p,g]=e[i+1],v=(h+p)/2,m=(f+g)/2,_=[r+2*(h-r)/3,s+2*(f-s)/3],C=[v+2*(h-v)/3,m+2*(f-m)/3];t.push([[r,s],_,C,[v,m]]),[r,s]=[v,m]}let[o,a]=e[i],[l,c]=e[i+1],u=[r+2*(o-r)/3,s+2*(a-s)/3],d=[l+2*(o-l)/3,c+2*(a-c)/3];return t.push([[r,s],u,d,[l,c]]),t}#E(){if(this.isEmpty()){this.#N();return}this.#m();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#N();for(let i of this.bezierPath2D)t.stroke(i)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#B(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#I(){if(this.#c)return;this.#c=new AbortController;let e=this._uiManager.combinedSignal(this.#c);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#S(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#r||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#y(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#_(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#P(e)}canvasPointerleave(e){this.#P(e)}#P(e){this.#s?.abort(),this.#s=null,this.#I(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",pn)},10),this.#w(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#A(){this.#d=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#r}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[i,r,s,o]=this.#v();if(this.setAt(i,r,0,0),this.setDims(s,o),this.#k(),this.width){let[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),this.#l=!0,this.#b(),this.setDims(this.width*a,this.height*l),this.#E(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#A(),this.div}#b(){if(!this.#l)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#N()}setDimensions(e,t){let i=Math.round(e),r=Math.round(t);if(this.#u===i&&this.#o===r)return;this.#u=i,this.#o=r,this.canvas.style.visibility="hidden";let[s,o]=this.parentDimensions;this.width=e/s,this.height=t/o,this.fixAndSetPosition(),this.#r&&this.#M(e,t),this.#b(),this.#E(),this.canvas.style.visibility="visible",this.fixDims()}#M(e,t){let i=this.#V(),r=(e-i)/this.#t,s=(t-i)/this.#e;this.scaleFactor=Math.min(r,s)}#N(){let e=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#L(e){let t=new Path2D;for(let i=0,r=e.length;i<r;i++){let[s,o,a,l]=e[i];i===0&&t.moveTo(...s),t.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}return t}static#H(e,t,i){let[r,s,o,a]=t;switch(i){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]+=r,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=e[l+1]+r,e[l+1]=u+s}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=o-e[l],e[l+1]+=s;break;case 270:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=o-e[l+1],e[l+1]=a-u}break;default:throw new Error("Invalid rotation")}return e}static#j(e,t,i){let[r,s,o,a]=t;switch(i){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]-=r,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=e[l+1]-s,e[l+1]=u-r}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=o-e[l],e[l+1]-=s;break;case 270:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=a-e[l+1],e[l+1]=o-u}break;default:throw new Error("Invalid rotation")}return e}#O(e,t,i,r){let s=[],o=this.thickness/2,a=e*t+o,l=e*i+o;for(let c of this.paths){let u=[],d=[];for(let h=0,f=c.length;h<f;h++){let[p,g,v,m]=c[h];if(p[0]===m[0]&&p[1]===m[1]&&f===1){let P=e*p[0]+a,j=e*p[1]+l;u.push(P,j),d.push(P,j);break}let _=e*p[0]+a,C=e*p[1]+l,w=e*g[0]+a,S=e*g[1]+l,E=e*v[0]+a,D=e*v[1]+l,N=e*m[0]+a,x=e*m[1]+l;h===0&&(u.push(_,C),d.push(_,C)),u.push(w,S,E,D,N,x),d.push(w,S),h===f-1&&d.push(N,x)}s.push({bezier:n.#H(u,r,this.rotation),points:n.#H(d,r,this.rotation)})}return s}#F(){let e=1/0,t=-1/0,i=1/0,r=-1/0;for(let s of this.paths)for(let[o,a,l,c]of s){let u=U.bezierBoundingBox(...o,...a,...l,...c);e=Math.min(e,u[0]),i=Math.min(i,u[1]),t=Math.max(t,u[2]),r=Math.max(r,u[3])}return[e,i,t,r]}#V(){return this.#r?Math.ceil(this.thickness*this.parentScale):0}#B(e=!1){if(this.isEmpty())return;if(!this.#r){this.#E();return}let t=this.#F(),i=this.#V();this.#t=Math.max(Ie.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(Ie.MIN_SIZE,t[3]-t[1]);let r=Math.ceil(i+this.#t*this.scaleFactor),s=Math.ceil(i+this.#e*this.scaleFactor),[o,a]=this.parentDimensions;this.width=r/o,this.height=s/a,this.setAspectRatio(r,s);let l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#b(),this.#E(),this.#u=r,this.#o=s,this.setDims(r,s);let u=e?i/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}static deserialize(e,t,i){if(e instanceof Ku)return null;let r=super.deserialize(e,t,i);r.thickness=e.thickness,r.color=U.makeHexColor(...e.color),r.opacity=e.opacity;let[s,o]=r.pageDimensions,a=r.width*s,l=r.height*o,c=r.parentScale,u=e.thickness/2;r.#r=!0,r.#u=Math.round(a),r.#o=Math.round(l);let{paths:d,rect:h,rotation:f}=e;for(let{bezier:g}of d){g=n.#j(g,h,f);let v=[];r.paths.push(v);let m=c*(g[0]-u),_=c*(g[1]-u);for(let w=2,S=g.length;w<S;w+=6){let E=c*(g[w]-u),D=c*(g[w+1]-u),N=c*(g[w+2]-u),x=c*(g[w+3]-u),P=c*(g[w+4]-u),j=c*(g[w+5]-u);v.push([[m,_],[E,D],[N,x],[P,j]]),m=P,_=j}let C=this.#L(v);r.bezierPath2D.push(C)}let p=r.#F();return r.#t=Math.max(Ie.MIN_SIZE,p[2]-p[0]),r.#e=Math.max(Ie.MIN_SIZE,p[3]-p[1]),r.#M(a,l),r}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=Ie._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ge.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#O(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},Tv=class n extends Ie{#e=null;#t=null;#n=null;#i=null;#r=null;#s="";#a=null;#l=null;#d=null;#c=!1;#u=!1;static _type="stamp";static _editorType=ge.STAMP;constructor(e){super(Y(T({},e),{name:"stampEditor"})),this.#i=e.bitmapUrl,this.#r=e.bitmapFile}static initialize(e,t){Ie.initialize(e,t)}static get supportedTypes(){return me(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return me(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(ge.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){let t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#o(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#s=e.file.name),this.#f()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){return k(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!(yield i.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:r,width:s,height:o}=e||this.copyCanvas(null,!0).imageData,a=yield i.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");let l=a.output;return yield this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l})}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#o(i,!0)).finally(()=>this.#h());return}if(this.#i){let i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#o(r)).finally(()=>this.#h());return}if(this.#r){let i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(r=>this.#o(r)).finally(()=>this.#h());return}let e=document.createElement("input");e.type="file",e.accept=n.supportedTypesStr;let t=this._uiManager._signal;this.#n=new Promise(i=>{e.addEventListener("change",()=>k(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let r=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#o(r)}i()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#l?.disconnect(),this.#l=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#r||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#f():this.#p(),this.width){let[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r)}return this.div}#f(){let{div:e}=this,{width:t,height:i}=this.#e,[r,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>o*r||i>o*s){let u=Math.min(o*r/t,o*s/i);t*=u,i*=u}let[a,l]=this.parentDimensions;this.setDims(t*a/r,i*l/s),this._uiManager.enableWaiting(!1);let c=this.#a=document.createElement("canvas");e.append(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow)&&(e.hidden=!1),this.#m(t,i),this.#_(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&c.setAttribute("aria-label",this.#s)}copyCanvas(e,t=!1){e||(e=224);let{width:i,height:r}=this.#e,s=document.createElement("canvas"),o=this.#e,a=i,l=r;if(i>e||r>e){let g=Math.min(e/i,e/r);a=Math.floor(i*g),l=Math.floor(r*g),this.#c||(o=this.#v(a,l))}s.width=a,s.height=l;let c=s.getContext("2d");c.filter=this._uiManager.hcmFilter;let u="white",d="#cfcfd8";this._uiManager.hcmFilter!=="none"?d="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(u="#8f8f9d",d="#42414d");let h=15,f=new OffscreenCanvas(h*2,h*2),p=f.getContext("2d");if(p.fillStyle=u,p.fillRect(0,0,h*2,h*2),p.fillStyle=d,p.fillRect(0,0,h,h),p.fillRect(h,h,h,h),c.fillStyle=c.createPattern(f,"repeat"),c.fillRect(0,0,a,l),t){let g=new OffscreenCanvas(a,l),v=g.getContext("2d",{willReadFrequently:!0});v.drawImage(o,0,0,o.width,o.height,0,0,a,l);let m=v.getImageData(0,0,a,l).data;return c.drawImage(g,0,0),{canvas:s,imageData:{width:a,height:l,data:m}}}return c.drawImage(o,0,0,o.width,o.height,0,0,a,l),{canvas:s,imageData:null}}#g(e,t){let[i,r]=this.parentDimensions;this.width=e/i,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#d!==null&&clearTimeout(this.#d);let s=200;this.#d=setTimeout(()=>{this.#d=null,this.#m(e,t)},s)}#v(e,t){let{width:i,height:r}=this.#e,s=i,o=r,a=this.#e;for(;s>2*e||o>2*t;){let l=s,c=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));let u=new OffscreenCanvas(s,o);u.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=u.transferToImageBitmap()}return a}#m(e,t){e=Math.ceil(e),t=Math.ceil(t);let i=this.#a;if(!i||i.width===e&&i.height===t)return;i.width=e,i.height=t;let r=this.#c?this.#e:this.#v(e,t),s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(r,0,0,r.width,r.height,0,0,e,t)}getImageForAltText(){return this.#a}#y(e){if(e){if(this.#c){let r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){let[t,i]=this.pageDimensions,r=Math.round(this.width*t*er.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*er.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}#_(){this._uiManager._signal&&(this.#l=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#g(t.width,t.height)}),this.#l.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#l?.disconnect(),this.#l=null},{once:!0}))}static deserialize(e,t,i){if(e instanceof Xu)return null;let r=super.deserialize(e,t,i),{rect:s,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:c}=e;a&&i.imageManager.isValidId(a)?r.#t=a:r.#i=o,r.#c=l;let[u,d]=r.pageDimensions;return r.width=(s[2]-s[0])/u,r.height=(s[3]-s[1])/d,c&&(r.altTextData=c),r}serialize(e=!1,t=null){if(this.isEmpty())return null;let i={annotationType:ge.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i;let{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),t===null)return i;t.stamps||=new Map;let o=this.#c?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:o,serialized:i}),i.bitmap=this.#y(!1);else if(this.#c){let a=t.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#y(!1))}return i}},AO=(()=>{class n{#e;#t=!1;#n=null;#i=null;#r=null;#s=new Map;#a=!1;#l=!1;#d=!1;#c=null;#u=null;#o;static _initialized=!1;static#h=new Map([Dv,Mv,Tv,td].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){let d=[...n.#h.values()];if(!n._initialized){n._initialized=!0;for(let h of d)h.initialize(u,t)}t.registerEditorTypes(d),this.#o=t,this.pageIndex=i,this.div=r,this.#e=s,this.#n=o,this.viewport=c,this.#c=l,this.drawLayer=a,this.#o.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#o.getMode()===ge.NONE}updateToolbar(t){this.#o.updateToolbar(t)}updateMode(t=this.#o.getMode()){switch(this.#m(),t){case ge.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ge.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ge.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:i}=this.div;for(let r of n.#h.values())i.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}addInkEditorIfNeeded(t){if(this.#o.getMode()!==ge.INK)return;if(!t){for(let r of this.#s.values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#o.setEditingState(t)}addCommands(t){this.#o.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let r of this.#s.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#o.removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!this.#n)return;let i=this.#n.getEditableAnnotations();for(let r of i){if(r.hide(),this.#o.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;let s=this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,i=new Map;for(let s of this.#s.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else i.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){let s=this.#n.getEditableAnnotations();for(let o of s){let{id:a}=o.data;if(this.#o.isDeletedAnnotationElement(a))continue;let l=i.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=t.get(a),l&&(this.#o.addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}this.#m(),this.isEmpty&&(this.div.hidden=!0);let{classList:r}=this.div;for(let s of n.#h.values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#o.getActive()!==t&&this.#o.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#c?.div&&!this.#u){this.#u=new AbortController;let t=this.#o.combinedSignal(this.#u);this.#c.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#c.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#c.div.classList.remove("highlighting"))}#p(t){this.#o.unselectAll();let{target:i}=t;if(i===this.#c.div||i.classList.contains("endOfContent")&&this.#c.div.contains(i)){let{isMac:r}=xt.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#o.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),td.startHighlighting(this,this.#o.direction==="ltr",t),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#o._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;let t=this.#o.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);let{annotationElementId:i}=t;i&&this.#o.isDeletedAnnotationElement(i)&&this.#o.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#d&&t.annotationElementId&&this.#o.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#o.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#o.addDeletedAnnotationElement(t.annotationElementId),Ie.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#o.addEditor(t),this.attach(t),!t.isAttachedToDOM){let i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#o.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:i}=document;t.div.contains(i)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#o._signal}),i.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let i=()=>t._uiManager.rebuild(t),r=()=>{t.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return this.#o.getId()}get#f(){return n.#h.get(this.#o.getMode())}combinedSignal(t){return this.#o.combinedSignal(t)}#g(t){let i=this.#f;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#o.updateToolbar(t),this.#o.updateMode(t);let{offsetX:r,offsetY:s}=this.#v(),o=this.getNextId(),a=this.#g(T({parent:this,id:o,x:r,y:s,uiManager:this.#o,isCentered:!0},i));a&&this.add(a)}deserialize(t){return n.#h.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#o)||null}createAndAddNewEditor(t,i,r={}){let s=this.getNextId(),o=this.#g(T({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#o,isCentered:i},r));return o&&this.add(o),o}#v(){let{x:t,y:i,width:r,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,t),a=Math.max(0,i),l=Math.min(window.innerWidth,t+r),c=Math.min(window.innerHeight,i+s),u=(o+l)/2-t,d=(a+c)/2-i,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#o.setSelected(t)}toggleSelected(t){this.#o.toggleSelected(t)}isSelected(t){return this.#o.isSelected(t)}unselect(t){this.#o.unselect(t)}pointerup(t){let{isMac:i}=xt.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&this.#a){if(this.#a=!1,!this.#t){this.#t=!0;return}if(this.#o.getMode()===ge.STAMP){this.#o.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#o.getMode()===ge.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}let{isMac:i}=xt.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;this.#a=!0;let r=this.#o.getActive();this.#t=!r||r.isEmpty()}findNewParent(t,i,r){let s=this.#o.findParent(i,r);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(let t of this.#s.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#o.removeLayer(this)}#m(){this.#l=!0;for(let t of this.#s.values())t.isEmpty()&&t.remove();this.#l=!1}render({viewport:t}){this.viewport=t,Lr(this.div,t);for(let i of this.#o.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#o.commitOrRemove(),this.#m();let i=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Lr(this.div,{rotation:r}),i!==r)for(let s of this.#s.values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#o.viewParameters.realScale}}return n})(),Pv=class n{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(let t of this.#n.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return me(this,"_svgFactory",new ca)}static#r(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){let{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#s(e){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),n.#r(t,e),t}#a(e,t){let i=n._svgFactory.createElement("clipPath");e.append(i);let r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");let s=n._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}highlight(e,t,i,r=!1){let s=this.#t++,o=this.#s(e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");let a=n._svgFactory.createElement("defs");o.append(a);let l=n._svgFactory.createElement("path");a.append(l);let c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&this.#i.set(s,l);let u=this.#a(a,c),d=n._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${c}`),this.#n.set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){let t=this.#t++,i=this.#s(e.box);i.classList.add("highlightOutline");let r=n._svgFactory.createElement("defs");i.append(r);let s=n._svgFactory.createElement("path");r.append(s);let o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");let u=n._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");let d=n._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");let h=n._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${o}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}let l=n._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);let c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(t,i),t}finalizeLine(e,t){let i=this.#i.get(e);this.#i.delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#i.delete(e)}updatePath(e,t){this.#i.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){n.#r(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}remove(e){this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(let e of this.#n.values())e.remove();this.#n.clear()}};var SO=ee.AbortException,DO=ee.AnnotationEditorLayer,IO=ee.AnnotationEditorParamsType,Fv=ee.AnnotationEditorType,MO=ee.AnnotationEditorUIManager,TO=ee.AnnotationLayer,PO=ee.AnnotationMode,NO=ee.CMapCompressionType,RO=ee.ColorPicker,kO=ee.DOMSVGFactory,OO=ee.DrawLayer,LO=ee.FeatureTest,Vv=ee.GlobalWorkerOptions,FO=ee.ImageKind,VO=ee.InvalidPDFException,jO=ee.MissingPDFException,BO=ee.OPS,HO=ee.PDFDataRangeTransport,UO=ee.PDFDateString,$O=ee.PDFWorker,zO=ee.PasswordResponses,WO=ee.PermissionFlag,GO=ee.PixelsPerInch,qO=ee.RenderingCancelledException,YO=ee.TextLayer,KO=ee.UnexpectedResponseException,XO=ee.Util,jv=ee.VerbosityLevel,QO=ee.XfaLayer,ZO=ee.build,JO=ee.createValidAbsoluteUrl,eL=ee.fetchData,Bv=ee.getDocument,tL=ee.getFilenameFromUrl,nL=ee.getPdfFilenameFromUrl,iL=ee.getXfaPageViewport,rL=ee.isDataScheme,sL=ee.isPdfFile,oL=ee.noContextMenu,aL=ee.normalizeUnicode,lL=ee.setLayerDimensions,cL=ee.shadow,_a=ee.version;var My={};Wy(My,{AnnotationLayerBuilder:()=>KF,DownloadManager:()=>XF,EventBus:()=>QF,FindState:()=>ZF,GenericL10n:()=>xy,LinkTarget:()=>Ur,PDFFindController:()=>Ay,PDFHistory:()=>JF,PDFLinkService:()=>Sy,PDFPageView:()=>e2,PDFScriptingManager:()=>t2,PDFSinglePageViewer:()=>Dy,PDFViewer:()=>Iy,ProgressBar:()=>n2,RenderingStates:()=>i2,ScrollMode:()=>r2,SimpleLinkService:()=>s2,SpreadMode:()=>o2,StructTreeLayerBuilder:()=>a2,TextLayerBuilder:()=>l2,XfaLayerBuilder:()=>c2,parseQueryString:()=>u2});var Ca={};Ca.d=(n,e)=>{for(var t in e)Ca.o(e,t)&&!Ca.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Ca.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Be=globalThis.pdfjsViewer={};Ca.d(Be,{AnnotationLayerBuilder:()=>yd,DownloadManager:()=>ey,EventBus:()=>bd,FindState:()=>nr,GenericL10n:()=>qs,LinkTarget:()=>jr,PDFFindController:()=>Zv,PDFHistory:()=>dy,PDFLinkService:()=>md,PDFPageView:()=>Ad,PDFScriptingManager:()=>_y,PDFSinglePageViewer:()=>Ey,PDFViewer:()=>Sd,ProgressBar:()=>Qv,RenderingStates:()=>Ye,ScrollMode:()=>ve,SimpleLinkService:()=>xa,SpreadMode:()=>At,StructTreeLayerBuilder:()=>Cd,TextLayerBuilder:()=>Ed,XfaLayerBuilder:()=>xd,parseQueryString:()=>Dd});var uL="auto",qx=1,px=1.1,dL=.1,hL=10,Hv=0,fL=1.25,gx=40,mx=5,Ye={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},zs={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var Zn={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},ve={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},At={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};var Xv=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}};function Yx(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0&&(s+=e.left,i.scrollLeft=s)),i.scrollTop=r}function pL(n,e,t=void 0){let i=function(o){s||(s=window.requestAnimationFrame(function(){s=null;let l=n.scrollLeft,c=r.lastX;l!==c&&(r.right=l>c),r.lastX=l;let u=n.scrollTop,d=r.lastY;u!==d&&(r.down=u>d),r.lastY=u,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i},s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function Dd(n){let e=new Map;for(let[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}var vx=/[\x00-\x1F]/g;function gd(n,e=!1){return vx.test(n)?e?n.replaceAll(vx,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Ea(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){let s=i+r>>1,o=n[s];e(o)?r=s:i=s+1}return i}function yx(n){if(Math.floor(n)===n)return[n,1];let e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let i=n>1?e:n,r=0,s=1,o=1,a=1;for(;;){let c=r+o,u=s+a;if(u>t)break;i<=c/u?(o=c,a=u):(r=c,s=u)}let l;return i-r/s<o/a-i?l=i===n?[r,s]:[s,r]:l=i===n?[o,a]:[a,o],l}function cd(n,e){return n-n%e}function gL(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function mL({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){let s=n.scrollTop,o=s+n.clientHeight,a=n.scrollLeft,l=a+n.clientWidth;function c(_){let C=_.div;return C.offsetTop+C.clientTop+C.clientHeight>s}function u(_){let C=_.div,w=C.offsetLeft+C.clientLeft,S=w+C.clientWidth;return r?w<l:S>a}let d=[],h=new Set,f=e.length,p=Ea(e,i?u:c);p>0&&p<f&&!i&&(p=gL(p,e,s));let g=i?l:-1;for(let _=p;_<f;_++){let C=e[_],w=C.div,S=w.offsetLeft+w.clientLeft,E=w.offsetTop+w.clientTop,D=w.clientWidth,N=w.clientHeight,x=S+D,P=E+N;if(g===-1)P>=o&&(g=P);else if((i?S:E)>g)break;if(P<=s||E>=o||x<=a||S>=l)continue;let j=Math.max(0,s-E)+Math.max(0,P-o),we=Math.max(0,a-S)+Math.max(0,x-l),Me=(N-j)/N,Te=(D-we)/D,He=Me*Te*100|0;d.push({id:C.id,x:S,y:E,view:C,percent:He,widthPercent:Te*100|0}),h.add(C.id)}let v=d[0],m=d.at(-1);return t&&d.sort(function(_,C){let w=_.percent-C.percent;return Math.abs(w)>.001?-w:_.id-C.id}),{first:v,last:m,views:d,ids:h}}function Kx(n){return Number.isInteger(n)&&n%90===0}function vL(n){return Number.isInteger(n)&&Object.values(ve).includes(n)&&n!==ve.UNKNOWN}function yL(n){return Number.isInteger(n)&&Object.values(At).includes(n)&&n!==At.UNKNOWN}function bx(n){return n.width<=n.height}var QW=new Promise(function(n){window.requestAnimationFrame(n)}),bL=document.documentElement.style;function _L(n,e,t){return Math.min(Math.max(n,e),t)}var Qv=class{#e=null;#t=null;#n=0;#i=null;#r=!0;constructor(e){this.#e=e.classList,this.#i=e.style}get percent(){return this.#n}set percent(e){if(this.#n=_L(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(e){if(!e)return;let i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){this.#n===100||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#r&&(this.#r=!1,this.#e.add("hidden"))}show(){this.#r||(this.#r=!0,this.#e.remove("hidden"))}};function wL(n){let e=ve.VERTICAL,t=At.NONE;switch(n){case"SinglePage":e=ve.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=ve.PAGE;case"TwoColumnLeft":t=At.ODD;break;case"TwoPageRight":e=ve.PAGE;case"TwoColumnRight":t=At.EVEN;break}return{scrollMode:e,spreadMode:t}}var Tn={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function CL(n){return n<11904}function EL(n){return(n&65408)===0}function xL(n){return n>=97&&n<=122||n>=65&&n<=90}function AL(n){return n>=48&&n<=57}function SL(n){return n===32||n===9||n===13||n===10}function DL(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function IL(n){return n>=12448&&n<=12543}function ML(n){return n>=12352&&n<=12447}function TL(n){return n>=65376&&n<=65439}function PL(n){return(n&65408)===3584}function ud(n){return CL(n)?EL(n)?SL(n)?Tn.SPACE:xL(n)||AL(n)||n===95?Tn.ALPHA_LETTER:Tn.PUNCT:PL(n)?Tn.THAI_LETTER:n===160?Tn.SPACE:Tn.ALPHA_LETTER:DL(n)?Tn.HAN_LETTER:IL(n)?Tn.KATAKANA_LETTER:ML(n)?Tn.HIRAGANA_LETTER:TL(n)?Tn.HALFWIDTH_KATAKANA_LETTER:Tn.ALPHA_LETTER}var _x;function NL(){return _x||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",_x}var nr={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},RL=250,kL=-50,OL=-400,wx={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},Cx=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),Ex,LL=new RegExp("\\p{M}+","gu"),FL=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),VL=new RegExp("([^\\p{M}])\\p{M}*$","u"),jL=new RegExp("^\\p{M}*([^\\p{M}])","u"),BL=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,xx=new Map,HL="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",Ax=new Map,Uv=null,$v=null;function zv(n){let e=[],t;for(;(t=BL.exec(n))!==null;){let{index:f}=t;for(let p of t[0]){let g=xx.get(p);g||(g=p.normalize("NFD").length,xx.set(p,g)),e.push([g,f++])}}let i;if(e.length===0&&Uv)i=Uv;else if(e.length>0&&$v)i=$v;else{let f=Object.keys(wx).join(""),p=NL(),m=`([${f}])|([${p}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?i=Uv=new RegExp(m+"|(\\u0000)","gum"):i=$v=new RegExp(m+`|(${HL})`,"gum")}let r=[];for(;(t=LL.exec(n))!==null;)r.push([t[0].length,t.index]);let s=n.normalize("NFD"),o=[[0,0]],a=0,l=0,c=0,u=0,d=0,h=!1;return s=s.replace(i,(f,p,g,v,m,_,C,w,S,E)=>{if(E-=u,p){let D=wx[p],N=D.length;for(let x=1;x<N;x++)o.push([E-c+x,c-x]);return c-=N-1,D}if(g){let D=Ax.get(g);D||(D=g.normalize("NFKC"),Ax.set(g,D));let N=D.length;for(let x=1;x<N;x++)o.push([E-c+x,c-x]);return c-=N-1,D}if(v)return h=!0,E+d===r[a]?.[1]?++a:(o.push([E-1-c+1,c-1]),c-=1,u+=1),o.push([E-c+1,c]),u+=1,d+=1,v.charAt(0);if(m){let D=m.endsWith(`
`),N=D?m.length-2:m.length;h=!0;let x=N;E+d===r[a]?.[1]&&(x-=r[a][0],++a);for(let P=1;P<=x;P++)o.push([E-1-c+P,c-P]);return c-=x,u+=x,D?(E+=N-1,o.push([E-c+1,1+c]),c+=1,u+=1,d+=1,m.slice(0,N)):m}if(_){let D=_.length-2;return o.push([E-c+D,1+c]),c+=1,u+=1,d+=1,_.slice(0,-2)}if(C){let D=C.length-1;return o.push([E-c+D,c]),u+=1,d+=1,C.slice(0,-1)}if(w)return o.push([E-c+1,c-1]),c-=1,u+=1,d+=1," ";if(E+d===e[l]?.[1]){let D=e[l][0]-1;++l;for(let N=1;N<=D;N++)o.push([E-(c-N),c-N]);c-=D,u+=D}return S}),o.push([s.length,c]),[s,o,h]}function UL(n,e,t){if(!n)return[e,t];let i=e,r=e+t-1,s=Ea(n,u=>u[0]>=i);n[s][0]>i&&--s;let o=Ea(n,u=>u[0]>=r,s);n[o][0]>r&&--o;let a=i+n[s][1],c=r+n[o][1]+1-a;return[a,c]}var Zv=class{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){this._linkService=e,this._eventBus=t,this.#t=i,this.onIsPageVisible=null,this.#r(),t._on("find",this.#i.bind(this)),t._on("findbarclose",this.#y.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#r(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#i(e){if(!e)return;let t=this._pdfDocument,{type:i}=e;(this.#e===null||this.#a(e))&&(this._dirtyMatch=!0),this.#e=e,i!=="highlightallchange"&&this.#w(nr.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#u();let r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#p():i==="again"?(this.#p(),r&&this.#e.highlightAll&&this.#h()):i==="highlightallchange"?(s?this.#p():this._highlightMatches=!0,this.#h()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},RL)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;let s={top:kL,left:t+OL};Yx(e,s,!0)}#r(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#s(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=zv(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>zv(t)[0])}#a(e){let t=e.query,i=this.#e.query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":let o=this._selected.pageIdx+1,a=this._linkService;return o>=1&&o<=a.pagesCount&&o!==a.page&&!(this.onIsPageVisible?.(o)??!0);case"highlightallchange":return!1}return!0}#l(e,t,i){let r=e.slice(0,t).match(VL);if(r){let s=e.charCodeAt(t),o=r[1].charCodeAt(0);if(ud(s)===ud(o))return!1}if(r=e.slice(t+i).match(jL),r){let s=e.charCodeAt(t+i-1),o=r[1].charCodeAt(0);if(ud(s)===ud(o))return!1}return!0}#d(e,t){let{matchDiacritics:i}=this.#e,r=!1;e=e.replaceAll(FL,(o,a,l,c,u,d)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":i?u||d:u?Cx.has(u.charCodeAt(0))?u:"":t?(r=!0,`${d}\\p{M}*`):d);let s="[ ]*";return e.endsWith(s)&&(e=e.slice(0,e.length-s.length)),i&&t&&(Ex||=String.fromCharCode(...Cx),r=!0,e=`${e}(?=[${Ex}]|[^\\p{M}]|$)`),[r,e]}#c(e){let t=this.#s;if(t.length===0)return;let i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],o=this._pageMatchesLength[e]=[],a=this._pageDiffs[e];r?.forEach(({index:c,length:u})=>{let[d,h]=UL(a,c,u);h&&(s.push(d),o.push(h))}),this.#e.highlightAll&&this.#o(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#g());let l=s.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#C():++this.#n===this._linkService.pagesCount&&this.#C()}match(e,t,i){let r=this._hasDiacritics[i],s=!1;if(typeof e=="string"?[s,e]=this.#d(e,r):e=e.sort().reverse().map(d=>{let[h,f]=this.#d(d,r);return s||=h,`(${f})`}).join("|"),!e)return;let{caseSensitive:o,entireWord:a}=this.#e,l=`g${s?"u":""}${o?"":"i"}`;e=new RegExp(e,l);let c=[],u;for(;(u=e.exec(t))!==null;)a&&!this.#l(t,u.index,u[0].length)||c.push({index:u.index,length:u[0].length});return c}#u(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let i=0,r=this._linkService.pagesCount;i<r;i++){let{promise:s,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=s,e=e.then(()=>this._pdfDocument.getPage(i+1).then(a=>a.getTextContent(t)).then(a=>{let l=[];for(let c of a.items)l.push(c.str),c.hasEOL&&l.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=zv(l.join("")),o()},a=>{console.error(`Unable to get text content for page ${i+1}`,a),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()}))}}#o(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){let e=this.#e.findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let o=0;o<i;o++)this._pendingFindMatches.has(o)||(this._pendingFindMatches.add(o),this._extractTextPromises[o].then(()=>{this._pendingFindMatches.delete(o),this.#c(o)}))}if(this.#s.length===0){this.#w(nr.FOUND);return}if(this._resumePageIdx)return;let s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){let o=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<o||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,this.#m(!0);return}this.#v(e)}this.#g()}#f(e){let t=this._offset,i=e.length,r=this.#e.findPrevious;return i?(t.matchIdx=r?i-1:0,this.#m(!0),!0):(this.#v(r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#g(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#f(e))}#v(e){let t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}#m(e=!1){let t=nr.NOT_FOUND,i=this._offset.wrapped;if(this._offset.wrapped=!1,e){let r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?nr.WRAPPED:nr.FOUND,r!==-1&&r!==this._selected.pageIdx&&this.#o(r)}this.#w(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#o(this._selected.pageIdx))}#y(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#w(nr.FOUND),this._highlightMatches=!1,this.#h())})}#_(){let{pageIdx:e,matchIdx:t}=this._selected,i=0,r=this._matchesCountTotal;if(t!==-1){for(let s=0;s<e;s++)i+=this._pageMatches[s]?.length||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}#C(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#_()})}#w(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===nr.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#_(),rawQuery:this.#e?.query??null})}},$L="noopener noreferrer nofollow",jr={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},md=class n{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return k(this,null,function*(){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=yield this.pdfDocument.getDestination(e)):(t=null,i=yield e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}let[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=(yield this.pdfDocument.getPageIndex(s))+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let r=i?jr.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let o="";switch(r){case jr.NONE:break;case jr.SELF:o="_self";break;case jr.BLANK:o="_blank";break;case jr.PARENT:o="_parent";break;case jr.TOP:o="_top";break}e.target=o,e.rel=typeof s=="string"?s:$L}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){let r=Dd(e);if(r.has("search")){let s=r.get("search").replaceAll('"',""),o=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:o?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){let s=r.get("zoom").split(","),o=s[0],a=parseFloat(o);o.includes("Fit")?o==="Fit"||o==="FitB"?i=[null,{name:o}]:o==="FitH"||o==="FitBH"||o==="FitV"||o==="FitBV"?i=[null,{name:o},s.length>1?s[1]|0:null]:o==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:o},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${o}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,a?a/100:o]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||n.#e(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return k(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,i=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,i,...r]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof i=="object"&&typeof i?.name=="string"))return!1;let s=r.length,o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(let a of r)if(!(typeof a=="number"||o&&a===null))return!1;return!0}},xa=class extends md{setDocument(e,t=null){}},{AbortException:zL,AnnotationEditorLayer:WL,AnnotationEditorParamsType:ZW,AnnotationEditorType:nn,AnnotationEditorUIManager:GL,AnnotationLayer:qL,AnnotationMode:Di,build:JW,CMapCompressionType:eG,ColorPicker:tG,createValidAbsoluteUrl:YL,DOMSVGFactory:nG,DrawLayer:KL,FeatureTest:iG,fetchData:Sx,getDocument:rG,getFilenameFromUrl:sG,getPdfFilenameFromUrl:XL,getXfaPageViewport:oG,GlobalWorkerOptions:aG,ImageKind:lG,InvalidPDFException:cG,isDataScheme:uG,isPdfFile:QL,MissingPDFException:dG,noContextMenu:hG,normalizeUnicode:ZL,OPS:fG,PasswordResponses:pG,PDFDataRangeTransport:gG,PDFDateString:mG,PDFWorker:vG,PermissionFlag:dd,PixelsPerInch:Si,RenderingCancelledException:Jv,setLayerDimensions:JL,shadow:vd,TextLayer:eF,UnexpectedResponseException:yG,Util:bG,VerbosityLevel:_G,version:Dx,XfaLayer:Wv}=globalThis.pdfjsLib,yd=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:o=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:u=null,accessibilityManager:d=null,annotationEditorUIManager:h=null,onAppend:f=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=o,this.annotationStorage=r,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=u,this._accessibilityManager=d,this._annotationEditorUIManager=h,this.#e=f,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t="display"){return k(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[i,r,s]=yield Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let o=this.div=document.createElement("div");if(o.className="annotationLayer",this.#e?.(o),i.length===0){this.hide();return}this.annotationLayer=new qL({div:o,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:r,fieldObjects:s}),this.linkService.isInPresentationMode&&this.#n(zs.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",a=>{this.#n(a.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case zs.FULLSCREEN:t=!0;break;case zs.NORMAL:break;default:return}for(let i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}};function Ix(n,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var ey=class{#e=new WeakMap;downloadData(e,t,i){let r=URL.createObjectURL(new Blob([e],{type:i}));Ix(r,t)}openOrDownloadData(e,t,i=null){let s=QL(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!YL(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}Ix(r,i)}},Mx={EVENT:"event",TIMEOUT:"timeout"};function tF(i){return k(this,arguments,function*({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:r,resolve:s}=Promise.withResolvers(),o=new AbortController;function a(u){o.abort(),clearTimeout(c),s(u)}let l=n instanceof bd?"_on":"addEventListener";n[l](e,a.bind(null,Mx.EVENT),{signal:o.signal});let c=setTimeout(a.bind(null,Mx.TIMEOUT),t);return r})}var bd=class{#e=Object.create(null);on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once,signal:i?.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){let i=this.#e[e];if(!i||i.length===0)return;let r;for(let{listener:s,external:o,once:a}of i.slice(0)){if(a&&this._off(e,s),o){(r||=[]).push(s);continue}s(t)}if(r){for(let s of r)s(t);r=null}}_on(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){let{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}let a=()=>this._off(e,t);r=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}(this.#e[e]||=[]).push({listener:t,external:i?.external===!0,once:i?.once===!0,rmAbort:r})}_off(e,t,i=null){let r=this.#e[e];if(r)for(let s=0,o=r.length;s<o;s++){let a=r[s];if(a.listener===t){a.rmAbort?.(),r.splice(s,1);return}}}};var Ws=class{constructor(e){this.value=e}valueOf(){return this.value}},Ke=class extends Ws{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},Pn=class extends Ws{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},Hr=class extends Ws{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},Tx=100,nF="\u2068",iF="\u2069";function rF(n,e,t){if(t===e||t instanceof Pn&&e instanceof Pn&&t.value===e.value)return!0;if(e instanceof Pn&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function Px(n,e,t){return e[t]?Gs(n,e[t].value):(n.reportError(new RangeError("No default")),new Ke)}function ty(n,e){let t=[],i=Object.create(null);for(let r of e)r.type==="narg"?i[r.name]=Aa(n,r.value):t.push(Aa(n,r));return{positional:t,named:i}}function Aa(n,e){switch(e.type){case"str":return e.value;case"num":return new Pn(e.value,{minimumFractionDigits:e.precision});case"var":return sF(n,e);case"mesg":return oF(n,e);case"term":return aF(n,e);case"func":return lF(n,e);case"select":return cF(n,e);default:return new Ke}}function sF(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Ke(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ke(`$${e}`);if(t instanceof Ws)return t;switch(typeof t){case"string":return t;case"number":return new Pn(t);case"object":if(t instanceof Date)return new Hr(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ke(`$${e}`)}}function oF(n,{name:e,attr:t}){let i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ke(e);if(t){let r=i.attributes[t];return r?Gs(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ke(`${e}.${t}`))}return i.value?Gs(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ke(e))}function aF(n,{name:e,attr:t,args:i}){let r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new Ke(r);if(t){let a=s.attributes[t];if(a){n.params=ty(n,i).named;let l=Gs(n,a);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ke(`${r}.${t}`)}n.params=ty(n,i).named;let o=Gs(n,s.value);return n.params=null,o}function lF(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ke(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ke(`${e}()`);try{let r=ty(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new Ke(`${e}()`)}}function cF(n,{selector:e,variants:t,star:i}){let r=Aa(n,e);if(r instanceof Ke)return Px(n,t,i);for(let s of t){let o=Aa(n,s.key);if(rF(n,r,o))return Gs(n,s.value)}return Px(n,t,i)}function Xx(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ke;n.dirty.add(e);let t=[],i=n.bundle._useIsolating&&e.length>1;for(let r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>Tx)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${Tx}`);i&&t.push(nF),t.push(Aa(n,r).toString(n)),i&&t.push(iF)}return n.dirty.delete(e),t.join("")}function Gs(n,e){return typeof e=="string"?n.bundle._transform(e):Xx(n,e)}var ny=class{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}};function _d(n,e){let t=Object.create(null);for(let[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}var Nx=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function uF(n,e){let t=n[0];if(t instanceof Ke)return new Ke(`NUMBER(${t.valueOf()})`);if(t instanceof Pn)return new Pn(t.valueOf(),T(T({},t.opts),_d(e,Nx)));if(t instanceof Hr)return new Pn(t.valueOf(),T({},_d(e,Nx)));throw new TypeError("Invalid argument to NUMBER")}var Rx=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function dF(n,e){let t=n[0];if(t instanceof Ke)return new Ke(`DATETIME(${t.valueOf()})`);if(t instanceof Hr)return new Hr(t.valueOf(),T(T({},t.opts),_d(e,Rx)));if(t instanceof Pn)return new Hr(t.valueOf(),T({},_d(e,Rx)));throw new TypeError("Invalid argument to DATETIME")}var kx=new Map;function hF(n){let e=Array.isArray(n)?n.join(" "):n,t=kx.get(e);return t===void 0&&(t=new Map,kx.set(e,t)),t}var iy=class{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=T({NUMBER:uF,DATETIME:dF},t),this._useIsolating=i,this._transform=r,this._intls=hF(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new ny(this,i,t);try{return Xx(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new Ke().toString(r);throw s}}},Gv=/^(-?[a-zA-Z][\w-]*) *= */gm,Ox=/\.([a-zA-Z][\w-]*) *= */y,fF=/\*?\[/y,qv=/(-?[0-9]+(?:\.([0-9]+))?)/y,pF=/([a-zA-Z][\w-]*)/y,Lx=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,gF=/^[A-Z][A-Z0-9_-]*$/,hd=/([^{}\n\r]+)/y,mF=/([^\\"\n\r]*)/y,Fx=/\\([\\"])/y,Vx=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,vF=/^\n+/,jx=/ +$/,yF=/ *\r?\n/g,bF=/( *)$/,_F=/{\s*/y,Bx=/\s*}/y,wF=/\[\s*/y,CF=/\s*] */y,EF=/\s*\(\s*/y,xF=/\s*->\s*/y,AF=/\s*:\s*/y,SF=/\s*,?\s*/y,DF=/\s+/y,ry=class{constructor(e){this.body=[],Gv.lastIndex=0;let t=0;for(;;){let x=Gv.exec(e);if(x===null)break;t=Gv.lastIndex;try{this.body.push(l(x[1]))}catch(P){if(P instanceof SyntaxError)continue;throw P}}function i(x){return x.lastIndex=t,x.test(e)}function r(x,P){if(e[t]===x)return t++,!0;if(P)throw new P(`Expected ${x}`);return!1}function s(x,P){if(i(x))return t=x.lastIndex,!0;if(P)throw new P(`Expected ${x.toString()}`);return!1}function o(x){x.lastIndex=t;let P=x.exec(e);if(P===null)throw new SyntaxError(`Expected ${x.toString()}`);return t=x.lastIndex,P}function a(x){return o(x)[1]}function l(x){let P=u(),j=c();if(P===null&&Object.keys(j).length===0)throw new SyntaxError("Expected message value or attributes");return{id:x,value:P,attributes:j}}function c(){let x=Object.create(null);for(;i(Ox);){let P=a(Ox),j=u();if(j===null)throw new SyntaxError("Expected attribute value");x[P]=j}return x}function u(){let x;if(i(hd)&&(x=a(hd)),e[t]==="{"||e[t]==="}")return d(x?[x]:[],1/0);let P=E();return P?x?d([x,P],P.length):(P.value=D(P.value,vF),d([P],P.length)):x?D(x,jx):null}function d(x=[],P){for(;;){if(i(hd)){x.push(a(hd));continue}if(e[t]==="{"){x.push(h());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let Te=E();if(Te){x.push(Te),P=Math.min(P,Te.length);continue}break}let j=x.length-1,we=x[j];typeof we=="string"&&(x[j]=D(we,jx));let Me=[];for(let Te of x)Te instanceof wd&&(Te=Te.value.slice(0,Te.value.length-P)),Te&&Me.push(Te);return Me}function h(){s(_F,SyntaxError);let x=f();if(s(Bx))return x;if(s(xF)){let P=v();return s(Bx,SyntaxError),T({type:"select",selector:x},P)}throw new SyntaxError("Unclosed placeable")}function f(){if(e[t]==="{")return h();if(i(Lx)){let[,x,P,j=null]=o(Lx);if(x==="$")return{type:"var",name:P};if(s(EF)){let we=p();if(x==="-")return{type:"term",name:P,attr:j,args:we};if(gF.test(P))return{type:"func",name:P,args:we};throw new SyntaxError("Function names must be all upper-case")}return x==="-"?{type:"term",name:P,attr:j,args:[]}:{type:"mesg",name:P,attr:j}}return _()}function p(){let x=[];for(;;){switch(e[t]){case")":return t++,x;case void 0:throw new SyntaxError("Unclosed argument list")}x.push(g()),s(SF)}}function g(){let x=f();return x.type!=="mesg"?x:s(AF)?{type:"narg",name:x.name,value:_()}:x}function v(){let x=[],P=0,j;for(;i(fF);){r("*")&&(j=P);let we=m(),Me=u();if(Me===null)throw new SyntaxError("Expected variant value");x[P++]={key:we,value:Me}}if(P===0)return null;if(j===void 0)throw new SyntaxError("Expected default variant");return{variants:x,star:j}}function m(){s(wF,SyntaxError);let x;return i(qv)?x=C():x={type:"str",value:a(pF)},s(CF,SyntaxError),x}function _(){if(i(qv))return C();if(e[t]==='"')return w();throw new SyntaxError("Invalid expression")}function C(){let[,x,P=""]=o(qv),j=P.length;return{type:"num",value:parseFloat(x),precision:j}}function w(){r('"',SyntaxError);let x="";for(;;){if(x+=a(mF),e[t]==="\\"){x+=S();continue}if(r('"'))return{type:"str",value:x};throw new SyntaxError("Unclosed string literal")}}function S(){if(i(Fx))return a(Fx);if(i(Vx)){let[,x,P]=o(Vx),j=parseInt(x||P,16);return j<=55295||57344<=j?String.fromCodePoint(j):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function E(){let x=t;switch(s(DF),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return N(e.slice(x,t))}return e[t-1]===" "?N(e.slice(x,t)):!1}function D(x,P){return x.replace(P,"")}function N(x){let P=x.replace(yF,`
`),j=bF.exec(x)[1].length;return new wd(P,j)}}},wd=class{constructor(e,t){this.value=e,this.length=t}},IF=/<|&#?\w+;/,MF={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},TF={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function PF(n,e){let{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!IF.test(t))n.textContent=t;else{let i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,NF(i.content,n)}Qx(e,n)}function NF(n,e){for(let t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let i=kF(e,t);n.replaceChild(i,t);continue}if(LF(t)){let i=OF(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(sy(t),t)}e.textContent="",e.appendChild(n)}function RF(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function Qx(n,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(let i of Array.from(e.attributes))Hx(i.name,e,t)&&!RF(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(let i of Array.from(n.attributes))Hx(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function kF(n,e){let t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),sy(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),sy(e);n.removeChild(i);let r=i.cloneNode(!1);return Zx(e,r)}function OF(n){let e=n.ownerDocument.createElement(n.localName);return Zx(n,e)}function sy(n){return n.ownerDocument.createTextNode(n.textContent)}function LF(n){let e=MF[n.namespaceURI];return e&&e.includes(n.localName)}function Hx(n,e,t=null){if(t&&t.includes(n))return!0;let i=TF[e.namespaceURI];if(!i)return!1;let r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){let o=e.type.toLowerCase();if(o==="submit"||o==="button"||o==="reset")return!0}return!1}function Zx(n,e){return e.textContent=n.textContent,Qx(n,e),e}var oy=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var ay=class extends oy{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return k(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return k(this,null,function*(){let t=0;for(;t++<e;){let i=this[this.length-1];if(i&&(yield i).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},ly=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return k(this,null,function*(){let i=[],r=!1;try{for(var s=qy(this.bundles),o,a,l;o=!(a=yield s.next()).done;o=!1){let c=a.value;r=!0;let u=jF(t,c,e,i);if(u.size===0)break;if(typeof console<"u"){let d=c.locales[0],h=Array.from(u).join(", ");console.warn(`[fluent] Missing translations in ${d}: ${h}`)}}}catch{l=[a]}finally{try{o&&(a=s.return)&&(yield a.call(s))}finally{if(l)throw l[0]}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i})}formatMessages(e){return this.formatWithFallback(e,VF)}formatValues(e){return this.formatWithFallback(e,FF)}formatValue(e,t){return k(this,null,function*(){let[i]=yield this.formatValues([{id:e,args:t}]);return i})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=ay.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function FF(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function VF(n,e,t,i){let r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[o,a]of s.entries()){let l=n.formatPattern(t.attributes[a],i,e);r.attributes[o]={name:a,value:l}}}return r}function jF(n,e,t,i){let r=[],s=new Set;return t.forEach(({id:o,args:a},l)=>{if(i[l]!==void 0)return;let c=e.getMessage(o);if(c){if(r.length=0,i[l]=n(e,r,c,a),r.length>0&&typeof console<"u"){let u=e.locales[0],d=r.join(", ");console.warn(`[fluent][resolver] errors in ${u}/${o}: ${d}.`)}}else s.add(o)}),s}var Br="data-l10n-id",wa="data-l10n-args",BF=`[${Br}]`,cy=class extends ly{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Br,wa]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(Br,t),i?e.setAttribute(wa,JSON.stringify(i)):e.removeAttribute(wa),e}getAttributes(e){return{id:e.getAttribute(Br),args:JSON.parse(e.getAttribute(wa)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(let r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(Br)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return k(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),i=yield this.formatMessages(t);return this.applyTranslations(e,i)})}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&PF(e[i],t[i]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(BF));return typeof e.hasAttribute=="function"&&e.hasAttribute(Br)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Br),args:JSON.parse(e.getAttribute(wa)||null)}}},uy=class n{#e;#t=new Set;#n;#i;constructor({lang:e,isRTL:t},i=null){this.#n=n.#r(e),this.#i=i,this.#e=t??n.#s(this.#n)?"rtl":"ltr"}_setL10n(e){this.#i=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,i){return k(this,null,function*(){return Array.isArray(e)?(e=e.map(o=>({id:o})),(yield this.#i.formatMessages(e)).map(o=>o.value)):(yield this.#i.formatMessages([{id:e,args:t}]))[0]?.value||i})}translate(e){return k(this,null,function*(){this.#t.add(e);try{this.#i.connectRoot(e),yield this.#i.translateRoots()}catch{}})}translateOnce(e){return k(this,null,function*(){try{yield this.#i.translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}})}destroy(){return k(this,null,function*(){for(let e of this.#t)this.#i.disconnectRoot(e);this.#t.clear(),this.#i.pauseObserving()})}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#r(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#s(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function Ux(n,e){let t=new ry(e),i=new iy(n),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var qs=class n extends uy{constructor(e){super({lang:e});let t=e?n.#e.bind(n,"en-us",this.getLanguage()):n.#i.bind(n,this.getLanguage());this._setL10n(new cy([],t))}static#e(e,t){return rh(this,null,function*(){let{baseURL:i,paths:r}=yield new Ha(this.#n()),s=[t];if(e!==t){let o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}for(let o of s){let a=yield new Ha(this.#t(o,i,r));a?yield a:o==="en-us"&&(yield this.#r(o))}})}static#t(e,t,i){return k(this,null,function*(){let r=i[e];if(!r)return null;let s=new URL(r,t),o=yield Sx(s,"text");return Ux(e,o)})}static#n(){return k(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield Sx(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#i(e){return rh(this,null,function*(){yield this.#r(e)})}static#r(e){return k(this,null,function*(){return Ux(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text =
    .aria-label = Text Editor
pdfjs-free-text-default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},HF=1e3,Yv=50,$x=1e3;function Kv(){return document.location.hash}var dy=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,this.#u();let s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Kv(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#r(s,!0)||t){let{hash:a,page:l,rotation:c}=this.#a(!0);if(!a||r||t){this.#t(null,!0);return}this.#t({hash:a,page:l,rotation:c},!0);return}let o=s.destination;this.#s(o,s.uid,!0),o.rotation!==void 0&&(this._initialRotation=o.rotation),o.dest?(this._initialBookmark=JSON.stringify(o.dest),this._destination.page=null):o.hash?this._initialBookmark=o.hash:o.page&&(this._initialBookmark=`page=${o.page}`)}reset(){this._initialized&&(this.#c(),this._initialized=!1,this.#o()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#i(i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(UF(this._destination.hash,r)||$F(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this.#t({dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#i(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#r(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#r(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};this.#s(e,r.uid);let s;if(this._updateUrl&&e?.hash){let o=document.location.href.split("#",1)[0];o.startsWith("file://")||(s=`${o}#${e.hash}`)}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(Yv<=0||this._numPositionUpdates<=Yv))return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}this.#t(t,i)}#i(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#r(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[i]=performance.getEntriesByType("navigation");if(i?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#s(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#a(e=!1){let t=unescape(Kv()).substring(1),i=Dd(t),r=i.get("nameddest")||"",s=i.get("page")|0;return(!this.#i(s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}}#l({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(Yv>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,$x>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},$x)))}#d({state:e}){let t=Kv(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:s,page:o,rotation:a}=this.#a();this.#t({hash:s,page:o,rotation:a},!0);return}if(!this.#r(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,tF({target:window,name:"hashchange",delay:HF}).then(()=>{this._blockHashChange--}));let r=e.destination;this.#s(r,e.uid,!0),Kx(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#c(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:e}),window.addEventListener("popstate",this.#d.bind(this),{signal:e}),window.addEventListener("pagehide",this.#c.bind(this),{signal:e})}#o(){this.#e?.abort(),this.#e=null}};function UF(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||Dd(n).get("nameddest")===e}function $F(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(let s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var hy=class{#e=null;#t=null;#n=null;#i=null;#r;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new qs,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#r=e.uiManager,this.#e=e.annotationLayer||null,this.#i=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null}render(e,t="display"){return k(this,null,function*(){if(t!=="display"||this._cancelled)return;let i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}let r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=this.#r.direction,this.#n?.(r),this.annotationEditorLayer=new WL({uiManager:this.#r,div:r,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:this.#e,textLayer:this.#i,drawLayer:this.#t});let s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{pd=new Map;let n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n),r=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(r||i)&&pd.set("maxCanvasPixels",5242880)})(),function(){i&&pd.set("useSystemFonts",!1)}()}var pd,I={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},fy={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Jn={allowedGlobalEvents:{value:null,kind:I.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:I.BROWSER+I.API},isInAutomation:{value:!1,kind:I.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:I.BROWSER},nimbusDataStr:{value:"",kind:I.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:I.BROWSER},supportsDocumentFonts:{value:!0,kind:I.BROWSER},supportsIntegratedFind:{value:!1,kind:I.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:I.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:I.BROWSER},supportsPinchToZoom:{value:!0,kind:I.BROWSER},toolbarDensity:{value:0,kind:I.BROWSER+I.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:I.VIEWER+I.PREFERENCE},annotationEditorMode:{value:0,kind:I.VIEWER+I.PREFERENCE},annotationMode:{value:2,kind:I.VIEWER+I.PREFERENCE},cursorToolOnLoad:{value:0,kind:I.VIEWER+I.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:I.VIEWER},defaultZoomDelay:{value:400,kind:I.VIEWER+I.PREFERENCE},defaultZoomValue:{value:"",kind:I.VIEWER+I.PREFERENCE},disableHistory:{value:!1,kind:I.VIEWER},disablePageLabels:{value:!1,kind:I.VIEWER+I.PREFERENCE},enableAltText:{value:!1,kind:I.VIEWER+I.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:I.VIEWER+I.PREFERENCE+I.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:I.VIEWER+I.PREFERENCE+I.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:I.VIEWER+I.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:I.VIEWER+I.PREFERENCE},enablePermissions:{value:!1,kind:I.VIEWER+I.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:I.VIEWER+I.PREFERENCE},enableScripting:{value:!0,kind:I.VIEWER+I.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:I.VIEWER+I.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:I.VIEWER},externalLinkTarget:{value:0,kind:I.VIEWER+I.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:I.VIEWER+I.PREFERENCE},historyUpdateUrl:{value:!1,kind:I.VIEWER+I.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:I.VIEWER+I.PREFERENCE},imageResourcesPath:{value:"./images/",kind:I.VIEWER},maxCanvasPixels:{value:2**25,kind:I.VIEWER},forcePageColors:{value:!1,kind:I.VIEWER+I.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:I.VIEWER+I.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:I.VIEWER+I.PREFERENCE},pdfBugEnabled:{value:!1,kind:I.VIEWER+I.PREFERENCE},printResolution:{value:150,kind:I.VIEWER},sidebarViewOnLoad:{value:-1,kind:I.VIEWER+I.PREFERENCE},scrollModeOnLoad:{value:-1,kind:I.VIEWER+I.PREFERENCE},spreadModeOnLoad:{value:-1,kind:I.VIEWER+I.PREFERENCE},textLayerMode:{value:1,kind:I.VIEWER+I.PREFERENCE},viewOnLoad:{value:0,kind:I.VIEWER+I.PREFERENCE},cMapPacked:{value:!0,kind:I.API},cMapUrl:{value:"../web/cmaps/",kind:I.API},disableAutoFetch:{value:!1,kind:I.API+I.PREFERENCE},disableFontFace:{value:!1,kind:I.API+I.PREFERENCE},disableRange:{value:!1,kind:I.API+I.PREFERENCE},disableStream:{value:!1,kind:I.API+I.PREFERENCE},docBaseUrl:{value:"",kind:I.API},enableHWA:{value:!0,kind:I.API+I.VIEWER+I.PREFERENCE},enableXfa:{value:!0,kind:I.API+I.PREFERENCE},fontExtraProperties:{value:!1,kind:I.API},isEvalSupported:{value:!0,kind:I.API},isOffscreenCanvasSupported:{value:!0,kind:I.API},maxImageSize:{value:-1,kind:I.API},pdfBug:{value:!1,kind:I.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:I.API},useSystemFonts:{value:void 0,kind:I.API,type:fy.BOOLEAN+fy.UNDEFINED},verbosity:{value:1,kind:I.API},workerPort:{value:null,kind:I.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:I.WORKER}};Jn.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:I.VIEWER},Jn.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:I.VIEWER},Jn.viewerCssTheme={value:0,kind:I.VIEWER+I.PREFERENCE},Jn.enableFakeMLManager={value:!0,kind:I.VIEWER};Jn.disablePreferences={value:!1,kind:I.VIEWER};var py=class{static eventBus;static#e=new Map;static{for(let e in Jn)this.#e.set(e,Jn[e].value);for(let[e,t]of pd)this.#e.set(e,t);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>this.get("disablePreferences")?!0:(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)}static get(e){return this.#e.get(e)}static getAll(e=null,t=!1){let i=Object.create(null);for(let r in Jn){let s=Jn[r];e&&!(e&s.kind)||(i[r]=t?s.value:this.#e.get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||=!0;let i;for(let r in e){let s=Jn[r],o=e[r];if(!s||!(typeof o==typeof s.value||fy[(typeof o).toUpperCase()]&s.type))continue;let{kind:a}=s;t&&!(a&I.BROWSER||a&I.PREFERENCE)||(this.eventBus&&a&I.EVENT_DISPATCH&&(i||=new Map).set(r,o),this.#e.set(r,o))}if(i)for(let[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}},gy=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return k(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new KL({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},zx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},zF=/^H(\d+)$/,Cd=class{#e=void 0;get renderingDone(){return this.#e!==void 0}render(e){if(this.#e!==void 0)return this.#e;let t=this.#n(e);return t?.classList.add("structTree"),this.#e=t}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(e,t){let{alt:i,id:r,lang:s}=e;i!==void 0&&t.setAttribute("aria-label",gd(i)),r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",gd(s,!0))}#n(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:i}=e,r=i.match(zF);r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):zx[i]&&t.setAttribute("role",zx[i])}if(this.#t(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#t(e.children[0],t);else for(let i of e.children)t.append(this.#n(i));return t}},my=class n{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(e){this.#t=e}static#r(e,t){let i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;let s=i.y,o=i.y+i.height,a=i.y+i.height/2,l=r.y,c=r.y+r.height,u=r.y+r.height/2;if(a<=l&&u>=o)return-1;if(u<=s&&a>=c)return 1;let d=i.x+i.width/2,h=r.x+r.width/2;return d-h}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#r),this.#n.size>0){let e=this.#t;for(let[t,i]of this.#n){if(!document.getElementById(t)){this.#n.delete(t);continue}this.#s(t,e[i])}}for(let[e,t]of this.#i)this.addPointerInTextLayer(e,t);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#i.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:i}=e,r=this.#n.get(i);if(r===void 0)return;let s=t[r];this.#n.delete(i);let o=s.getAttribute("aria-owns");o?.includes(i)&&(o=o.split(" ").filter(a=>a!==i).join(" "),o?s.setAttribute("aria-owns",o):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}#s(e,t){let i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:i}=e;if(!i)return null;if(!this.#e)return this.#i.set(e,t),null;t&&this.removePointerInTextLayer(e);let r=this.#t;if(!r||r.length===0)return null;let s=Ea(r,c=>n.#r(e,c)<0),o=Math.max(0,s-1),a=r[o];this.#s(i,a),this.#n.set(i,o);let l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){let s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;let o=Array.from(e.childNodes).filter(c=>c!==t);if(o.length===0)return s;let a=i||t,l=Ea(o,c=>n.#r(a,c)<0);return l===0?o[0].before(t):o[l-1].after(t),s}},vy=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:i}=this,r=0,s=0,o=i.length-1,a=[];for(let l=0,c=e.length;l<c;l++){let u=e[l];for(;r!==o&&u>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");let d={begin:{divIdx:r,offset:u-s}};for(u+=t[l];r!==o&&u>s+i[r].length;)s+=i[r].length,r++;d.end={divIdx:r,offset:u-s},a.push(d)}return a}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,o=i===t.selected.pageIdx,a=t.selected.matchIdx,l=t.state.highlightAll,c=null,u={divIdx:-1,offset:void 0};function d(m,_){let C=m.divIdx;return s[C].textContent="",h(C,0,m.offset,_)}function h(m,_,C,w){let S=s[m];if(S.nodeType===Node.TEXT_NODE){let N=document.createElement("span");S.before(N),N.append(S),s[m]=N,S=N}let E=r[m].substring(_,C),D=document.createTextNode(E);if(w){let N=document.createElement("span");return N.className=`${w} appended`,N.append(D),S.append(N),w.includes("selected")?N.offsetLeft:0}return S.append(D),0}let f=a,p=f+1;if(l)f=0,p=e.length;else if(!o)return;let g=-1,v=-1;for(let m=f;m<p;m++){let _=e[m],C=_.begin;if(C.divIdx===g&&C.offset===v)continue;g=C.divIdx,v=C.offset;let w=_.end,S=o&&m===a,E=S?" selected":"",D=0;if(!c||C.divIdx!==c.divIdx?(c!==null&&h(c.divIdx,c.offset,u.offset),d(C)):h(c.divIdx,c.offset,C.offset),C.divIdx===w.divIdx)D=h(C.divIdx,C.offset,w.offset,"highlight"+E);else{D=h(C.divIdx,C.offset,u.offset,"highlight begin"+E);for(let N=C.divIdx+1,x=w.divIdx;N<x;N++)s[N].className="highlight middle"+E;d(w,"highlight end"+E)}c=w,S&&t.scrollMatchIntoView({element:s[C.divIdx],selectedLeft:D,pageIndex:i,matchIndex:a})}c&&h(c.divIdx,c.offset,u.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:o}=this,a=-1;for(let u of i){let d=Math.max(a,u.begin.divIdx);for(let h=d,f=u.end.divIdx;h<=f;h++){let p=o[h];p.textContent=s[h],p.className=""}a=u.end.divIdx+1}if(!t?.highlightMatches||e)return;let l=t.pageMatches[r]||null,c=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,c),this._renderMatches(this.matches)}},Ed=class n{#e=!1;#t=null;#n=!1;#i=null;static#r=new Map;static#s=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,this.#e=r===!0,this.#t=s,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return k(this,null,function*(){if(this.#n&&this.#i){this.#i.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#i=new eF({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:i,textContentItemsStr:r}=this.#i;this.highlighter?.setTextMapping(i,r),this.accessibilityManager?.setTextMapping(i),yield this.#i.render(),this.#n=!0;let s=document.createElement("div");s.className="endOfContent",this.div.append(s),this.#a(s),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#l(this.div)}#a(e){let{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!this.#e){let r=document.getSelection();i.clipboardData.setData("text/plain",gd(ZL(r.toString())))}i.preventDefault(),i.stopPropagation()}),n.#r.set(t,e),n.#d()}static#l(e){this.#r.delete(e),this.#r.size===0&&(this.#s?.abort(),this.#s=null)}static#d(){if(this.#s)return;this.#s=new AbortController;let{signal:e}=this.#s,t=(o,a)=>{a.append(o),o.style.width="",o.style.height="",a.classList.remove("selecting")},i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,this.#r.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,this.#r.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||this.#r.forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{let o=document.getSelection();if(o.rangeCount===0){this.#r.forEach(t);return}let a=new Set;for(let f=0;f<o.rangeCount;f++){let p=o.getRangeAt(f);for(let g of this.#r.keys())!a.has(g)&&p.intersectsNode(g)&&a.add(g)}for(let[f,p]of this.#r)a.has(f)?f.classList.add("selecting"):t(p,f);if(r??=getComputedStyle(this.#r.values().next().value).getPropertyValue("-moz-user-select")==="none",r)return;let l=o.getRangeAt(0),c=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0),u=c?l.startContainer:l.endContainer;u.nodeType===Node.TEXT_NODE&&(u=u.parentNode);let d=u.parentElement.closest(".textLayer"),h=this.#r.get(d);h&&(h.style.width=d.style.width,h.style.height=d.style.height,u.parentElement.insertBefore(h,c?u:u.nextSibling)),s=l.cloneRange()},{signal:e})}},xd=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}render(e,t="display"){return k(this,null,function*(){if(t==="print"){let s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,Wv.render(s)}let i=yield this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};let r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?Wv.update(r):(this.div=document.createElement("div"),r.div=this.div,Wv.render(r))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},WF={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new xa}},GF=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),Ad=class{#e=Di.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#r=null;#s=null;#a=null;#l=null;#d=Ye.INITIAL;#c=Zn.ENABLE;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#o=new WeakMap;#h=[null,null,null,null];constructor(e){let t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#r=e.layerProperties||WF,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||qx,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#c=e.textLayerMode??Zn.ENABLE,this.#e=e.annotationMode??Di.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??py.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new qs,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let r=document.createElement("div");if(r.className="page",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),r.setAttribute("data-l10n-id","pdfjs-page-landmark"),r.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=r,this.#f(),t?.append(r),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*Si.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:s}=e;s&&s.then(o=>{s===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=o.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#p(e,t){let i=GF.get(t),r=this.#h[i];if(this.#h[i]=e,r){r.replaceWith(e);return}for(let s=i-1;s>=0;s--){let o=this.#h[s];if(o){o.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#d}set renderingState(e){if(e!==this.#d)switch(this.#d=e,this.#s&&(clearTimeout(this.#s),this.#s=null),e){case Ye.PAUSED:this.div.classList.remove("loading");break;case Ye.RUNNING:this.div.classList.add("loadingIcon"),this.#s=setTimeout(()=>{this.div.classList.add("loading"),this.#s=null},0);break;case Ye.INITIAL:case Ye.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#f(){let{viewport:e}=this;if(this.pdfPage){if(this.#a===e.rotation)return;this.#a=e.rotation}JL(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*Si.PDF_TO_CSS_UNITS,rotation:t}),this.#f(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return vd(this,"_textHighlighter",new vy({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#r.findController}))}#g(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#v(){return k(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#g("annotationlayerrendered",e)}})}#m(){return k(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#g("annotationeditorlayerrendered",e)}})}#y(){return k(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#_(){return k(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#x(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#p(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#g("xfalayerrendered",e)}})}#C(){return k(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof zL)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#g("textlayerrendered",e),this.#w()})}#w(){return k(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new Cd;let e=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),t=this.structTreeLayer?.render(e);t&&(this.l10n.pause(),this.canvas?.append(t),this.l10n.resume()),this.structTreeLayer?.show()})}#x(e){return k(this,null,function*(){let t=yield this.pdfPage.getTextContent(),i=[];for(let r of t.items)i.push(r.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#o.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=Ye.INITIAL;let o=this.div,a=o.childNodes,l=e&&this.zoomLayer||null,c=t&&this.annotationLayer?.div||null,u=i&&this.annotationEditorLayer?.div||null,d=r&&this.xfaLayer?.div||null,h=s&&this.textLayer?.div||null;for(let f=a.length-1;f>=0;f--){let p=a[f];switch(p){case l:case c:case u:case d:case h:continue}p.remove();let g=this.#h.indexOf(p);g>=0&&(this.#h[g]=null)}o.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),u&&this.annotationEditorLayer.hide(),d&&this.xfaLayer.hide(),h&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#o.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#i=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:r=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(o=>{i===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=o.hasInitialVisibility)})),this.#u.directDrawing=!0;let s=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Si.PDF_TO_CSS_UNITS,rotation:s}),this.#f(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let o=!1;if(this.#n){if(this.maxCanvasPixels===0)o=!0;else if(this.maxCanvasPixels>0){let{width:l,height:c}=this.viewport,{sx:u,sy:d}=this.outputScale;o=(Math.floor(l)*u|0)*(Math.floor(c)*d|0)>this.maxCanvasPixels}}let a=r>=0&&r<1e3;if(a||o){if(a&&!o&&this.renderingState!==Ye.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:r}),this.renderingState=Ye.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#l});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:r=!1,cancelExtraDelay:s=0}={}){this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!r||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:o=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:l}=e;l.width=l.height=""}let a=this.#o.get(e);if(this.viewport!==a){let l=this.viewport.rotation-a.rotation,c=Math.abs(l),u=1,d=1;if(c===90||c===270){let{width:h,height:f}=this.viewport;u=f/h,d=h/f}e.style.transform=`rotate(${l}deg) scale(${u}, ${d})`}t&&this.annotationLayer&&this.#v(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#y(),this.#m()),r&&this.xfaLayer&&this.#_(),this.textLayer&&(o?(this.textLayer.hide(),this.structTreeLayer?.hide()):s&&this.#C())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#T(e,t=null){return k(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof Jv){this.#l=null;return}if(this.#l=t,this.renderingState=Ye.FINISHED,this._resetZoomLayer(!0),this.#u.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#l}),t)throw t})}draw(){return k(this,null,function*(){this.renderingState!==Ye.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=Ye.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Ye.RUNNING;let o=document.createElement("div");if(o.classList.add("canvasWrapper"),this.#p(o,"canvasWrapper"),!this.textLayer&&this.#c!==Zn.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||=new my,this.textLayer=new Ed({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#c===Zn.ENABLE_PERMISSIONS,onAppend:E=>{this.l10n.pause(),this.#p(E,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==Di.DISABLE){let{annotationStorage:E,annotationEditorUIManager:D,downloadManager:N,enableScripting:x,fieldObjectsPromise:P,hasJSActionsPromise:j,linkService:we}=this.#r;this._annotationCanvasMap||=new Map,this.annotationLayer=new yd({pdfPage:r,annotationStorage:E,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===Di.ENABLE_FORMS,linkService:we,downloadManager:N,enableScripting:x,hasJSActionsPromise:j,fieldObjectsPromise:P,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,onAppend:Me=>{this.#p(Me,"annotationLayer")}})}let a=E=>{if(h?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Ye.PAUSED,this.resume=()=>{this.renderingState=Ye.RUNNING,E()};return}E()},{width:l,height:c}=s,u=document.createElement("canvas");u.setAttribute("role","presentation"),u.hidden=!0;let d=!!(i?.background&&i?.foreground),h=E=>{(!d||E)&&(u.hidden=!1,h=null)};o.append(u),this.canvas=u;let f=u.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),p=this.outputScale=new Xv;if(this.maxCanvasPixels===0){let E=1/this.scale;p.sx*=E,p.sy*=E,this.#n=!0}else if(this.maxCanvasPixels>0){let E=l*c,D=Math.sqrt(this.maxCanvasPixels/E);p.sx>D||p.sy>D?(p.sx=D,p.sy=D,this.#n=!0):this.#n=!1}let g=yx(p.sx),v=yx(p.sy);u.width=cd(l*p.sx,g[0]),u.height=cd(c*p.sy,v[0]);let{style:m}=u;m.width=cd(l,g[1])+"px",m.height=cd(c,v[1])+"px",this.#o.set(u,s);let _=p.scaled?[p.sx,0,0,p.sy,0,0]:null,C={canvasContext:f,transform:_,viewport:s,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,isEditing:this.#i},w=this.renderTask=r.render(C);w.onContinue=a;let S=w.promise.then(()=>k(this,null,function*(){h?.(!0),yield this.#T(w),this.#C(),this.annotationLayer&&(yield this.#v());let{annotationEditorUIManager:E}=this.#r;E&&(this.drawLayer||=new gy({pageIndex:this.id}),yield this.#y(),this.drawLayer.setParent(o),this.annotationEditorLayer||=new hy({uiManager:E,pdfPage:r,l10n:t,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:D=>{this.#p(D,"annotationEditorLayer")}}),this.#m())}),E=>(E instanceof Jv||h?.(!0),this.#T(w,E)));if(r.isPureXfa){if(!this.xfaLayer){let{annotationStorage:E,linkService:D}=this.#r;this.xfaLayer=new xd({pdfPage:r,annotationStorage:E,linkService:D})}this.#_()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),S})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=this.#u;return e&&t&&i?this.canvas:null}};function qF(n){return k(this,null,function*(){let e="",t=e.split("#",1)[0],{info:i,metadata:r,contentDispositionFilename:s,contentLength:o}=yield n.getMetadata();if(!o){let{length:a}=yield n.getDownloadInfo();o=a}return Y(T({},i),{baseURL:t,filesize:o,filename:s||XL(e),metadata:r?.getRaw(),authors:r?.get("dc:creator"),numPages:n.numPages,URL:e})})}var yy=class{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}createSandbox(e){return k(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return k(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return k(this,null,function*(){(yield this._ready).nukeSandbox()})}},by=class{#e=null;#t=null;#n=null;#i=null;#r=null;#s=null;#a=null;#l=null;#d=!1;#c=null;#u=null;constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){this.#r=e,this.#s=t,this.#n=i}setViewer(e){this.#l=e}setDocument(e){return k(this,null,function*(){if(this.#a&&(yield this.#g()),this.#a=e,!e)return;let[t,i,r]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){yield this.#g();return}if(e!==this.#a)return;try{this.#c=this.#f()}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#g();return}let s=this.#r;this.#i=new AbortController;let{signal:o}=this.#i;s._on("updatefromsandbox",a=>{a?.source===window&&this.#o(a.detail)},{signal:o}),s._on("dispatcheventinsandbox",a=>{this.#c?.dispatchEventInSandbox(a.detail)},{signal:o}),s._on("pagechanging",({pageNumber:a,previous:l})=>{a!==l&&(this.#p(l),this.#h(a))},{signal:o}),s._on("pagerendered",({pageNumber:a})=>{this._pageOpenPending.has(a)&&a===this.#l.currentPageNumber&&this.#h(a)},{signal:o}),s._on("pagesdestroy",()=>k(this,null,function*(){yield this.#p(this.#l.currentPageNumber),yield this.#c?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:o});try{let a=yield this.#n(e);if(e!==this.#a)return;yield this.#c.createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Y(T({},a),{actions:r})}),s.dispatch("sandboxcreated",{source:this})}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#g();return}yield this.#c?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#h(this.#l.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#a&&(this.#d=!0)})})}dispatchWillSave(){return k(this,null,function*(){return this.#c?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return k(this,null,function*(){return this.#c?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return k(this,null,function*(){if(this.#c){yield this.#u?.promise,this.#u=Promise.withResolvers();try{yield this.#c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#u.resolve(),this.#u=null,e}yield this.#u.promise}})}dispatchDidPrint(){return k(this,null,function*(){return this.#c?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return vd(this,"_pageOpenPending",new Set)}get _visitedPages(){return vd(this,"_visitedPages",new Map)}#o(e){return k(this,null,function*(){let t=this.#l,i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:o,value:a}=e;if(!r){switch(o){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":if(!i){let c=wL(a);t.spreadMode=c.spreadMode}break;case"page-num":t.currentPageNumber=a+1;break;case"print":yield t.pagesPromise,this.#r.dispatch("print",{source:this});break;case"println":console.log(a);break;case"zoom":i||(t.currentScaleValue=a);break;case"SaveAs":this.#r.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;let l=s?[r,...s]:[r];for(let c of l){let u=document.querySelector(`[data-element-id="${c}"]`);u?u.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#a?.annotationStorage.setValue(c,e)}})}#h(e,t=!1){return k(this,null,function*(){let i=this.#a,r=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let s=this.#l.getPageView(e-1);if(s?.renderingState!==Ye.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let o=k(this,null,function*(){let a=yield r.has(e)?null:s.pdfPage?.getJSActions();i===this.#a&&(yield this.#c?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:a}))});r.set(e,o)})}#p(e){return k(this,null,function*(){let t=this.#a,i=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let r=i.get(e);r&&(i.set(e,null),yield r,t===this.#a&&(yield this.#c?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#f(){if(this.#t=Promise.withResolvers(),this.#c)throw new Error("#initScripting: Scripting already exists.");return this.#s.createScripting()}#g(){return k(this,null,function*(){if(!this.#c){this.#a=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#a=null;try{yield this.#c.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null,this.#i?.abort(),this.#i=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#c=null,this.#d=!1,this.#t?.resolve()})}},_y=class extends by{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new yy(e.sandboxBundleSrc)},e.docProperties||=t=>qF(t),super(e)}},YF=3e4,wy=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),YF)))}getHighestPriority(e,t,i,r=!1){let s=e.views,o=s.length;if(o===0)return null;for(let d=0;d<o;d++){let h=s[d].view;if(!this.isViewFinished(h))return h}let a=e.first.id,l=e.last.id;if(l-a+1>o){let d=e.ids;for(let h=1,f=l-a;h<f;h++){let p=i?a+h:l-h;if(d.has(p))continue;let g=t[p-1];if(!this.isViewFinished(g))return g}}let c=i?l:a-2,u=t[c];return u&&!this.isViewFinished(u)||r&&(c+=i?1:-1,u=t[c],u&&!this.isViewFinished(u))?u:null}isViewFinished(e){return e.renderingState===Ye.FINISHED}renderView(e){switch(e.renderingState){case Ye.FINISHED:return!1;case Ye.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Ye.RUNNING:this.highestPriorityPage=e.renderingId;break;case Ye.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof Jv||console.error(`renderView: "${t}"`)});break}return!0}},Wx=10,fd={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function Gx(n){return Object.values(nn).includes(n)&&n!==nn.DISABLE}var Cy=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;let i=this.#e;if(t){let r=i.size,s=1;for(let o of i)if(t.has(o.id)&&(i.delete(o),i.add(o)),++s>r)break}for(;i.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},Sd=class{#e=null;#t=null;#n=null;#i=nn.NONE;#r=null;#s=Di.ENABLE_FORMS;#a=null;#l=!1;#d=!1;#c=!1;#u=!1;#o=!1;#h=null;#p=null;#f=null;#g=null;#v=!1;#m=null;#y=!1;#_=0;#C=new ResizeObserver(this.#F.bind(this));#w=null;#x=null;#T=Zn.ENABLE;constructor(e){let t="4.6.82";if(Dx!==t)throw new Error(`The API version "${Dx}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#C.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new xa,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=r=>this._getVisiblePages().ids.has(r)),this._scriptingManager=e.scriptingManager||null,this.#T=e.textLayerMode??Zn.ENABLE,this.#s=e.annotationMode??Di.ENABLE_FORMS,this.#i=e.annotationEditorMode??nn.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#d=e.enableHighlightFloatingButton===!0,this.#u=e.enableUpdatedAddImage===!0,this.#o=e.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new qs,this.#c=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#p=e.mlManager||null,this.#l=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new wy,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:i}=e;i?.addEventListener("abort",()=>{this.#C.disconnect(),this.#C=null},{once:!0}),this.scroll=pL(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=zs.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#O(),this.eventBus._on("thumbnailrendered",({pageNumber:r,pdfPage:s})=>{let o=this._pages[r-1];this.#e.has(o)||s?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#s===Di.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#N(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&this.#N(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==Hv?this._currentScale:qx}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#M(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#M(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!Kx(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#M(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return vd(this,"_layerProperties",{get annotationEditorUIManager(){return e.#r},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#D(e){let t={annotationEditorMode:this.#i,annotationMode:this.#s,textLayerMode:this.#T};return e&&(!e.includes(dd.COPY)&&this.#T===Zn.ENABLE&&(t.textLayerMode=Zn.ENABLE_PERMISSIONS),e.includes(dd.MODIFY_CONTENTS)||(t.annotationEditorMode=nn.DISABLE),!e.includes(dd.MODIFY_ANNOTATIONS)&&!e.includes(dd.FILL_INTERACTIVE_FORMS)&&this.#s===Di.ENABLE_FORMS&&(t.annotationMode=Di.ENABLE)),t}#E(e){return k(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers();function i(){document.visibilityState==="hidden"&&t.resolve()}document.addEventListener("visibilitychange",i,{signal:e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),document.removeEventListener("visibilitychange",i)})}getAllText(){return k(this,null,function*(){let e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(this.#y)return null;t.length=0;let s=yield this.pdfDocument.getPage(i),{items:o}=yield s.getTextContent();for(let a of o)a.str&&t.push(a.str),a.hasEOL&&t.push(`
`);e.push(gd(t.join("")))}return e.join(`
`)})}#I(e,t){let i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(this.#m)){if(this.#v||e===Zn.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#v=!0;let{classList:o}=this.viewer;o.add("copyAll");let a=new AbortController;window.addEventListener("keydown",l=>this.#y=l.key==="Escape",{signal:a.signal}),this.getAllText().then(l=>k(this,null,function*(){l!==null&&(yield navigator.clipboard.writeText(l))})).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#v=!1,this.#y=!1,a.abort(),o.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#r?.destroy(),this.#r=null),this.pdfDocument=e,!e)return;let t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=this.#c?e.getPermissions():Promise.resolve(),{eventBus:o,pageColors:a,viewer:l}=this;this.#h=new AbortController;let{signal:c}=this.#h;if(t>fd.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let h=this._scrollMode=ve.PAGE;o.dispatch("scrollmodechanged",{source:this,mode:h})}this._pagesCapability.promise.then(()=>{o.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let u=h=>{let f=this._pages[h.pageNumber-1];f&&this.#e.push(f)};o._on("pagerender",u,{signal:c});let d=h=>{h.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:h.timestamp}),o._off("pagerendered",d))};o._on("pagerendered",d,{signal:c}),Promise.all([i,s]).then(([h,f])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(h),this._optionalContentConfigPromise=r;let{annotationEditorMode:p,annotationMode:g,textLayerMode:v}=this.#D(f);if(v!==Zn.DISABLE){let w=this.#m=document.createElement("div");w.id="hiddenCopyElement",l.before(w)}if(typeof AbortSignal.any=="function"&&p!==nn.DISABLE){let w=p;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Gx(w)?(this.#r=new GL(this.container,l,this.#t,o,e,a,this.#n,this.#d,this.#u,this.#o,this.#p),o.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#r}),w!==nn.NONE&&(w===nn.STAMP&&this.#p?.loadModel("altText"),this.#r.updateMode(w))):console.error(`Invalid AnnotationEditor mode: ${w}`)}let m=this._scrollMode===ve.PAGE?null:l,_=this.currentScale,C=h.getViewport({scale:_*Si.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",C.scale),(a?.foreground==="CanvasText"||a?.background==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let w=1;w<=t;++w){let S=new Ad({container:m,eventBus:o,id:w,scale:_,defaultViewport:C.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:v,annotationMode:g,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:a,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(S)}this._pages[0]?.setPdfPage(h),this._scrollMode===ve.PAGE?this.#S():this._spreadMode!==At.NONE&&this._updateSpreadMode(),this.#E(c).then(()=>k(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#m&&document.addEventListener("copy",this.#I.bind(this,v),{signal:c}),this.#r&&o.dispatch("annotationeditormodechanged",{source:this,mode:this.#i}),e.loadingParams.disableAutoFetch||t>fd.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let w=t-1;if(w<=0){this._pagesCapability.resolve();return}for(let S=2;S<=t;++S){let E=e.getPage(S).then(D=>{let N=this._pages[S-1];N.pdfPage||N.setPdfPage(D),--w===0&&this._pagesCapability.resolve()},D=>{console.error(`Unable to get page ${S} to initialize viewer`,D),--w===0&&this._pagesCapability.resolve()});S%fd.PAUSE_EAGER_PAGE_INIT===0&&(yield E)}})),o.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:w})=>{e===this.pdfDocument&&w.Language&&(l.lang=w.Language)}),this.defaultRenderingQueue&&this.update()}).catch(h=>{console.error("Unable to initialize viewer",h),this._pagesCapability.reject(h)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,i=this._pages.length;t<i;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=Hv,this._currentScaleValue=null,this._pageLabels=null,this.#e=new Cy(Wx),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=ve.VERTICAL,this._previousScrollMode=ve.UNKNOWN,this._spreadMode=At.NONE,this.#w={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#V()}#S(){if(this._scrollMode!==ve.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#w,i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===At.NONE&&!this.isInPresentationMode){let r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{let r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));let o=document.createElement("div");if(o.className="spread",this.isInPresentationMode){let a=document.createElement("div");a.className="dummyPage",o.append(a)}for(let a of r){let l=this._pages[a];l&&(o.append(l.div),t.pages.push(l))}i.append(o)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#P(e,t=null){let{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===ve.PAGE&&(this.#S(),this.update()),!t&&!this.isInPresentationMode){let s=i.offsetLeft+i.clientLeft,o=s+i.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===ve.HORIZONTAL||s<a||o>a+l)&&(t={left:0,top:0})}Yx(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}#k(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#A(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:o=null}){if(this._currentScaleValue=t.toString(),this.#k(e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*Si.PDF_TO_CSS_UNITS);let a=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:a?s:-1}),a&&(this.#x=setTimeout(()=>{this.#x=null,this.refresh()},s));let l=this._currentScale;if(this._currentScale=e,!i){let c=this._currentPageNumber,u;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0}),Array.isArray(o)){let d=e/l-1,[h,f]=this.containerTopLeft;this.container.scrollLeft+=(o[0]-f)*d,this.container.scrollTop+=(o[1]-h)*d}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}get#b(){return this._spreadMode!==At.NONE&&this._scrollMode!==ve.HORIZONTAL?2:1}#M(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,this.#A(i,e,t);else{let r=this._pages[this._currentPageNumber-1];if(!r)return;let s=gx,o=mx;this.isInPresentationMode?(s=o=4,this._spreadMode!==At.NONE&&(s*=2)):this.removePageBorders?s=o=0:this._scrollMode===ve.HORIZONTAL&&([s,o]=[o,s]);let a=(this.container.clientWidth-s)/r.width*r.scale/this.#b,l=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":let c=bx(r)?a:Math.min(l,a);i=Math.min(fL,c);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#A(i,e,t)}}#N(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#M(this._currentScaleValue,{noScroll:!0}),this.#P(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1}){if(!this.pdfDocument)return;let s=Number.isInteger(e)&&this._pages[e-1];if(!s){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,a=0,l=0,c=0,u,d,h=s.rotation%180!==0,f=(h?s.height:s.width)/s.scale/Si.PDF_TO_CSS_UNITS,p=(h?s.width:s.height)/s.scale/Si.PDF_TO_CSS_UNITS,g=0;switch(t[1].name){case"XYZ":o=t[2],a=t[3],g=t[4],o=o!==null?o:0,a=a!==null?a:p;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":a=t[2],g="page-width",a===null&&this._location?(o=this._location.left,a=this._location.top):(typeof a!="number"||a<0)&&(a=p);break;case"FitV":case"FitBV":o=t[2],l=f,c=p,g="page-height";break;case"FitR":o=t[2],a=t[3],l=t[4]-o,c=t[5]-a;let C=gx,w=mx;this.removePageBorders&&(C=w=0),u=(this.container.clientWidth-C)/l/Si.PDF_TO_CSS_UNITS,d=(this.container.clientHeight-w)/c/Si.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(u),Math.abs(d));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===Hv&&(this.currentScaleValue=uL)),g==="page-fit"&&!t[4]){this.#P(s);return}let v=[s.viewport.convertToViewportPoint(o,a),s.viewport.convertToViewportPoint(o+l,a+c)],m=Math.min(v[0][0],v[1][0]),_=Math.min(v[0][1],v[1][1]);i||(m=Math.max(m,0),_=Math.max(_,0)),this.#P(s,{left:m,top:_})}_updateLocation(e){let t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,o=this._pages[s-1],a=this.container,l=o.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),c=Math.round(l[0]),u=Math.round(l[1]),d=`#page=${s}`;this.isInPresentationMode||(d+=`&zoom=${r},${c},${u}`),this._location={pageNumber:s,scale:r,top:u,left:c,rotation:this._pagesRotation,pdfOpenParams:d}}update(){let e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;let r=Math.max(Wx,2*i+1);this.#e.resize(r,e.ids),this.renderingQueue.renderHighestPriority(e);let s=this._spreadMode===At.NONE&&(this._scrollMode===ve.PAGE||this._scrollMode===ve.VERTICAL),o=this._currentPageNumber,a=!1;for(let l of t){if(l.percent<100)break;if(l.id===o&&s){a=!0;break}}this._setCurrentPageNumber(a?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#L(){let e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(let s of r){let{view:o}=s;if(!o.hasEditableAnnotations()){i.delete(o.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===zs.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===zs.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===ve.PAGE?this.#w.pages:this._pages,t=this._scrollMode===ve.HORIZONTAL,i=t&&this._isContainerRtl;return mL({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(let e of this._pages)e.renderingState!==Ye.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#H(e){return k(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#j(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case ve.PAGE:return this.#w.scrollDown;case ve.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),i=this.#j(t),r=this._spreadMode!==At.NONE&&this._scrollMode!==ve.HORIZONTAL,s=this.renderingQueue.getHighestPriority(t,this._pages,i,r);return s?(this.#H(s).then(()=>{this.renderingQueue.renderView(s)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){let r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let i=t.pdfPage.getViewport({scale:1}),r=bx(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!vL(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>fd.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===ve.HORIZONTAL),i.classList.toggle("scrollWrapped",t===ve.WRAPPED),!(!this.pdfDocument||!e)&&(t===ve.PAGE?this.#S():this._previousScrollMode===ve.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#M(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!yL(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,i=this._pages;if(this._scrollMode===ve.PAGE)this.#S();else if(t.textContent="",this._spreadMode===At.NONE)for(let r of this._pages)t.append(r.div);else{let r=this._spreadMode-1,s=null;for(let o=0,a=i.length;o<a;++o)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):o%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[o].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#M(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case ve.WRAPPED:{let{views:i}=this._getVisiblePages(),r=new Map;for(let{id:s,y:o,percent:a,widthPercent:l}of i){if(a===0||l<100)continue;let c=r.get(o);c||r.set(o,c||=[]),c.push(s)}for(let s of r.values()){let o=s.indexOf(e);if(o===-1)continue;let a=s.length;if(a===1)break;if(t)for(let l=o-1,c=0;l>=c;l--){let u=s[l],d=s[l+1]-1;if(u<d)return e-d}else for(let l=o+1,c=a;l<c;l++){let u=s[l],d=s[l-1]+1;if(u>d)return d-e}if(t){let l=s[0];if(l<e)return e-l+1}else{let l=s[a-1];if(l>e)return l-e+1}break}break}case ve.HORIZONTAL:break;case ve.PAGE:case ve.VERTICAL:{if(this._spreadMode===At.NONE)break;let i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;let{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(let{id:o,percent:a,widthPercent:l}of r)if(o===s){if(a>0&&l===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){let o=i>0?px:1/px,a=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=a((s*o).toFixed(2)*10)/10;while(--i>0)}s=Math.max(dL,Math.min(hL,s)),this.#M(s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale(Y(T({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(Y(T({},e),{steps:-(e.steps??1)}))}#O(e=this.container.clientHeight){e!==this.#_&&(this.#_=e,bL.setProperty("--viewer-container-height",`${e}px`))}#F(e){for(let t of e)if(t.target===this.container){this.#O(Math.floor(t.borderBoxSize[0].blockSize)),this.#a=null;break}}get containerTopLeft(){return this.#a||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#f&&(this.eventBus._off("pagerendered",this.#f),this.#f=null),this.#g!==null&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#r?this.#i:nn.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!this.#r)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===e)return;if(!Gx(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===nn.STAMP&&this.#p?.loadModel("altText");let{eventBus:r}=this,s=()=>{this.#V(),this.#i=e,this.#r.updateMode(e,t,i),r.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===nn.NONE||this.#i===nn.NONE){let o=e!==nn.NONE;o||this.pdfDocument.annotationStorage.resetModifiedIds();for(let l of this._pages)l.toggleEditingMode(o);let a=this.#L();if(o&&a){this.#V(),this.#f=({pageNumber:c})=>{a.delete(c),a.size===0&&(this.#g=setTimeout(s,0))};let{signal:l}=this.#h;r._on("pagerendered",this.#f,{signal:l});return}}s()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let i of this._pages)i.update(t);this.#x!==null&&(clearTimeout(this.#x),this.#x=null),e||this.update()}}},Ey=class extends Sd{_resetView(){super._resetView(),this._scrollMode=ve.PAGE,this._spreadMode=At.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var KF=Be.AnnotationLayerBuilder,XF=Be.DownloadManager,QF=Be.EventBus,ZF=Be.FindState,xy=Be.GenericL10n,Ur=Be.LinkTarget,Ay=Be.PDFFindController,JF=Be.PDFHistory,Sy=Be.PDFLinkService,e2=Be.PDFPageView,t2=Be.PDFScriptingManager,Dy=Be.PDFSinglePageViewer,Iy=Be.PDFViewer,n2=Be.ProgressBar,i2=Be.RenderingStates,r2=Be.ScrollMode,s2=Be.SimpleLinkService,o2=Be.SpreadMode,a2=Be.StructTreeLayerBuilder,l2=Be.TextLayerBuilder,c2=Be.XfaLayerBuilder,u2=Be.parseQueryString;var d2=["pdfViewerContainer"];function h2(n,e){let t=new n.EventBus;return f2(t,e),t}function f2(n,e){Re(n,"documentload").pipe(Le(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Re(n,"pagerendered").pipe(Le(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),Re(n,"textlayerrendered").pipe(Le(e)).subscribe(({pageNumber:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv?.dispatchEvent(r)}),Re(n,"pagechanging").pipe(Le(e)).subscribe(({pageNumber:t,source:i})=>{let r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),Re(n,"pagesinit").pipe(Le(e)).subscribe(({source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),Re(n,"pagesloaded").pipe(Le(e)).subscribe(({pagesCount:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),Re(n,"scalechange").pipe(Le(e)).subscribe(({scale:t,presetValue:i,source:r})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),Re(n,"updateviewarea").pipe(Le(e)).subscribe(({location:t,source:i})=>{let r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),Re(n,"find").pipe(Le(e)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;let c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Re(n,"attachmentsloaded").pipe(Le(e)).subscribe(({attachmentsCount:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),Re(n,"sidebarviewchanged").pipe(Le(e)).subscribe(({view:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),Re(n,"pagemode").pipe(Le(e)).subscribe(({mode:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),Re(n,"namedaction").pipe(Le(e)).subscribe(({action:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),Re(n,"presentationmodechanged").pipe(Le(e)).subscribe(({active:t,switchInProgress:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),Re(n,"outlineloaded").pipe(Le(e)).subscribe(({outlineCount:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}function Ty(n,e,t){n[e]=t}function Sa(){return typeof window>"u"}Sa()||Ty($s,"verbosity",jv.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((i,r)=>{n=i,e=r}),resolve:n,reject:e}});var Py=function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n}(Py||{}),Jx=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof $s<"u"?`https://unpkg.com/pdfjs-dist@${_a}/cmaps/`:null;_imageResourcesPath=typeof $s<"u"?`https://unpkg.com/pdfjs-dist@${_a}/web/images/`:void 0;_renderText=!0;_renderTextMode=Py.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Ne;afterLoadComplete=new fe;pageRendered=new fe;pageInitialized=new fe;textLayerRendered=new fe;onError=new fe;onProgress=new fe;pageChange=new fe(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let i=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return Ur.BLANK;case"none":return Ur.NONE;case"self":return Ur.SELF;case"parent":return Ur.PARENT;case"top":return Ur.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,Sa())return;let r,s=_a,o=window[`pdfWorkerSrc${s}`];o?r=o:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?r=window.pdfWorkerSrc:r=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.mjs`,Ty(Vv,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(Sa()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){xe(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Le(this.destroy$)).subscribe({next:t=>{let i=this._rotation+t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS,s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){let a=t.getViewport({scale:1,rotation:i});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,o&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=h2(My,this.destroy$),Re(this.eventBus,"pagerendered").pipe(Le(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Re(this.eventBus,"pagesinit").pipe(Le(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Re(this.eventBus,"pagechanging").pipe(Le(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Re(this.eventBus,"textlayerrendered").pipe(Le(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Sy(T({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new Ay({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Py.DISABLED,findController:this.pdfFindController,l10n:new xy("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:Fv.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),Ty($s,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new Iy(this.getPDFOptions()):this.pdfViewer=new Dy(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return i.isEvalSupported=!1,t==="string"?i.url=this.src:t==="object"&&(this.src.byteLength!==void 0?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=Bv(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};let t=this.src;xe(this.loadingTask.promise).pipe(Le(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){let r=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,o=this.pdfViewerContainer.nativeElement.clientHeight-r;if(o===0||i===0||s===0||t===0)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/i,s/t);break;case"page-height":a=o/i;break;case"page-width":default:a=s/t;break}return this._zoom*a/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Sa()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Sa()||this.ngZone.runOutsideAngular(()=>{Re(window,"resize").pipe(Ah(100),st(()=>this._canAutoResize&&!!this._pdf),Le(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||n)(F(lt),F(Ae))};static \u0275cmp=pe({type:n,selectors:[["pdf-viewer"]],viewQuery:function(i,r){if(i&1&&ft(d2,5),i&2){let s;ct(s=ut())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[ci],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,r){i&1&&(y(0,"div",1,0),z(2,"div",2),b())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),eA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ge({type:n});static \u0275inj=We({})}return n})();var ir=class n{notificationsSubject=new $e([]);notifications$=this.notificationsSubject.asObservable();notifications=[];constructor(){}showNotification(e){this.notifications.push(e),this.notificationsSubject.next([...this.notifications]),e.timeout&&setTimeout(()=>{this.dismissNotification(e)},e.timeout)}dismissNotification(e){this.notifications=this.notifications.filter(t=>t!==e),this.notificationsSubject.next([...this.notifications])}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function g2(n,e){if(n&1&&(y(0,"div",8),M(1),b()),n&2){let t=e.$implicit;A(),be(t)}}function m2(n,e){if(n&1){let t=Se();y(0,"div",9),L("click",function(){let r=ue(t).$implicit,s=W();return de(s.selectDate(r))}),M(1),b()}if(n&2){let t=e.$implicit,i=W();sC(`p-4 rounded-lg hover:bg-indigo-200 hover:text-indigo-900 transition duration-300 
        cursor-pointer `,t===i.selectedDate?"bg-indigo-500 text-white":"bg-gray-100",""),A(),Bt(" ",t," ")}}var Id=class n{currentMonth;currentYear;selectedDate=null;weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];constructor(){let e=new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear()}getDaysInMonth(){let e=new Date(this.currentYear,this.currentMonth+1,0).getDate(),t=[];for(let i=1;i<=e;i++)t.push(i);return t}previousMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--}nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++}selectDate(e){this.selectedDate=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-calendar"]],decls:12,vars:4,consts:[[1,"calendar-container","p-6","max-w-lg","mx-auto","bg-white","rounded-lg","shadow-lg"],[1,"calendar-header","flex","justify-between","items-center","mb-4"],[1,"transition","transform","hover:scale-110","duration-300","text-gray-600",3,"click"],[1,"text-2xl","font-bold","text-gray-700"],[1,"grid","grid-cols-7","gap-2","text-center","text-gray-500"],["class","uppercase font-medium",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7","gap-2","text-center"],[3,"class","click",4,"ngFor","ngForOf"],[1,"uppercase","font-medium"],[3,"click"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"button",2),L("click",function(){return i.previousMonth()}),M(3," < "),b(),y(4,"h2",3),M(5),b(),y(6,"button",2),L("click",function(){return i.nextMonth()}),M(7," > "),b()(),y(8,"div",4),K(9,g2,2,1,"div",5),b(),y(10,"div",6),K(11,m2,2,4,"div",7),b()()),t&2&&(A(5),Wp("",i.monthNames[i.currentMonth]," ",i.currentYear,""),A(4),R("ngForOf",i.weekDays),A(2),R("ngForOf",i.getDaysInMonth()))},dependencies:[et],styles:[".calendar-container[_ngcontent-%COMP%]{background:linear-gradient(to right,#f7fafc,#edf2f7)}.calendar-header[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.grid-cols-7[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s ease}"]})};var y2=(n,e)=>({"px-6 h-12":n,"px-2 h-8":e}),Ny=(n,e)=>({"h-6 w-6":n,"h-4 w-4 ml-0":e}),b2=(n,e)=>({"top.px":n,"left.px":e}),_2=n=>({"w-[420px]":n});function w2(n,e){n&1&&z(0,"img",10)}function C2(n,e){if(n&1&&(y(0,"span",11),M(1),Gp(2,"date"),b()),n&2){let t=W();A(),be(qp(2,1,t.currentDate,"h:mm a"))}}function E2(n,e){n&1&&(Kt(0),y(1,"div",14),M(2," Battery: "),y(3,"h3")(4,"b",15),M(5,"72%"),b()()(),Xt())}function x2(n,e){if(n&1){let t=Se();Kt(0),y(1,"div",18),L("click",function(){let r=ue(t).index,s=W(3);return de(s.updateWifiStatus(r))}),z(2,"img",19),y(3,"div",20)(4,"span",21),M(5),b(),y(6,"p",22),M(7),b()()(),z(8,"hr",23),Xt()}if(n&2){let t=e.$implicit;A(5),be(t.name),A(2),be(t.status)}}function A2(n,e){if(n&1&&(Kt(0),y(1,"div",16),K(2,x2,9,2,"ng-container",17),b(),Xt()),n&2){let t=W(2);A(2),R("ngForOf",t.wifiData)}}function S2(n,e){n&1&&(Kt(0),y(1,"div",24),z(2,"app-calendar"),b(),Xt())}function D2(n,e){if(n&1&&(y(0,"div",12),K(1,E2,6,0,"ng-container",13)(2,A2,3,1,"ng-container",13)(3,S2,3,0,"ng-container",13),b()),n&2){let t=W();R("ngStyle",Pt(5,b2,t.buttonPosition.top+10,t.buttonPosition.left-100))("ngClass",di(8,_2,t.context==="clock")),A(),R("ngIf",t.context==="battery"),A(),R("ngIf",t.context==="wifi"),A(),R("ngIf",t.context==="clock")}}function I2(n,e){if(n&1){let t=Se();y(0,"span",25),L("click",function(r){ue(t);let s=W();return de(s.togglePopover(r,"clock"))}),M(1),Gp(2,"date"),b()}if(n&2){let t=W();A(),be(qp(2,1,t.currentDate,"fullDate"))}}var Md=class n{constructor(e,t,i){this.elementRef=e;this.notificationService=t;this.utilService=i;this.currentDate=new Date,this.isMobile=this.utilService.isMobile()}isPopoverOpen=!1;buttonPosition={top:0,left:0};currentDate;notificationConfig;context="";wifiData=[{name:"Airtel wifi",status:"Connected"},{name:"Orton`s iphone",status:""},{name:"BSNL 4G",status:""}];isMobile;ngOnInit(){setInterval(()=>{this.currentDate=new Date},1e3)}togglePopover(e,t){if(this.isPopoverOpen=!this.isPopoverOpen,this.context=t,this.isPopoverOpen){let r=e.target.getBoundingClientRect();this.buttonPosition.top=r.top+window.scrollY,this.buttonPosition.left=r.left+window.scrollX}}onClickOutside(e){let t=this.elementRef.nativeElement.querySelector(".popover"),i=this.elementRef.nativeElement.querySelector("img");this.isPopoverOpen&&!t.contains(e)&&e!==i&&(this.isPopoverOpen=!1)}showNotifications(){this.notificationConfig=this.utilService.getNotificationConfig(),this.notificationConfig.forEach(e=>{let t={message:this.utilService.getNotificationTemplate(e.title,e.desc),type:e.type||"success",timeout:e.timeout};e.delay?setTimeout(()=>{this.notificationService.showNotification(t)},e.delay):this.notificationService.showNotification(t)})}updateWifiStatus(e){this.wifiData.forEach((t,i)=>{i===e?t.status="Connecting...":t.status=""}),setTimeout(()=>{this.wifiData[e].status="Connected"},3e3)}static \u0275fac=function(t){return new(t||n)(F(lt),F(ir),F(Ut))};static \u0275cmp=pe({type:n,selectors:[["app-navbar"]],hostBindings:function(t,i){t&1&&L("click",function(s){return i.onClickOutside(s.target)},!1,aw)},decls:11,vars:20,consts:[[1,"flex","items-center","justify-between","py-2","bg-gradient-to-br","from-slate-700","to-slate-600","text-white","shadow-xl",3,"ngClass"],[1,"flex","items-center","relative"],["src","https://img.icons8.com/ios-filled/50/FFFFFF/grid.png","alt","Icon","class","h-6 w-6 cursor-pointer hover:opacity-50",4,"ngIf"],["class","text-xs",4,"ngIf"],["class","popover absolute bg-white border shadow-lg rounded-lg z-10 text-black cursor-pointer",3,"ngStyle","ngClass",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"flex","space-x-4"],["src","https://img.icons8.com/?size=100&id=Zxfs4e59WGWK&format=png&color=FFFFFF","alt","Icon1",1,"h-6","w-6","hover:opacity-50","cursor-pointer",3,"click","ngClass"],["src","https://img.icons8.com/?size=100&id=2851&format=png&color=FFFFFF","alt","Icon2",1,"h-6","w-6","hover:opacity-50","cursor-pointer",3,"click","ngClass"],["src","https://img.icons8.com/?size=100&id=84025&format=png&color=FFFFFF","alt","Icon4",1,"h-6","w-6","hover:opacity-50","cursor-pointer",3,"click","ngClass"],["src","https://img.icons8.com/ios-filled/50/FFFFFF/grid.png","alt","Icon",1,"h-6","w-6","cursor-pointer","hover:opacity-50"],[1,"text-xs"],[1,"popover","absolute","bg-white","border","shadow-lg","rounded-lg","z-10","text-black","cursor-pointer",3,"ngStyle","ngClass"],[4,"ngIf"],[1,"w-40","flex","p-4"],[1,"text-gray-300","ml-4","font-mono"],[1,"w-40","p-4"],[4,"ngFor","ngForOf"],[1,"flex","gap-3","items-center",3,"click"],["src","https://img.icons8.com/?size=100&id=13047&format=png&color=000000","alt","wifi",1,"w-5","h-5"],[1,"flex-grow"],[1,"font-semibold"],[1,"text-sm","text-gray-500"],[1,"py-1"],[1,"w-100","h-100"],[1,"cursor-pointer",3,"click"]],template:function(t,i){t&1&&(y(0,"nav",0)(1,"div",1),K(2,w2,1,0,"img",2)(3,C2,3,4,"span",3)(4,D2,4,10,"div",4),b(),y(5,"div"),K(6,I2,3,4,"span",5),b(),y(7,"div",6)(8,"img",7),L("click",function(s){return i.togglePopover(s,"wifi")}),b(),y(9,"img",8),L("click",function(s){return i.togglePopover(s,"battery")}),b(),y(10,"img",9),L("click",function(){return i.showNotifications()}),b()()()),t&2&&(R("ngClass",Pt(8,y2,!i.isMobile,i.isMobile)),A(2),R("ngIf",!i.isMobile),A(),R("ngIf",i.isMobile),A(),R("ngIf",i.isPopoverOpen),A(2),R("ngIf",!i.isMobile),A(2),R("ngClass",Pt(11,Ny,!i.isMobile,i.isMobile)),A(),R("ngClass",Pt(14,Ny,!i.isMobile,i.isMobile)),A(),R("ngClass",Pt(17,Ny,!i.isMobile,i.isMobile)))},dependencies:[dn,et,wt,As,Id,UC]})};var rr=class n{audio;isAudioEnabled="none";audioFiles;constructor(){this.audioFiles={option1:"none",option2:"/assets/audio/click1.mp3",option3:"/assets/audio/click2.wav"},this.audio=new Audio("/assets/audio/click2.wav")}playAudio(){this.isAudioEnabled=this.getAudioStatus()||"none",this.audio&&this.isAudioEnabled!=="none"&&(this.audio.currentTime=0,this.audio.play())}setAudioStatus(e){this.isAudioEnabled=e,window.localStorage.setItem("audioStatus",e),e!=="none"&&(this.audio=new Audio(this.audioFiles[e]))}getAudioStatus(){return window.localStorage.getItem("audioStatus")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var sr=class n{data=[];companyData=[{name:"Serrala",logo:"/assets/images/serrala-icon.svg",designation:"Software Engineer",from:"April 2023",to:"Present",work:[{role:"Full Stack Developer",techStack:["Angular","Node.js","Express","MongoDB","k8s","Kakfka"],projects:["Developed a web application for a client to manage their business operations. The application was built using React, Node.js, Express, and MongoDB. The application was deployed on AWS.","Developed a web application for a client to manage their business operations. The application was built using React, Node.js, Express, and MongoDB. The application was deployed on AWS."]}]},{name:"udChalo",logo:"/assets/images/udchalo-icon.png",designation:"Senior Software Developer",from:"July 2020",to:"April 2023",work:[{role:"Full Stack Developer",techStack:["Angular","Node.js","Koa.js","DynamoBD","AWS","Typescript"],projects:["Developed a web application for a client to manage their business operations. The application was built using React, Node.js, Express, and MongoDB. The application was deployed on AWS.","Developed a web application for a client to manage their business operations. The application was built using React, Node.js, Express, and MongoDB. The application was deployed on AWS."]}]}];applications=[{id:"File Explorer",name:"My PC",imgSrc:"https://img.icons8.com/?size=100&id=20420&format=png&color=000000"},{id:"Portfolio",name:"Portfolio",imgSrc:"https://img.icons8.com/?size=100&id=ognMDWHTIaDL&format=png&color=000000",displayInFooter:!0},{id:"Resume",name:" Resume",imgSrc:"https://img.icons8.com/?size=100&id=9eK5RgdglDbA&format=png&color=000000g",displayInFooter:!0},{id:"Terminal",name:"Terminal",imgSrc:"https://img.icons8.com/?size=100&id=nuPce-GYYZeC&format=png&color=000000",displayInFooter:!0},{id:"Linkedin",name:"LinkedIn",imgSrc:"https://img.icons8.com/?size=100&id=13930&format=png&color=000000",link:"https://www.linkedin.com/in/sagar-patil-57srp/"},{id:"Chrome",name:"Chrome",imgSrc:"https://img.icons8.com/?size=100&id=63785&format=png&color=000000"},{id:"Settings",name:"Settings",imgSrc:"https://img.icons8.com/?size=100&id=flyFkP7sj07V&format=png&color=000000"},{id:"Compiler",name:"Compiler",imgSrc:"https://img.icons8.com/?size=100&id=1ZSHk8m9bk4p&format=png&color=000000",displayInFooter:!0},{id:"Calculator",name:"Calculator",imgSrc:"https://img.icons8.com/?size=100&id=12780&format=png&color=000000"},{id:"Camera",name:"Camera",imgSrc:"https://img.icons8.com/?size=100&id=xZiTPdO57ltQ&format=png&color=000000",displayInFooter:!0}];skills={frontend:[{name:"Javascript",imgUrl:"https://img.icons8.com/?size=100&id=PXTY4q2Sq2lG&format=png&color=000000"},{name:"Angular",imgUrl:"https://img.icons8.com/?size=100&id=l9a5tcSnBwcf&format=png&color=000000"},{name:"CSS3",imgUrl:"https://img.icons8.com/?size=100&id=21278&format=png&color=000000"}],backend:[{name:"Node.js",imgUrl:"https://img.icons8.com/?size=100&id=hsPbhkOH4FMe&format=png&color=000000"},{name:"Express.js",imgUrl:"https://img.icons8.com/?size=100&id=kg46nzoJrmTR&format=png&color=000000"},{name:"Kafka",imgUrl:"https://img.icons8.com/?size=100&id=fOhLNqGJsUbJ&format=png&color=000000"},{name:"MongoDB",imgUrl:"https://img.icons8.com/?size=100&id=bosfpvRzNOG8&format=png&color=000000"}],otherTech:[{name:"AWS",imgUrl:"https://img.icons8.com/?size=100&id=33039&format=png&color=000000"},{name:"Kubernetes",imgUrl:"https://img.icons8.com/?size=100&id=cvzmaEA4kC0o&format=png&color=000000"},{name:"Flutter",imgUrl:"https://img.icons8.com/?size=100&id=5pu47piHKg1I&format=png&color=000000"},{name:"Typescript",imgUrl:"https://img.icons8.com/?size=100&id=Xf1sHBmY73hA&format=png&color=000000"}]};achievements=[{title:"Best Project Award",desc:"Built Suraksha - 2nd highest revenue feature in udChalo"},{title:"Beyond the limit Award",desc:"Built flutter prototype of flight booking app"},{title:"Bug Bash Winner Award (2X)",desc:"Identified critical and highest no bugs in bug bash"},{title:"Unnati Award",desc:"Identified critical and highest no bugs in bug bash"}];getApplications(e=!1){return e?this.applications.filter(t=>t.displayInFooter):this.applications}getCompanyData(){return this.companyData}getSkills(){return this.skills}getAchievements(){return this.achievements}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var T2=(n,e)=>({"w-16 h-16":n,"w-12 h-12":e}),P2=(n,e)=>({"text-lg text-white":n,"text-sm text-gray-600":e}),Td=class n{constructor(e){this._utilService=e;this.isMobile=e.isMobile()}isMobile;imgSrc="";name="";static \u0275fac=function(t){return new(t||n)(F(Ut))};static \u0275cmp=pe({type:n,selectors:[["app-widget"]],inputs:{imgSrc:"imgSrc",name:"name"},decls:4,vars:11,consts:[[1,"mx-auto","hover:bg-gray-200","transition-all","transform","hover:scale-95","hover:shadow-2xl","cursor-pointer",3,"src","alt","ngClass"],[1,"mt-2","s","md:text-sm",3,"ngClass"]],template:function(t,i){t&1&&(Kt(0),z(1,"img",0),y(2,"p",1),M(3),b(),Xt()),t&2&&(A(),R("src",i.imgSrc,on)("alt",i.name)("ngClass",Pt(5,T2,!i.isMobile,i.isMobile)),A(),R("ngClass",Pt(8,P2,!i.isMobile,i.isMobile)),A(),be(i.name))},dependencies:[dn]})};var R2=(n,e,t)=>({"flex-col desktop-height":n,"flex-row":e,"justify-center":t}),k2=n=>({"mr-8":n});function O2(n,e){if(n&1){let t=Se();y(0,"div",3)(1,"div",4),L("click",function(){let r=ue(t).$implicit,s=W();return de(s.onItemClicked(r))}),z(2,"app-widget",5),b()()}if(n&2){let t=e.$implicit,i=W();R("ngClass",di(3,k2,!i.isMobile)),A(2),R("imgSrc",t.imgSrc)("name",t.name)}}var Pd=class n{constructor(e,t,i,r){this.modalService=e;this._utilService=t;this.audioService=i;this._dataService=r;this.isMobile=t.isMobile(),this.items=this._dataService.getApplications()}isMobile;modalComponents;onModalSelected=new fe;items=[];onItemClicked(e){if(this.audioService.playAudio(),!e?.link){this.openModal(e?.id);return}this.redirectToLinkedIn(e?.link)}redirectToLinkedIn(e){let r=window.innerWidth/2-300,s=window.innerHeight/2-400/2;window.open(e,"_blank",`width=600,height=400,top=${s},left=${r}`)}openModal(e){this.onModalSelected.emit(e)}static \u0275fac=function(t){return new(t||n)(F(Yn),F(Ut),F(rr),F(sr))};static \u0275cmp=pe({type:n,selectors:[["app-container"]],viewQuery:function(t,i){if(t&1&&ft(Kn,5),t&2){let r;ct(r=ut())&&(i.modalComponents=r)}},outputs:{onModalSelected:"onModalSelected"},decls:3,vars:6,consts:[[1,"flex"],[1,"flex","items-start","p-5","flex-wrap",3,"ngClass"],["class","mb-5 text-center w-24",3,"ngClass",4,"ngFor","ngForOf"],[1,"mb-5","text-center","w-24",3,"ngClass"],[3,"click"],[3,"imgSrc","name"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1),K(2,O2,3,5,"div",2),b()()),t&2&&(A(),R("ngClass",hC(2,R2,!i.isMobile,i.isMobile,i.isMobile)),A(),R("ngForOf",i.items))},dependencies:[dn,et,Td],styles:[".desktop-height[_ngcontent-%COMP%]{height:calc(-100px + 100vh)}"]})};function F2(n,e){if(n&1){let t=Se();Kt(0),y(1,"img",4),L("click",function(){let r=ue(t).$implicit,s=W();return de(s.openModal(r.id))}),b(),Xt()}if(n&2){let t=e.$implicit;A(),R("src",t.imgSrc,on)}}var Nd=class n{constructor(e,t,i){this.modalService=e;this.audioService=t;this._dataService=i;let r=this._dataService.getApplications(!0);this.modals=r}modals=[];modalComponents;onModalSelected=new fe;openModal(e){this.onModalSelected.emit(e),this.audioService.playAudio()}static \u0275fac=function(t){return new(t||n)(F(Yn),F(rr),F(sr))};static \u0275cmp=pe({type:n,selectors:[["app-footer"]],viewQuery:function(t,i){if(t&1&&ft(Kn,5),t&2){let r;ct(r=ut())&&(i.modalComponents=r)}},outputs:{onModalSelected:"onModalSelected"},decls:4,vars:1,consts:[[1,"w-full","flex","justify-center","shadow-md","h-20"],[1,"py-3","px-4","bg-slate-700","text-white","mx-7","mb-2","mt-0","rounded-[30px]","bg-opacity-50","flex","items-center","justify-center","shadow-md"],[1,"flex","space-x-7","items-center","justify-center"],[4,"ngFor","ngForOf"],["alt","Icon",1,"h-8","w-8","md:h-10","md:w-10","cursor-pointer","duration-300","ease-in-out","hover:scale-150",3,"click","src"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2),K(3,F2,2,1,"ng-container",3),b()()()),t&2&&(A(3),R("ngForOf",i.modals))},dependencies:[et]})};var Ys=class n{exec(e){return e.toLowerCase()==="clear"?{commandOutput:"",isHtml:!1}:e.toLowerCase()==="ls"?{commandOutput:"<ul><li>Desktop</li><li>Documents</li><li>Downloads</li><li>Music</li></ul>",isHtml:!0}:e.toLowerCase()==="help"?{commandOutput:'<ul><li class="text-yellow-400">Available commands:</li><li>1. show projects - List projects</li><li>2. show skills - Display skillset</li><li>3. show my projects</li><li>4. clear - Clear the terminal screen</li><li>and more...</li></ul>',isHtml:!0}:e.toLowerCase()==="show projects"?{commandOutput:`<ul><li><p>1. Led a team of 3 and developed a file-based integration system for exporting invoices to SFTP server, enabling seamless integration with multiple ERP systems. This solution contributed to onboarding over <span class="text-green-500">3 new customers</span>.</p><p class="text-green-500">Tech used: Node.js, Express, Mongodb, Kafka, Azure</p></li>
        <li><p>2. Implemented anasynchronous, scalable system for importing master data from ERP systems into the Accounts Payable system database, ensuring graceful k8s pod shutdown.</p><p class="text-green-500">Tech used: Node.js, Express, Mongodb, Kafka, Azure, kubernetes</p></li>
        <li><p>3. Implemented caching mechanism in invoice validation engine which reduced invoice posting time by approx <span class="text-yellow-500">30 mins per 10k invoices</span>.</p><p class="text-green-500">Tech used: Node.js, Express, Mongodb, Mingo</p></li>
        <li><p>4. Built udChalo Holidays and Housing line of business in udchalo application to boost sales and customer engagement</p><p class="text-green-500">Tech used: Angular, Angular material, SASS, Node.js, koa.js, AWS serverless, dynamodb, AWS lambda</p></li>
        <li><p>5. Built product named Suraksha for flight insurance to boost sales and customer engagement, becoming the 2nd highest revenue-generating LOB in udchalo</p><p class="text-green-500">Tech used: Angular, Angular material, SASS, Node.js, Koa.js, AWS serverless, Dynamodb, AWS lambda</p></li>
        <li><p>6. Integrated ButterCMS, a content management system in udChalo app. Reduced the number of api calls to butterCms from <span class="text-orange-500">2.8 Million to 2.4 Thousand (per month) using api gateway caching</span>.</p><p class="text-green-500">Tech used: Angular, Cordova, ButterCMS, Cloudflare</p></li>
        <li><p>7. Key member to migrate the system from monolithic architecture to micro-service serviceless architecture.</p><p class="text-green-500">Tech used: Node.js, Typescript, AWS serverless, dynamodb, lambda functions, docker</p></li>
        <li><p>8. Developed Fauji Family feature, driving a consistent monthly average onboarding of <span class="text-red-500">4.5k+</span> users and steadily increasing platform engagement.</p><p class="text-green-500">Tech used: Node.js, Express, Mongodb, AWS services</p></li></ul>`,isHtml:!0}:e.toLowerCase()==="show skills"?{commandOutput:`
        <table class="w-full text-left border-collapse border border-green-500 bg-gray-900">
          <thead>
            <tr>
              <th class="border border-green-500 px-4 py-2 text-green-300 bg-gray-800">Skill</th>
              <th class="border border-green-500 px-4 py-2 text-green-300 bg-gray-800">Level</th>
              <th class="border border-green-500 px-4 py-2 text-green-300 bg-gray-800">Experience (Years)</th>
            </tr>
          </thead>
          <tbody>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Javascript</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">4</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Angular</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Advanced</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">4</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Typescript</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">2</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">PWA</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">1</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Rxjs</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">4</td>
            </tr>
            <tr class="bg-gray-800 hover:bg-gray-700 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Flutter</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Beginner</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">1</td>
            </tr>
            <tr class="bg-gray-800 hover:bg-gray-700 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Node.js</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Advanced</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">4</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">MongoDB</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">2</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">AWS</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">2</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">Kafka</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Begineer</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">1</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">HTML 5</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">4</td>
            </tr>
            <tr class="bg-gray-900 hover:bg-gray-800 transition-all duration-300">
              <td class="border border-green-500 px-4 py-2 text-green-100">CSS/SCSS</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">Intermediate</td>
              <td class="border border-green-500 px-4 py-2 text-green-100">4</td>
            </tr>
          </tbody>
        </table>
        `,isHtml:!0}:e.toLowerCase()==="whoami"?{commandOutput:`<p><b>Hello there!</b> <span style='font-size:50px;'>&#128512;</span></p> <p>I am <span class="text-blue-300">Swagar</span><span class="text-green-400">OS</span> version 2.0</p>`,isHtml:!0}:e.toLowerCase()==="show my projects"?{commandOutput:`<ul>
        <li><p>1. udChalo\u2019s mobile application built using <span class="text-green-400">flutter</span> for demonstration and comparison purposes.</p></li>
        <li><p>2. <span class="text-green-400">Code Buddy</span> is a platform which helps competitive coders to find coding problems based on different difficulty levels. Single platform to view upcoming contests on different websites(cf, hackerrank,hackerearth,etc) and add reminder for contests. Save problems to todos if user wants to solve them late. Write Editorials/Posts on some Problem/topic. When a user submits an Editorial, it is first reviewed by admin and if admin approves/rejects it, then user gets notified that his editorial is accepted/rejected and the editorial is publicly visible</p><p>Tech used: MEAN stack, redis for caching, puppeter for scraping, Jest for integration testing, travis CI for continous integration</p></li>
        <li><p>3. Built a web application which allows users to capture and share their moments. Its a <span class="text-green-400">PWA</span> and acts as a native application as it can be downloaded, works offline, Web Push notifications and Background sync which allows users to add the posts even if they are offline.</p><p>Tech used: Javascript, PWA features like static/dynamic caching, background synchronization, push notifications, integrated media devices (camera), Firebase</p></li>
        <li><p>4. Built a platform that helps alumni's to be in touch with each other and has features like filtering based on company name,batch, searching other alumni's, gallery section including images of past events,Alumni's get notified when events are added.They can view event blogs, comment on them and invite their friends.Alumni's can add posts, can update their profiles; Admin panel includes features like adding, deleting and editing events,deleting suspecious user, add pictures and notifying alumni's</p><p>Servlets, JSP, JDBC, HTML-5,CSS-3,JavaScript,Ajax,Jquery,Bootstrap</p></li>
        </ul>`,isHtml:!0}:e.toLowerCase()==="show achievements"?{commandOutput:`<ul>
        <li><p>1. Received <span class="text-orange-400">\u2019Star Perfomer of the quarter\u2019</span> award at udChalo.</p></li>
        <li><p>2. Received <span class="text-orange-400">\u2019The value enabler\u2019</span> award at udChalo.</p></li>
        <li><p>3. Received <span class="text-orange-400">\u2019Best Project\u2019</span> award at udChalo.</p></li>
        <li><p>4. <span class="text-orange-400">Bug bash Winner</span> twice at udChalo</p></li>
        </ul>`,isHtml:!0}:e.toLowerCase()==="show hobbies"?{commandOutput:`<ul>
        <li><p>1. Gyming <span style='font-size:100px;'>&#127947;</span></p></li>
        <li><p>2. Listening songs <span style='font-size:100px;'>&#127926;</span></p></li>
        <li><p>3. Cricket <span style='font-size:100px;'>&#127951;</span></p></li>
        </ul>`,isHtml:!0}:null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var uA=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(F(En),F(lt))}}static{this.\u0275dir=qe({type:n})}}return n})(),Na=(()=>{class n extends uA{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})()}static{this.\u0275dir=qe({type:n,features:[ln]})}}return n})(),eo=new H("");var B2={provide:eo,useExisting:Un(()=>or),multi:!0};function H2(){let n=Gn()?Gn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var U2=new H(""),or=(()=>{class n extends uA{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!H2())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(F(En),F(lt),F(U2,8))}}static{this.\u0275dir=qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&L("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[qi([B2]),ln]})}}return n})();var dA=new H(""),hA=new H("");function fA(n){return n!=null}function pA(n){return Ir(n)?xe(n):n}function gA(n){let e={};return n.forEach(t=>{e=t!=null?T(T({},e),t):e}),Object.keys(e).length===0?null:e}function mA(n,e){return e.map(t=>t(n))}function $2(n){return!n.validate}function vA(n){return n.map(e=>$2(e)?e:t=>e.validate(t))}function z2(n){if(!n)return null;let e=n.filter(fA);return e.length==0?null:function(t){return gA(mA(t,e))}}function Ly(n){return n!=null?z2(vA(n)):null}function W2(n){if(!n)return null;let e=n.filter(fA);return e.length==0?null:function(t){let i=mA(t,e).map(pA);return xh(i).pipe(J(gA))}}function Fy(n){return n!=null?W2(vA(n)):null}function nA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function G2(n){return n._rawValidators}function q2(n){return n._rawAsyncValidators}function Oy(n){return n?Array.isArray(n)?n:[n]:[]}function kd(n,e){return Array.isArray(n)?n.includes(e):n===e}function iA(n,e){let t=Oy(e);return Oy(n).forEach(r=>{kd(t,r)||t.push(r)}),t}function rA(n,e){return Oy(e).filter(t=>!kd(n,t))}var Od=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Qs=class extends Od{get formDirective(){return null}get path(){return null}},Zs=class extends Od{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ld=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Y2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},o8=Y(T({},Y2),{"[class.ng-submitted]":"isSubmitted"}),to=(()=>{class n extends Ld{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(F(Zs,2))}}static{this.\u0275dir=qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Sc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ln]})}}return n})(),yA=(()=>{class n extends Ld{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(F(Qs,10))}}static{this.\u0275dir=qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Sc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ln]})}}return n})();var Da="VALID",Rd="INVALID",Ks="PENDING",Ia="DISABLED",Js=class{},Fd=class extends Js{constructor(e,t){super(),this.value=e,this.source=t}},Ta=class extends Js{constructor(e,t){super(),this.pristine=e,this.source=t}},Pa=class extends Js{constructor(e,t){super(),this.touched=e,this.source=t}},Xs=class extends Js{constructor(e,t){super(),this.status=e,this.source=t}};function bA(n){return(Bd(n)?n.validators:n)||null}function K2(n){return Array.isArray(n)?Ly(n):n||null}function _A(n,e){return(Bd(e)?e.asyncValidators:n)||null}function X2(n){return Array.isArray(n)?Fy(n):n||null}function Bd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Q2(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new B(1e3,"");if(!i[t])throw new B(1001,"")}function Z2(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new B(1002,"")})}var Vd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Po(()=>this.statusReactive()),this.statusReactive=Io(void 0),this._pristine=Po(()=>this.pristineReactive()),this.pristineReactive=Io(!0),this._touched=Po(()=>this.touchedReactive()),this.touchedReactive=Io(!1),this._events=new Ne,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return hi(this.statusReactive)}set status(e){hi(()=>this.statusReactive.set(e))}get valid(){return this.status===Da}get invalid(){return this.status===Rd}get pending(){return this.status==Ks}get disabled(){return this.status===Ia}get enabled(){return this.status!==Ia}get pristine(){return hi(this.pristineReactive)}set pristine(e){hi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return hi(this.touchedReactive)}set touched(e){hi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rA(e,this._rawAsyncValidators))}hasValidator(e){return kd(this._rawValidators,e)}hasAsyncValidator(e){return kd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Y(T({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Pa(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Pa(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Y(T({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ta(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ta(!0,i))}markAsPending(e={}){this.status=Ks;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Y(T({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ia,this.errors=null,this._forEachChild(r=>{r.disable(Y(T({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fd(this.value,i)),this._events.next(new Xs(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(T({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Da,this._forEachChild(i=>{i.enable(Y(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(T({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Da||this.status===Ks)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fd(this.value,t)),this._events.next(new Xs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Y(T({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ia:Da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ks,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=pA(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Xs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Ia:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ks)?Ks:this._anyControlsHaveStatus(Rd)?Rd:Da}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Ta(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Pa(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=K2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=X2(this._rawAsyncValidators)}},jd=class extends Vd{constructor(e,t,i){super(bA(t),_A(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Z2(this,!0,e),Object.keys(e).forEach(i=>{Q2(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hd=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Ud}),Ud="always";function J2(n,e){return[...e.path,n]}function wA(n,e,t=Ud){CA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),tV(n,e),iV(n,e),nV(n,e),eV(n,e)}function sA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eV(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function CA(n,e){let t=G2(n);e.validator!==null?n.setValidators(nA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=q2(n);e.asyncValidator!==null?n.setAsyncValidators(nA(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();sA(e._rawValidators,r),sA(e._rawAsyncValidators,r)}function tV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&EA(n,e)})}function nV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&EA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function EA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iV(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function rV(n,e){n==null,CA(n,e)}function sV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function oV(n){return Object.getPrototypeOf(n.constructor)===Na}function aV(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function lV(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===or?t=s:oV(s)?i=s:r=s}),r||i||t||null}var cV={provide:Qs,useExisting:Un(()=>Vy)},Ma=Promise.resolve(),Vy=(()=>{class n extends Qs{get submitted(){return hi(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=Po(()=>this.submittedReactive()),this.submittedReactive=Io(!1),this._directives=new Set,this.ngSubmit=new fe,this.form=new jd({},Ly(t),Fy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ma.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),wA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ma.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ma.then(()=>{let i=this._findContainer(t.path),r=new jd({});rV(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ma.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ma.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),aV(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(F(dA,10),F(hA,10),F(Hd,8))}}static{this.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&L("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qi([cV]),ln]})}}return n})();function oA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var uV=class extends Vd{constructor(e=null,t,i){super(bA(t),_A(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(aA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dV={provide:Zs,useExisting:Un(()=>$r)},lA=Promise.resolve(),$r=(()=>{class n extends Zs{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new uV,this._registered=!1,this.name="",this.update=new fe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=lV(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),sV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){lA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Rc(i);lA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?J2(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(F(Qs,9),F(dA,10),F(hA,10),F(eo,10),F(Mr,8),F(Hd,8))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qi([dV]),ln,ci]})}}return n})(),xA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var hV={provide:eo,useExisting:Un(()=>jy),multi:!0};var fV=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jy=(()=>{class n extends Na{constructor(t,i,r,s){super(t,i),this._registry=r,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=O(Hd,{optional:!0})??Ud}ngOnInit(){this._control=this._injector.get(Zs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(F(En),F(lt),F(fV),F(_t))}}static{this.\u0275dir=qe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&L("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[qi([hV]),ln]})}}return n})(),pV={provide:eo,useExisting:Un(()=>By),multi:!0},By=(()=>{class n extends Na{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,r){i&1&&L("change",function(o){return r.onChange(o.target.value)})("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[qi([pV]),ln]})}}return n})();var gV={provide:eo,useExisting:Un(()=>$d),multi:!0};function AA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function mV(n){return n.split(":")[0]}var $d=(()=>{class n extends Na{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=AA(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=mV(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&L("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[qi([gV]),ln]})}}return n})(),SA=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(AA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(F(lt),F(En),F($d,9))}}static{this.\u0275dir=qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),vV={provide:eo,useExisting:Un(()=>DA),multi:!0};function cA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function yV(n){return n.split(":")[0]}var DA=(()=>{class n extends Na{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=i.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=yV(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&L("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[qi([vV]),ln]})}}return n})(),IA=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(cA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(cA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(F(lt),F(En),F(DA,9))}}static{this.\u0275dir=qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var bV=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({})}}return n})();var MA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hd,useValue:t.callSetDisabledState??Ud}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({imports:[bV]})}}return n})();var _V=["inputElement"],wV=["terminalBody"];function CV(n,e){n&1&&(y(0,"div",11)(1,"p"),M(2,"Welcome to the terminal! Type "),y(3,"span",9),M(4,"help"),b(),M(5," to get started with available commands."),b()())}function EV(n,e){if(n&1&&(y(0,"div"),M(1),y(2,"div"),M(3),b()()),n&2){let t=W().$implicit;A(),Bt(" ",t.command," "),A(2),be(t.output)}}function xV(n,e){if(n&1&&(y(0,"div"),z(1,"div",14)(2,"div",14),b()),n&2){let t=W().$implicit;A(),R("innerHTML",t.command,So),A(),R("innerHTML",t.output,So)}}function AV(n,e){if(n&1&&(y(0,"div",12),K(1,EV,4,2,"div",13)(2,xV,3,2,"div",13),b()),n&2){let t=e.$implicit;A(),R("ngIf",!t.isHtml),A(),R("ngIf",t.isHtml)}}var Wd=class n{constructor(e){this._commandService=e}inputElement;terminalInput="";commandHistory=[];historyIndex=-1;storedInputBeforeHistory="";terminalBody;processCommand(){if(this.terminalInput.trim()!==""){let e=this.runCommand(this.terminalInput);this.commandHistory.push({command:`sagar.patil ~ % ${this.terminalInput}`,output:e?e.output:"",isHtml:e?e.isHtml:!1}),this.terminalInput="",this.historyIndex=-1,this.storedInputBeforeHistory=""}setTimeout(()=>{this.scrollToBottom()},100)}runCommand(e){let t=this._commandService.exec(e);return t===null?{output:`bash: ${e}: command not found`,isHtml:!1}:e.toLowerCase()==="clear"?(this.commandHistory=[],null):{output:t.commandOutput,isHtml:t.isHtml}}onKeyDown(e){e.key==="Enter"?this.processCommand():e.key==="ArrowUp"?this.showPreviousCommand():e.key==="ArrowDown"&&this.showNextCommand()}showPreviousCommand(){if(this.historyIndex===-1&&(this.storedInputBeforeHistory=this.terminalInput),this.historyIndex<this.commandHistory.length-1){this.historyIndex++;let e=this.commandHistory[this.commandHistory.length-1-this.historyIndex].command;this.terminalInput=e.split(" % ")[1]||""}}showNextCommand(){if(this.historyIndex>0){this.historyIndex--;let e=this.commandHistory[this.commandHistory.length-1-this.historyIndex].command;this.terminalInput=e.split(" % ")[1]||""}else this.historyIndex===0&&(this.historyIndex=-1,this.terminalInput=this.storedInputBeforeHistory,this.storedInputBeforeHistory="")}focusInput(){this.inputElement.nativeElement.focus()}scrollToBottom(){try{this.terminalBody.nativeElement.scrollTop=this.terminalBody.nativeElement.scrollHeight}catch(e){console.error("Error scrolling to the bottom:",e)}}ngAfterViewChecked(){}static \u0275fac=function(t){return new(t||n)(F(Ys))};static \u0275cmp=pe({type:n,selectors:[["app-terminal"]],viewQuery:function(t,i){if(t&1&&(ft(_V,5),ft(wV,5)),t&2){let r;ct(r=ut())&&(i.inputElement=r.first),ct(r=ut())&&(i.terminalBody=r.first)}},decls:14,vars:3,consts:[["terminalBody",""],["inputElement",""],[1,"terminal-container","w-full","h-full","bg-black","text-white","rounded-md","shadow-lg","flex","flex-col","p-4",3,"click"],["class","text-sm sm:text-lg text-gray-400 italic mb-4",4,"ngIf"],[1,"flex-grow","overflow-y-auto","text-sm","sm:text-lg"],["class","whitespace-pre-wrap",4,"ngFor","ngForOf"],[1,"flex","text-sm","sm:text-lg"],[1,"text-green-500"],[1,"text-purple-400"],[1,"text-green-400"],["type","text","autofocus","",1,"bg-transparent","text-green-500","ml-2","flex-grow","outline-none",3,"ngModelChange","keydown","ngModel"],[1,"text-sm","sm:text-lg","text-gray-400","italic","mb-4"],[1,"whitespace-pre-wrap"],[4,"ngIf"],[3,"innerHTML"]],template:function(t,i){if(t&1){let r=Se();y(0,"div",2),L("click",function(){return ue(r),de(i.focusInput())}),K(1,CV,6,0,"div",3),y(2,"div",4,0),K(4,AV,3,2,"div",5),y(5,"div",6)(6,"span",7)(7,"b",8),M(8,"sagar"),b(),y(9,"b",9),M(10,".patil"),b(),M(11," ~ %"),b(),y(12,"input",10,1),An("ngModelChange",function(o){return ue(r),Wn(i.terminalInput,o)||(i.terminalInput=o),de(o)}),L("keydown",function(o){return ue(r),de(i.onKeyDown(o))}),b()()()()}t&2&&(A(),R("ngIf",i.commandHistory.length===0),A(3),R("ngForOf",i.commandHistory),A(8),xn("ngModel",i.terminalInput))},dependencies:[et,wt,or,to,$r],styles:[".terminal-container[_ngcontent-%COMP%]{min-height:400px;width:100%;max-height:calc(100vh - 80px);border-radius:0}input[_ngcontent-%COMP%]:focus{outline:none}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s infinite}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:0}}.terminal-text[_ngcontent-%COMP%]{color:#0f0;font-family:monospace;font-size:24px;opacity:0;border-right:2px solid #00ff00;display:inline-block;animation:_ngcontent-%COMP%_typeEffect 2s steps(7) forwards,_ngcontent-%COMP%_blinkCaret .75s step-end infinite}@keyframes _ngcontent-%COMP%_typeEffect{0%{width:0;opacity:1}to{width:100%;opacity:1}}@keyframes _ngcontent-%COMP%_blinkCaret{50%{border-color:transparent}}.terminal-text[_ngcontent-%COMP%]:hover{color:#0f0;text-shadow:0px 0px 10px #00ff00;transition:text-shadow .3s ease-in-out}"]})};function DV(n,e){if(n&1){let t=Se();y(0,"div",2),L("click",function(){let r=ue(t).$implicit,s=W();return de(s.dismissNotification(r))}),z(1,"div",3),b()}if(n&2){let t=e.$implicit,i=W();R("ngClass",i.getNotificationClasses(t)),A(),R("innerHTML",i.sanitizeHtml(t.message),So)}}var Gd=class n{constructor(e,t,i){this.notificationService=e;this.sanitizer=t;this._utilService=i;this.isMobile=i.isMobile()}notifications=[];isMobile;ngOnInit(){this.notificationService.notifications$.subscribe(e=>{this.notifications=e})}sanitizeHtml(e){return this.sanitizer.bypassSecurityTrustHtml(e)}getNotificationClasses(e){let t=this.isMobile?"text-xs p-2 ":"text-lg p-4 ";switch(e.type){case"success":t+="bg-gray-300 text-black";break;case"error":t+="bg-red-500 text-white";break;case"info":t+="bg-blue-500 text-white";break;case"warning":t+="bg-yellow-500 text-black";break;default:t+="bg-gray-500 text-white"}return t}dismissNotification(e){this.notificationService.dismissNotification(e)}static \u0275fac=function(t){return new(t||n)(F(ir),F(Cg),F(Ut))};static \u0275cmp=pe({type:n,selectors:[["app-notification"]],decls:2,vars:1,consts:[[1,"fixed","top-2","right-2","space-y-3"],["class","rounded-lg shadow-lg cursor-pointer relative",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"rounded-lg","shadow-lg","cursor-pointer","relative",3,"click","ngClass"],[3,"innerHTML"]],template:function(t,i){t&1&&(y(0,"div",0),K(1,DV,2,2,"div",1),b()),t&2&&(A(),R("ngForOf",i.notifications))},dependencies:[dn,et],styles:[".fixed[_ngcontent-%COMP%]{position:fixed}.top-0[_ngcontent-%COMP%]{top:0}.right-0[_ngcontent-%COMP%]{right:0}.p-5[_ngcontent-%COMP%]{padding:1.25rem}.space-y-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.w-64[_ngcontent-%COMP%]{width:16rem}.p-3[_ngcontent-%COMP%]{padding:.75rem}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px #0000001a}.text-white[_ngcontent-%COMP%]{color:#fff}.bg-green-500[_ngcontent-%COMP%]{background-color:#48bb78}.bg-red-500[_ngcontent-%COMP%]{background-color:#f56565}.bg-blue-500[_ngcontent-%COMP%]{background-color:#4299e1}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]})};var qd=class _CalculatorComponent{display="";result=null;appendToDisplay(n){this.display+=n}clearDisplay(){this.display="",this.result=null}calculate(){try{this.result=eval(this.display)}catch(n){this.result=null,alert("Invalid calculation")}}static \u0275fac=function n(e){return new(e||_CalculatorComponent)};static \u0275cmp=pe({type:_CalculatorComponent,selectors:[["app-calculator"]],decls:39,vars:2,consts:[[1,"flex","flex-col","items-center","p-4"],[1,"bg-white","shadow-lg","rounded-lg","p-5","w-full","max-w-md"],[1,"text-right","text-3xl","text-gray-800","mb-2"],[1,"text-right","text-4xl","font-bold","text-gray-800","mb-5"],[1,"grid","grid-cols-4","gap-2"],[1,"btn",3,"click"],[1,"btn","bg-blue-500","text-white",3,"click"]],template:function n(e,t){e&1&&(y(0,"div",0)(1,"div",1)(2,"div",2),M(3),b(),y(4,"div",3),M(5),b(),y(6,"div",4)(7,"button",5),L("click",function(){return t.clearDisplay()}),M(8,"C"),b(),y(9,"button",5),L("click",function(){return t.appendToDisplay("1")}),M(10,"1"),b(),y(11,"button",5),L("click",function(){return t.appendToDisplay("2")}),M(12,"2"),b(),y(13,"button",5),L("click",function(){return t.appendToDisplay("3")}),M(14,"3"),b(),y(15,"button",5),L("click",function(){return t.appendToDisplay("+")}),M(16,"+"),b(),y(17,"button",5),L("click",function(){return t.appendToDisplay("4")}),M(18,"4"),b(),y(19,"button",5),L("click",function(){return t.appendToDisplay("5")}),M(20,"5"),b(),y(21,"button",5),L("click",function(){return t.appendToDisplay("6")}),M(22,"6"),b(),y(23,"button",5),L("click",function(){return t.appendToDisplay("-")}),M(24,"-"),b(),y(25,"button",5),L("click",function(){return t.appendToDisplay("7")}),M(26,"7"),b(),y(27,"button",5),L("click",function(){return t.appendToDisplay("8")}),M(28,"8"),b(),y(29,"button",5),L("click",function(){return t.appendToDisplay("9")}),M(30,"9"),b(),y(31,"button",5),L("click",function(){return t.appendToDisplay("*")}),M(32,"*"),b(),y(33,"button",5),L("click",function(){return t.appendToDisplay("0")}),M(34,"0"),b(),y(35,"button",6),L("click",function(){return t.calculate()}),M(36,"="),b(),y(37,"button",5),L("click",function(){return t.appendToDisplay("/")}),M(38,"/"),b()()()()),e&2&&(A(3),Bt(" ",t.display," "),A(2),Bt(" ",t.result!==null?t.result:""," "))},styles:[".calculator[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;border-radius:10px;box-shadow:0 4px 20px #0000001a;background-color:#fff;padding:20px}.display[_ngcontent-%COMP%]{border-radius:10px;background-color:#f7fafc;padding:20px;font-family:Courier New,Courier,monospace;color:#333}.btn[_ngcontent-%COMP%]{background-color:#edf2f7;color:#333;padding:20px;border-radius:5px;border:1px solid #e2e8f0;transition:background-color .3s,transform .1s;font-size:1.25rem}.btn[_ngcontent-%COMP%]:hover{background-color:#e2e8f0;transform:translateY(-2px)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})};function TV(n,e){if(n&1){let t=Se();y(0,"li",11),L("click",function(){let r=ue(t).$implicit,s=W();return de(s.selectFolder(r))}),y(1,"div",12),z(2,"img",13),y(3,"span"),M(4),b()()()}if(n&2){let t=e.$implicit;A(4),be(t.name)}}function PV(n,e){if(n&1){let t=Se();y(0,"button",14),L("click",function(){ue(t);let r=W();return de(r.goBack())}),M(1," Back "),b()}}function NV(n,e){n&1&&(y(0,"div")(1,"p",15),M(2,"This folder is empty."),b()())}function RV(n,e){n&1&&z(0,"img",21)}function kV(n,e){n&1&&z(0,"img",22)}function OV(n,e){if(n&1&&(y(0,"li")(1,"div",18),K(2,RV,1,0,"img",19)(3,kV,1,0,"img",20),y(4,"span"),M(5),b()()()),n&2){let t=e.$implicit;A(2),R("ngIf",t.type==="folder"),A(),R("ngIf",t.type==="file"),A(2),be(t.name)}}function LV(n,e){if(n&1&&(y(0,"ul",16),K(1,OV,6,3,"li",17),b()),n&2){let t=W();A(),R("ngForOf",t.selectedFolder.content)}}var Yd=class n{folders=[{name:"Documents",content:[{name:"Proj.docx",type:"file"},{name:"CV.pdf",type:"file"}]},{name:"Desktop",content:[{name:"MyFolder",type:"folder"},{name:"Photo.png",type:"file"}]},{name:"Downloads",content:[{name:"Setup.exe",type:"file"},{name:"Music.mp3",type:"file"}]}];selectedFolder=this.folders[0];history=[];selectFolder(e){this.history.push(this.selectedFolder),this.selectedFolder=e}canGoBack(){return this.history.length>0}goBack(){this.canGoBack()&&(this.selectedFolder=this.history.pop())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-file-explorer"]],decls:13,vars:5,consts:[[1,"flex","h-screen"],[1,"w-48","bg-gray-200","p-4"],[1,"font-bold","text-lg","mb-4"],[1,"space-y-2"],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex-1","bg-white","p-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold","text-lg"],["class","bg-gray-200 text-gray-700 px-3 py-1 rounded hover:bg-gray-300 transition duration-300",3,"click",4,"ngIf"],[4,"ngIf"],["class","grid grid-cols-4 gap-4",4,"ngIf"],[1,"cursor-pointer",3,"click"],[1,"flex","items-center","space-x-2"],["src","https://img.icons8.com/material-rounded/24/000000/folder-invoices.png","alt","Folder icon",1,"h-5","w-5"],[1,"bg-gray-200","text-gray-700","px-3","py-1","rounded","hover:bg-gray-300","transition","duration-300",3,"click"],[1,"text-gray-500"],[1,"grid","grid-cols-4","gap-4"],[4,"ngFor","ngForOf"],[1,"border","p-4","text-center"],["src","https://img.icons8.com/material-rounded/48/000000/folder-invoices.png","alt","Folder icon","class","h-10 w-10 mx-auto",4,"ngIf"],["src","https://img.icons8.com/material-rounded/48/000000/file.png","alt","File icon","class","h-10 w-10 mx-auto",4,"ngIf"],["src","https://img.icons8.com/material-rounded/48/000000/folder-invoices.png","alt","Folder icon",1,"h-10","w-10","mx-auto"],["src","https://img.icons8.com/material-rounded/48/000000/file.png","alt","File icon",1,"h-10","w-10","mx-auto"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"h2",2),M(3,"Folders"),b(),y(4,"ul",3),K(5,TV,5,1,"li",4),b()(),y(6,"div",5)(7,"div",6)(8,"h2",7),M(9),b(),K(10,PV,2,0,"button",8),b(),K(11,NV,3,0,"div",9)(12,LV,2,1,"ul",10),b()()),t&2&&(A(5),R("ngForOf",i.folders),A(4),be(i.selectedFolder.name),A(),R("ngIf",i.canGoBack()),A(),R("ngIf",i.selectedFolder.content.length===0),A(),R("ngIf",i.selectedFolder.content.length>0))},dependencies:[et,wt],styles:["button[_ngcontent-%COMP%]:hover{background-color:#cbd5e0}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px}ul.grid-cols-4[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:transform .3s ease}ul.grid-cols-4[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var VV=n=>({"background-color":n});function jV(n,e){if(n&1){let t=Se();y(0,"span",27),L("click",function(){let r=ue(t).$implicit,s=W();return de(s.setBackgroundColor(r))}),b()}if(n&2){let t=e.$implicit;R("ngStyle",di(1,VV,t.start))}}var Kd=class n{constructor(e){this.audioService=e;this.selectedAudioOption=e.getAudioStatus()}brightness=100;iconSize="medium";customCursor="default";backgroundOptions=[{name:"Blue Gradient",start:"#1e3a8a",end:"#3b82f6"},{name:"Purple Gradient",start:"#6d28d9",end:"#a855f7"},{name:"Green Gradient",start:"#10b981",end:"#34d399"},{name:"Sunset",start:"#f97316",end:"#f43f5e"},{name:"Ocean Breeze",start:"#06b6d4",end:"#3b82f6"},{name:"Warm Flame",start:"#ff7e5f",end:"#feb47b"},{name:"Pink Dream",start:"#ec4899",end:"#f43f5e"},{name:"Deep Space",start:"#2d3748",end:"#4a5568"},{name:"Candy Floss",start:"#f9a8d4",end:"#f43f5e"},{name:"Vivid Cyan",start:"#06b6d4",end:"#0ea5e9"}];isDefaultBackground=!0;selectedAudioOption="none";isChecked=!1;selectAudioOption(e){this.selectedAudioOption=e,this.audioService.setAudioStatus(e)}setBackgroundColor(e){this.isDefaultBackground=!1,document.documentElement.style.setProperty("--bg-color-start",e.start),document.documentElement.style.setProperty("--bg-color-end",e.end),document.body.classList.remove("bg-default"),document.body.classList.add("bg-custom-gradient")}resetToDefault(){this.isDefaultBackground=!0,document.body.classList.remove("bg-custom-gradient"),document.body.classList.add("bg-default")}adjustBrightness(){let e=this.brightness/100;document.body.style.opacity=e.toString()}setCustomCursor(e){this.customCursor=e,document.body.style.cursor=this.customCursor}resetSettings(){this.customCursor="default",document.body.style.cursor=this.customCursor,this.resetToDefault()}static \u0275fac=function(t){return new(t||n)(F(rr))};static \u0275cmp=pe({type:n,selectors:[["app-settings"]],decls:50,vars:6,consts:[[1,"settings-component","p-6","rounded-lg","max-w-lg","mx-auto","mt-8"],[1,"mb-6"],[1,"text-lg","font-semibold","mb-2"],[1,"flex","gap-4"],["class","bg-gray-200 hover:bg-gray-300 p-2 rounded w-10 h-10 cursor-pointer",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"mt-4","bg-blue-500","hover:bg-blue-600","text-white","p-2","rounded",3,"click"],["type","range","min","0","max","100","step","1",1,"w-full","h-2","bg-gray-200","rounded-lg","cursor-pointer",3,"ngModelChange","input","ngModel"],[1,"mt-4"],[1,"text-lg","font-semibold"],[1,"border","p-2","rounded",3,"ngModelChange","change","ngModel"],["value","default"],["value","pointer"],["value","crosshair"],["value","move"],["value","text"],["value","wait"],["value","help"],["value","none"],["value","url('/assets/images/custom-cursor.png'), auto"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center"],["type","radio","name","audioOption","value","none",1,"mr-2",3,"change","ngModelChange","ngModel"],[1,"text-black"],["type","radio","name","audioOption","value","option2",1,"mr-2",3,"change","ngModelChange","ngModel"],["type","radio","name","audioOption","value","option3",1,"mr-2",3,"change","ngModelChange","ngModel"],[1,"mt-10"],[1,"bg-red-500","text-white","p-2","rounded",3,"click"],[1,"bg-gray-200","hover:bg-gray-300","p-2","rounded","w-10","h-10","cursor-pointer",3,"click","ngStyle"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"h3",2),M(3,"Change Background"),b(),y(4,"div",3),K(5,jV,1,3,"span",4),b(),y(6,"button",5),L("click",function(){return i.resetToDefault()}),M(7," Select Default "),b()(),y(8,"div",1)(9,"h3",2),M(10,"Adjust Brightness"),b(),y(11,"input",6),An("ngModelChange",function(s){return Wn(i.brightness,s)||(i.brightness=s),s}),L("input",function(){return i.adjustBrightness()}),b()(),y(12,"div",7)(13,"h3",8),M(14,"Custom Cursor"),b(),y(15,"select",9),An("ngModelChange",function(s){return Wn(i.customCursor,s)||(i.customCursor=s),s}),L("change",function(){return i.setCustomCursor(i.customCursor)}),y(16,"option",10),M(17,"Default"),b(),y(18,"option",11),M(19,"Pointer"),b(),y(20,"option",12),M(21,"Crosshair"),b(),y(22,"option",13),M(23,"Move"),b(),y(24,"option",14),M(25,"Text"),b(),y(26,"option",15),M(27,"Wait"),b(),y(28,"option",16),M(29,"Help"),b(),y(30,"option",17),M(31,"None"),b(),y(32,"option",18),M(33,"Custom Image"),b()()(),y(34,"div",19)(35,"label",20)(36,"input",21),L("change",function(){return i.selectAudioOption("none")}),An("ngModelChange",function(s){return Wn(i.selectedAudioOption,s)||(i.selectedAudioOption=s),s}),b(),y(37,"span",22),M(38,"No sound"),b()(),y(39,"label",20)(40,"input",23),L("change",function(){return i.selectAudioOption("option2")}),An("ngModelChange",function(s){return Wn(i.selectedAudioOption,s)||(i.selectedAudioOption=s),s}),b(),y(41,"span",22),M(42,"Retro"),b()(),y(43,"label",20)(44,"input",24),L("change",function(){return i.selectAudioOption("option3")}),An("ngModelChange",function(s){return Wn(i.selectedAudioOption,s)||(i.selectedAudioOption=s),s}),b(),y(45,"span",22),M(46,"Modern"),b()()(),y(47,"div",25)(48,"button",26),L("click",function(){return i.resetSettings()}),M(49," Reset Settings "),b()()()),t&2&&(A(5),R("ngForOf",i.backgroundOptions),A(6),xn("ngModel",i.brightness),A(4),xn("ngModel",i.customCursor),A(21),xn("ngModel",i.selectedAudioOption),A(4),xn("ngModel",i.selectedAudioOption),A(4),xn("ngModel",i.selectedAudioOption))},dependencies:[et,As,SA,IA,or,By,$d,jy,to,$r]})};var HV=["portfolioBody"],Ra=(n,e)=>({"py-16":n,"py-4":e});function UV(n,e){if(n&1&&(y(0,"div",34),z(1,"img",35),y(2,"p",36),M(3),b()()),n&2){let t=e.$implicit;A(),Es("alt",t.name),R("src",t.imgUrl,on),A(2),be(t.name)}}function $V(n,e){if(n&1&&(y(0,"div",34),z(1,"img",35),y(2,"p",36),M(3),b()()),n&2){let t=e.$implicit;A(),Es("alt",t.name),R("src",t.imgUrl,on),A(2),be(t.name)}}function zV(n,e){if(n&1&&(y(0,"div",34),z(1,"img",35),y(2,"p",36),M(3),b()()),n&2){let t=e.$implicit;A(),Es("alt",t.name),R("src",t.imgUrl,on),A(2),be(t.name)}}function WV(n,e){if(n&1&&(y(0,"div",46)(1,"p",47),M(2),b(),y(3,"p"),M(4,"to"),b(),y(5,"p",47),M(6),b()()),n&2){let t=W().$implicit;A(2),be(t==null?null:t.from),A(4),be(t==null?null:t.to)}}function GV(n,e){if(n&1&&(y(0,"li"),M(1),b()),n&2){let t=e.$implicit;A(),Bt(" ",t," ")}}function qV(n,e){if(n&1&&(y(0,"div",37),K(1,WV,7,2,"div",38),y(2,"div",39)(3,"div",40)(4,"div"),z(5,"img",41),y(6,"h3",42),M(7),b()(),y(8,"p",43),M(9),b(),y(10,"ul",44),K(11,GV,2,1,"li",45),b()()()()),n&2){let t=e.$implicit,i=W();A(),R("ngIf",!i.isMobile),A(4),Es("alt",t==null?null:t.name),R("src",t==null?null:t.logo,on),A(2),be(t==null?null:t.name),A(2),be(t==null?null:t.designation),A(2),R("ngForOf",t==null||t.work[0]==null?null:t.work[0].projects)}}function YV(n,e){if(n&1&&(y(0,"div",48),z(1,"img",49),y(2,"h3",50),M(3),b(),y(4,"p"),M(5),b()()),n&2){let t=e.$implicit;A(3),be(t==null?null:t.title),A(2),be(t==null?null:t.desc)}}var Xd=class n{constructor(e,t){this.utilService=e;this._dataService=t;this.isMobile=e.isMobile()}showContactBtn=!0;companyData=[];skills=[];achievements=[];isMobile=!1;portfolioBody;ngOnInit(){this.skills=this._dataService.getSkills(),this.companyData=this._dataService.getCompanyData(),this.achievements=this._dataService.getAchievements(),setTimeout(()=>{this.showContactBtn=!0},3e3)}onWindowScroll(){let e=window.pageYOffset,t=document.querySelector(".hero");t.style.backgroundPositionY=`${e*.5}px`}scrollToBottom(){try{this.portfolioBody.nativeElement.scrollTop=this.portfolioBody.nativeElement.scrollHeight}catch(e){console.error("Error scrolling to the bottom:",e)}}static \u0275fac=function(t){return new(t||n)(F(Ut),F(sr))};static \u0275cmp=pe({type:n,selectors:[["app-portfolio"]],viewQuery:function(t,i){if(t&1&&ft(HV,5),t&2){let r;ct(r=ut())&&(i.portfolioBody=r.first)}},hostBindings:function(t,i){t&1&&L("scroll",function(s){return i.showContactBtn(s)},!1,Sp)},decls:52,vars:25,consts:[["portfolioBody",""],[1,"portfolio"],[1,"hero","relative","bg-gradient-to-r","from-purple-500","to-blue-500","text-white","text-center","overflow-hidden",3,"ngClass"],[1,"container","mx-auto","px-4"],["src","/assets/images/me.jpeg","alt","Your Image",1,"w-32","h-32","mx-auto","rounded-full","animate-fade-in"],[1,"flex","justify-center","items-center","animate-fade-in-up"],[1,"text-2xl","md:text-5xl","font-bold","animate-fade-in-up","mt-3"],["src","https://img.icons8.com/?size=100&id=dlN23b953qvQ&format=png&color=000000","alt","hi",1,"w-10","h-10","animated-hello-image"],[1,"text-lg","md:text-2xl","sm:text-sm","mt-4","animate-fade-in-up","z-10","relative"],[1,"skills","bg-gray-100","animate-fade-in-up",3,"ngClass"],[1,"container","mx-auto","px-4","text-center"],[1,"md:text-4xl","text-lg","font-bold","mb-8"],[1,"mb-16","bg-gradient-to-r","from-blue-100","to-blue-300","p-8","rounded-lg","shadow-lg","border-t-4","border-blue-500"],[1,"text-xl","md:text-3xl","font-semibold","mb-4","text-blue-500"],[1,"flex","flex-wrap","justify-center","gap-8"],["class","skill-card w-40 flex-grow-0 hover:shadow-xl transition-shadow",4,"ngFor","ngForOf"],[1,"mb-16","bg-gradient-to-r","from-green-100","to-green-300","p-8","rounded-lg","shadow-lg","border-t-4","border-green-500"],[1,"text-xl","md:text-3xl","font-semibold","mb-4","text-green-500"],[1,"bg-gradient-to-r","from-purple-100","to-purple-300","p-8","rounded-lg","shadow-lg","border-t-4","border-purple-500"],[1,"text-xl","md:text-3xl","font-semibold","mb-4","text-purple-500"],[1,"experience","bg-gray-100",3,"ngClass"],[1,"md:text-4xl","text-lg","font-bold","mb-8","text-center"],[1,"relative"],[1,"hidden","md:absolute","left-[20%]","transform","-translate-x-1/2","h-full","border-l-2","border-gray-300"],["class","mb-8 flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"achievements","bg-gray-100","animate-fade-in-up",3,"ngClass"],[1,"md:text-4xl","text-lg","sm:text-lg","font-bold","mb-8","text-center"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],["class","achievement-card bg-gradient-to-br from-yellow-200 to-yellow-500 p-6 shadow-md rounded-lg flex flex-col items-center gap-3 hover:shadow-lg transition-shadow",4,"ngFor","ngForOf"],[1,"contact","bg-blue-500","text-white",3,"ngClass"],[1,"max-w-md","mx-auto","space-y-4"],["type","email","placeholder","Your Email",1,"w-full","p-3","rounded-lg","bg-white","text-black","focus:outline-none","focus:ring-2","focus:ring-blue-300"],["placeholder","Your Message",1,"w-full","p-3","rounded-lg","bg-white","text-black","focus:outline-none","focus:ring-2","focus:ring-blue-300"],["type","submit",1,"w-full","bg-white","text-black","p-3","rounded-lg","font-bold","hover:bg-gray-200","transition-colors"],[1,"skill-card","w-40","flex-grow-0","hover:shadow-xl","transition-shadow"],[1,"w-16","h-16","mx-auto","mb-2","hover:scale-110","transition-transform",3,"src","alt"],[1,"text-sm","md:text-lg","font-medium"],[1,"mb-8","flex","justify-between","items-center","w-full"],["class","w-1/5 pr-8 text-right",4,"ngIf"],[1,"w-full","md:w-4/5","md:pl-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow"],[1,"w-16","h-8","mx-auto",3,"src","alt"],[1,"font-bold","text-xl"],[1,"mt-2","text-gray-600"],[1,"list-disc","ml-5","mt-2","text-gray-600"],[4,"ngFor","ngForOf"],[1,"w-1/5","pr-8","text-right"],[1,"text-l","font-bold"],[1,"achievement-card","bg-gradient-to-br","from-yellow-200","to-yellow-500","p-6","shadow-md","rounded-lg","flex","flex-col","items-center","gap-3","hover:shadow-lg","transition-shadow"],["src","https://img.icons8.com/?size=100&id=81443&format=png&color=000000","alt","star",1,"w-10","h-10"],[1,"font-semibold"]],template:function(t,i){t&1&&(y(0,"div",1,0)(2,"section",2)(3,"div",3),z(4,"img",4),y(5,"div",5)(6,"h1",6),M(7,"Hello, I'm Sagar"),b(),z(8,"img",7),b(),y(9,"p",8),M(10,"Full-Stack Developer | Tech Enthusiast"),b()()(),y(11,"section",9)(12,"div",10)(13,"h2",11),M(14,"Skills"),b(),y(15,"div",12)(16,"h3",13),M(17,"Frontend"),b(),y(18,"div",14),K(19,UV,4,3,"div",15),b()(),y(20,"div",16)(21,"h3",17),M(22,"Backend"),b(),y(23,"div",14),K(24,$V,4,3,"div",15),b()(),y(25,"div",18)(26,"h3",19),M(27,"Other Technologies"),b(),y(28,"div",14),K(29,zV,4,3,"div",15),b()()()(),y(30,"section",20)(31,"div",3)(32,"h2",21),M(33,"Experience"),b(),y(34,"div",22),z(35,"div",23),K(36,qV,12,6,"div",24),b()()(),y(37,"section",25)(38,"div",3)(39,"h2",26),M(40,"Achievements"),b(),y(41,"div",27),K(42,YV,6,2,"div",28),b()()(),y(43,"section",29)(44,"div",3)(45,"h2",26),M(46,"Get In Touch"),b(),y(47,"form",30),z(48,"input",31)(49,"textarea",32),y(50,"button",33),M(51," Send Message "),b()()()()()),t&2&&(A(2),R("ngClass",Pt(10,Ra,!i.isMobile,i.isMobile)),A(9),R("ngClass",Pt(13,Ra,!i.isMobile,i.isMobile)),A(8),R("ngForOf",i.skills.frontend),A(5),R("ngForOf",i.skills.backend),A(5),R("ngForOf",i.skills.otherTech),A(),R("ngClass",Pt(16,Ra,!i.isMobile,i.isMobile)),A(6),R("ngForOf",i.companyData),A(),R("ngClass",Pt(19,Ra,!i.isMobile,i.isMobile)),A(5),R("ngForOf",i.achievements),A(),R("ngClass",Pt(22,Ra,!i.isMobile,i.isMobile)))},dependencies:[dn,et,wt,xA,yA,Vy],styles:["@keyframes _ngcontent-%COMP%_fade-in-up{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-up 3s ease-in-out}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in 2s ease-in-out}.parallax[_ngcontent-%COMP%]{background-attachment:fixed;background-size:cover;background-position:center}.custom-shape-divider-bottom-hero[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;overflow:hidden;line-height:0}.custom-shape-divider-bottom-hero[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:150px}.animated-hello-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotateImage 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rotateImage{0%{transform:rotate(0)}25%{transform:rotate(10deg)}50%{transform:rotate(0)}75%{transform:rotate(-10deg)}to{transform:rotate(0)}}"]})};var Qd=class n{currentMessage="Starting OS...";messages=["Starting OS...","Almost there...","Loading complete!"];currentMessageIndex=0;ngOnInit(){this.updateMessage()}updateMessage(){let e=setInterval(()=>{this.currentMessageIndex+=1,this.currentMessageIndex<this.messages.length&&(this.currentMessage=this.messages[this.currentMessageIndex]),this.currentMessageIndex>=this.messages.length-1&&clearInterval(e)},1e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-splash-screen"]],decls:9,vars:1,consts:[[1,"splash-screen","h-screen","w-full","flex","flex-col","items-center","justify-center","bg-gradient-to-br","from-gray-900","to-gray-500","text-white"],[1,"apple-logo"],["src","https://img.icons8.com/ios-filled/100/ffffff/mac-os.png","alt","Apple Logo",1,"w-16","h-16","mb-8","animate-pulse"],[1,"text-lg","mb-4"],[1,"w-64","h-1","bg-gray-600","rounded-full","relative","overflow-hidden"],[1,"loading-bar","bg-white","h-1","absolute","left-0","top-0"],[1,"text-sm","mt-4","text-gray-400"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1),z(2,"img",2),b(),y(3,"p",3),M(4),b(),y(5,"div",4),z(6,"div",5),b(),y(7,"p",6),M(8,"Please wait..."),b()()),t&2&&(A(4),be(i.currentMessage))},styles:[".splash-screen[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.loading-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loadBar 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_loadBar{0%{width:0%}to{width:100%}}"]})};var QV=["codeEditor"];function ZV(n,e){if(n&1&&(y(0,"pre",16),M(1),b()),n&2){let t=W();A(),Bt("      ",t.logs.length?t.logs.join(`
`):"No logs",`
    `)}}function JV(n,e){if(n&1&&(y(0,"div",17)(1,"h2",18),M(2,"Error:"),b(),y(3,"pre",19),M(4),b()()),n&2){let t=W();A(4),Bt("        ",t.error,`
      `)}}var Zd=class n{userCode="";error=null;worker=null;logs=[];showOutput=!0;codeEditor;ngOnInit(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-FI5FP5AE.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{e.success?(this.logs=e.logs||[],this.error=null):(this.error=e.error,this.logs=[])})}adjustTextareaHeight(e){let t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"}executeCode(){let e=this.sanitizeCode(this.userCode);this.worker&&this.worker.postMessage(e)}sanitizeCode(e){return[/document\.cookie/g,/window\./g,/eval\(/g,/Function\(/g,/fetch\(/g,/XMLHttpRequest/g,/localStorage/g,/sessionStorage/g].forEach(i=>{e=e.replace(i,"/* Forbidden */")}),e}getLineNumbers(e){let t=e.split(`
`).length;return Array.from({length:t},(i,r)=>r+1)}ngOnDestroy(){this.worker&&this.worker.terminate()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-code-compiler"]],viewQuery:function(t,i){if(t&1&&ft(QV,5),t&2){let r;ct(r=ut())&&(i.codeEditor=r.first)}},decls:20,vars:4,consts:[[1,"mx-auto","p-6","bg-gray-900","rounded-lg","shadow-lg","h-screen","flex","flex-col"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold","text-white"],[1,"flex","gap-2"],[1,"text-xs","bg-gray-600","hover:bg-gray-500","text-white","font-semibold","px-3","py-1","rounded-lg","shadow-lg","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"click"],[1,"text-xs","bg-blue-600","hover:bg-blue-500","text-white","font-semibold","px-3","py-1","rounded-lg","shadow-lg","focus:outline-none","focus:ring-2","focus:ring-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"inline-block","ml-1","w-4","h-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 3v18l15-9-15-9z"],[1,"relative","flex-1","overflow-hidden","flex"],["placeholder","// Write your JavaScript code here...",1,"flex-1","h-full","text-sm","font-mono","bg-gray-800","pt-[19px]","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-400","p-4","pl-8","resize-none",2,"border","none","overflow","hidden","line-height","1.5",3,"ngModelChange","input","ngModel"],[1,"sticky","bottom-0","bg-gray-900","mt-4"],[1,"flex","justify-between"],[1,"text-sm","font-semibold","text-gray-300"],[1,"text-white",3,"click"],["class","bg-gray-900 text-gray-100 p-4 rounded-lg border border-gray-700 shadow-inner max-h-48 overflow-auto",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"bg-gray-900","text-gray-100","p-4","rounded-lg","border","border-gray-700","shadow-inner","max-h-48","overflow-auto"],[1,"mt-4"],[1,"text-lg","font-semibold","text-red-400"],[1,"bg-red-800","text-red-200","p-4","rounded-lg","border","border-red-700","shadow-inner","max-h-48","overflow-auto"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"JS Code Editor"),b(),y(4,"div",3)(5,"button",4),L("click",function(){return i.userCode="",i.error=null,i.logs=[]}),M(6," Clear "),b(),y(7,"button",5),L("click",function(){return i.executeCode()}),E_(),y(8,"svg",6),z(9,"path",7),b()()()(),x_(),y(10,"div",8)(11,"textarea",9),An("ngModelChange",function(s){return Wn(i.userCode,s)||(i.userCode=s),s}),L("input",function(s){return i.adjustTextareaHeight(s)}),b()(),y(12,"div",10)(13,"div",11)(14,"h2",12),M(15,"Output:"),b(),y(16,"span",13),L("click",function(){return i.showOutput=!i.showOutput}),M(17),b()(),K(18,ZV,2,1,"pre",14)(19,JV,5,1,"div",15),b()()),t&2&&(A(11),xn("ngModel",i.userCode),A(6),be(i.showOutput?"Hide":"Show"),A(),R("ngIf",i.showOutput),A(),R("ngIf",i.error))},dependencies:[wt,or,to,$r],styles:[".compiler-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px}textarea[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}"]})};var tj=["videoElement"];function nj(n,e){if(n&1){let t=Se();y(0,"button",8),L("click",function(){ue(t);let r=W();return de(r.showGallery=!1)}),M(1," Back to camera "),b()}}function ij(n,e){if(n&1){let t=Se();y(0,"button",13),L("click",function(){ue(t);let r=W(2);return de(r.startCamera())}),M(1,"Start Camera"),b()}}function rj(n,e){if(n&1){let t=Se();y(0,"button",14),L("click",function(){ue(t);let r=W(2);return de(r.stopCamera())}),M(1,"Stop "),b()}}function sj(n,e){if(n&1){let t=Se();y(0,"button",15),L("click",function(){ue(t);let r=W(2);return de(r.switchCamera())}),M(1,"Switch"),b()}}function oj(n,e){if(n&1){let t=Se();y(0,"button",15),L("click",function(){ue(t);let r=W(2);return de(r.openGallery())}),M(1,"Gallery"),b()}}function aj(n,e){if(n&1&&(y(0,"div",9),K(1,ij,2,0,"button",10)(2,rj,2,0,"button",11)(3,sj,2,0,"button",12)(4,oj,2,0,"button",12),b()),n&2){let t=W();A(),R("ngIf",!t.stream),A(),R("ngIf",t.stream),A(),R("ngIf",t.stream),A(),R("ngIf",t.stream)}}function lj(n,e){if(n&1){let t=Se();y(0,"div",16),L("click",function(){ue(t);let r=W();return de(r.closePreview())}),z(1,"img",17),y(2,"button",18),L("click",function(){ue(t);let r=W();return de(r.savePhoto())}),M(3,"Save Photo"),b()()}if(n&2){let t=W();A(),R("src",t.photo,on)}}function cj(n,e){if(n&1&&(y(0,"div",22),z(1,"img",23),b()),n&2){let t=e.$implicit;A(),R("src",t,on)}}function uj(n,e){if(n&1&&(Kt(0),K(1,cj,2,1,"div",21),Xt()),n&2){let t=W(2);A(),R("ngForOf",t.gallery)}}function dj(n,e){n&1&&(Kt(0),y(1,"p",24),M(2,"No photos to display."),b(),Xt())}function hj(n,e){if(n&1&&(y(0,"div",19),K(1,uj,2,1,"ng-container",20)(2,dj,3,0,"ng-container",20),b()),n&2){let t=W();A(),R("ngIf",t.gallery&&t.gallery.length),A(),R("ngIf",!t.gallery||!t.gallery.length)}}function fj(n,e){if(n&1){let t=Se();y(0,"button",25),L("click",function(){ue(t);let r=W();return de(r.capturePhoto())}),b()}}var Jd=class n{videoElement;photo=null;stream=null;isFrontCamera=!0;showCapture=!1;gallery=[];showGallery=!1;ngOnInit(){}requestCameraAccess(){let e={video:{facingMode:this.isFrontCamera?"user":"environment"}};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t=>{this.showCapture=!0,this.stream=t,this.videoElement.nativeElement.srcObject=t}).catch(t=>{console.error("Camera access was denied:",t),alert("Camera access is required to use this feature.")}):alert("Your browser does not support camera access.")}startCamera(){this.requestCameraAccess()}stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.showCapture=!1}capturePhoto(){let e=this.videoElement.nativeElement,t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;let i=t.getContext("2d");i&&(i.drawImage(e,0,0,t.width,t.height),this.photo=t.toDataURL("image/png"))}savePhoto(){if(this.photo){let e=localStorage.getItem("capturedPhotos");if(e){let t=JSON.parse(e);t.push(this.photo),localStorage.setItem("capturedPhotos",JSON.stringify(t))}else localStorage.setItem("capturedPhotos",JSON.stringify([this.photo]))}}switchCamera(){this.isFrontCamera=!this.isFrontCamera,this.stream&&this.stopCamera(),this.startCamera()}closePreview(){this.photo=null}openGallery(){let e=localStorage.getItem("capturedPhotos")||"[]";this.gallery=JSON.parse(e),this.showGallery=!0}ngOnDestroy(){this.stopCamera()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-camera"]],viewQuery:function(t,i){if(t&1&&ft(tj,5),t&2){let r;ct(r=ut())&&(i.videoElement=r.first)}},decls:8,vars:5,consts:[["videoElement",""],[1,"camera-container"],["class","fixed bg-red-300 text-xs sm:text-sm right-1 top-1 z-10 rounded-sm p-1",3,"click",4,"ngIf"],["class","camera-controls text-xs sm:text-sm",4,"ngIf"],["autoplay","","playsinline","",1,"camera-view"],["class","photo-preview",3,"click",4,"ngIf"],["class","gallery",4,"ngIf"],["class","capture-button",3,"click",4,"ngIf"],[1,"fixed","bg-red-300","text-xs","sm:text-sm","right-1","top-1","z-10","rounded-sm","p-1",3,"click"],[1,"camera-controls","text-xs","sm:text-sm"],["class","start-camera-button px-2 py-1",3,"click",4,"ngIf"],["class","stop-camera-button",3,"click",4,"ngIf"],["class","switch-camera-button",3,"click",4,"ngIf"],[1,"start-camera-button","px-2","py-1",3,"click"],[1,"stop-camera-button",3,"click"],[1,"switch-camera-button",3,"click"],[1,"photo-preview",3,"click"],[1,"photo-fullscreen",3,"src"],[1,"save-photo-button",3,"click"],[1,"gallery"],[4,"ngIf"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"",3,"src"],[1,"text-center","text-gray-500"],[1,"capture-button",3,"click"]],template:function(t,i){t&1&&(y(0,"div",1),K(1,nj,2,0,"button",2)(2,aj,5,4,"div",3),z(3,"video",4,0),K(5,lj,4,1,"div",5)(6,hj,3,2,"div",6)(7,fj,1,0,"button",7),b()),t&2&&(A(),R("ngIf",i.showGallery),A(),R("ngIf",!i.showGallery),A(3),R("ngIf",i.photo),A(),R("ngIf",i.showGallery),A(),R("ngIf",i.showCapture&&!i.showGallery))},dependencies:[et,wt],styles:[".camera-container[_ngcontent-%COMP%]{position:relative;width:100vw}.camera-controls[_ngcontent-%COMP%]{position:absolute;top:20px;left:50%;transform:translate(-50%);display:flex;gap:10px;z-index:10}.start-camera-button[_ngcontent-%COMP%], .stop-camera-button[_ngcontent-%COMP%], .switch-camera-button[_ngcontent-%COMP%]{background-color:#000000b3;color:#fff;border:none;padding:0 5px;border-radius:5px;cursor:pointer}.camera-view[_ngcontent-%COMP%]{width:100%;height:calc(-120px + 100vh);object-fit:cover}.capture-button[_ngcontent-%COMP%]{position:absolute;bottom:15px;left:50%;transform:translate(-50%);background-color:#e54646;border-radius:50%;width:60px;height:60px;border:none;cursor:pointer;box-shadow:0 1px 10px #fff}.photo-preview[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000c;display:flex;justify-content:center;align-items:center}.photo-fullscreen[_ngcontent-%COMP%]{max-width:90%;max-height:90%;transform:rotate(-3deg);border:4px solid white}.save-photo-button[_ngcontent-%COMP%]{position:absolute;bottom:29%;background-color:#90ee90;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer}.gallery[_ngcontent-%COMP%]{position:absolute;top:0;height:calc(-120px + 100vh);background:#fff;overflow-y:auto}"]})};function gj(n,e){n&1&&z(0,"app-splash-screen")}function mj(n,e){if(n&1){let t=Se();y(0,"div",2),z(1,"app-navbar"),y(2,"app-container",3),L("onModalSelected",function(r){ue(t);let s=W();return de(s.openModal(r))}),b(),y(3,"app-footer",4),L("onModalSelected",function(r){ue(t);let s=W();return de(s.openModal(r))}),b(),y(4,"app-modal",5),z(5,"app-file-explorer"),b(),y(6,"app-modal",6),z(7,"app-code-compiler"),b(),y(8,"app-modal",7),z(9,"app-camera"),b(),y(10,"app-modal",8),z(11,"iframe",9),b(),y(12,"app-modal",10),z(13,"pdf-viewer",11),b(),y(14,"app-modal",12),z(15,"app-terminal"),b(),y(16,"app-modal",13),z(17,"app-calculator"),b(),y(18,"app-modal",14),z(19,"app-portfolio"),b(),y(20,"app-modal",15),z(21,"app-settings"),b()()}n&2&&(A(13),R("src","assets/pdf/resume.pdf")("render-text",!0))}var eh=class n{showSplash=!0;constructor(){}modalComponents;openModal(e){let t=this.modalComponents.find(i=>i.modalId===e);t&&t.openModal()}openGoogle(){window.open("https://www.google.com/webhp?igu=1","_self")}ngOnInit(){setTimeout(()=>{this.showSplash=!1},0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(t&1&&ft(Kn,5),t&2){let r;ct(r=ut())&&(i.modalComponents=r)}},decls:3,vars:2,consts:[[4,"ngIf"],["class","flex flex-col min-h-screen relative",4,"ngIf"],[1,"flex","flex-col","min-h-screen","relative"],[1,"flex-grow",3,"onModalSelected"],[1,"fixed","bottom-0","left-0","w-full","z-[1100]",3,"onModalSelected"],["modalId","File Explorer"],["modalId","Compiler"],["modalId","Camera"],["modalId","Chrome"],["src",sw`https://www.google.com/webhp?igu=1`,"width","100%","height","100%","frameborder","0","allowfullscreen","",2,"border","0"],["modalId","Resume"],[2,"display","block","height","calc(-180px + 100vh)",3,"src","render-text"],["modalId","Terminal"],["modalId","Calculator"],["modalId","Portfolio"],["modalId","Settings"]],template:function(t,i){t&1&&(K(0,gj,1,0,"app-splash-screen",0)(1,mj,22,2,"div",1),z(2,"app-notification")),t&2&&(R("ngIf",i.showSplash),A(),R("ngIf",!i.showSplash))},dependencies:[wt,Kn,Jx,Md,Pd,Nd,Wd,Gd,qd,Yd,Kd,Xd,Qd,Zd,Jd]})};var th=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ge({type:n});static \u0275inj=We({imports:[Ss]})};var TA=new H("EDITOR_SETTINGS"),ka=(()=>{class n{get monaco(){return this._monaco}constructor(t){this.typingsLoaded=new Ne,this.loaded=new $e({monaco:null}),this.loadingTypings=new $e(!1);let i=t?.editorVersion||"latest";this.baseUrl=t?.baseUrl||`https://cdn.jsdelivr.net/npm/monaco-editor@${i}/min`,this.typingsWorkerUrl=t?.typingsWorkerUrl||""}loadTypingsWorker(){if(!this.typingsWorker&&window.Worker){if(this.typingsWorkerUrl.startsWith("http")){let t=`importScripts('${this.typingsWorkerUrl}');`,i=URL.createObjectURL(new Blob([t],{type:"text/javascript"}));this.typingsWorker=new Worker(i)}else this.typingsWorker=new Worker(this.typingsWorkerUrl);this.typingsWorker.addEventListener("message",t=>{this.loadingTypings.next(!1),this.typingsLoaded.next(t.data)})}return this.typingsWorker}loadTypings(t){if(t&&t.length>0){let i=this.loadTypingsWorker();i&&(this.loadingTypings.next(!0),i.postMessage({dependencies:t}))}}loadEditor(){return new Promise(t=>{let i=()=>{if(window.require.config({paths:{vs:`${this.baseUrl}/vs`}}),this.baseUrl.startsWith("http")){let r=`
            self.MonacoEnvironment = {
              baseUrl: "${this.baseUrl}"
            };
            importScripts('${this.baseUrl}/vs/base/worker/workerMain.js');
          `,s=URL.createObjectURL(new Blob([r],{type:"text/javascript"}));window.MonacoEnvironment={getWorkerUrl:function(){return s}}}window.require(["vs/editor/editor.main"],()=>{this._monaco=window.monaco,this.loaded.next({monaco:this._monaco}),t()})};if(window.require)i();else{let r=document.createElement("script");r.type="text/javascript",r.src=`${this.baseUrl}/vs/loader.js`,r.addEventListener("load",i),document.body.appendChild(r)}})}setTheme(t){this.monaco.editor.setTheme(t)}createEditor(t,i){return this.monaco.editor.create(t,i)}createModel(t,i,r){return this.monaco.editor.createModel(t,i,this.monaco.Uri.file(r))}setModelLanguage(t,i){this.monaco&&t&&this.monaco.editor.setModelLanguage(t,i)}static{this.\u0275fac=function(i){return new(i||n)($(TA,8))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vj=(()=>{class n{constructor(t){t.loaded.subscribe(i=>{this.setup(i.monaco)}),t.typingsLoaded.subscribe(i=>{this.updateTypings(i)})}setup(t){if(!t)return;this.monaco=t;let i=t.languages.typescript.typescriptDefaults;i.setCompilerOptions({target:t.languages.typescript.ScriptTarget.ES6,module:"commonjs",noEmit:!0,noLib:!0,emitDecoratorMetadata:!0,experimentalDecorators:!0,allowNonTsExtensions:!0,declaration:!0,lib:["es2017","dom"],baseUrl:".",paths:{}}),i.setMaximumWorkerIdleTime(-1),i.setEagerModelSync(!0)}updateTypings(t){t&&(this.addExtraLibs(t.files),this.addLibraryPaths(t.entryPoints))}addExtraLibs(t=[]){if(!this.monaco||!t||t.length===0)return;let i=this.monaco.languages.typescript.typescriptDefaults,r=i.getExtraLibs();t.forEach(s=>{r[s.path]||(i._extraLibs[s.path]=s.content)}),i._onDidChange.fire(i)}addLibraryPaths(t={}){if(!this.monaco)return;let r=this.monaco.languages.typescript.typescriptDefaults.getCompilerOptions();r.paths=r.paths||{},Object.keys(t).forEach(s=>{r.paths[s]=[t[s]]})}static{this.\u0275fac=function(i){return new(i||n)($(ka))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yj=(()=>{class n{constructor(t){t.loaded.subscribe(i=>{this.setup(i.monaco)}),t.typingsLoaded.subscribe(i=>{this.updateTypings(i)})}setup(t){if(!t)return;this.monaco=t;let i=t.languages.typescript.javascriptDefaults;i.setCompilerOptions({target:t.languages.typescript.ScriptTarget.ES6,module:"commonjs",allowNonTsExtensions:!0,baseUrl:".",paths:{}}),i.setMaximumWorkerIdleTime(-1),i.setEagerModelSync(!0)}updateTypings(t){t&&(this.addExtraLibs(t.files),this.addLibraryPaths(t.entryPoints))}addExtraLibs(t=[]){if(!this.monaco||!t||t.length===0)return;let i=this.monaco.languages.typescript.javascriptDefaults,r=i.getExtraLibs();t.forEach(s=>{r[s.path]||(i._extraLibs[s.path]=s.content)}),i._onDidChange.fire(i)}addLibraryPaths(t={}){if(!this.monaco)return;let r=this.monaco.languages.typescript.javascriptDefaults.getCompilerOptions();r.paths=r.paths||{},Object.keys(t).forEach(s=>{r.paths[s]=[t[s]]})}static{this.\u0275fac=function(i){return new(i||n)($(ka))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bj=(()=>{class n{constructor(t){t.loaded.subscribe(i=>{this.setup(i.monaco)})}setup(t){if(!t)return;this.monaco=t;let i=t.languages.json.jsonDefaults;i.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[...i._diagnosticsOptions.schemas,{uri:"http://myserver/foo-schema.json",schema:{type:"object",properties:{p1:{enum:["v1","v2"]},p2:{$ref:"http://myserver/bar-schema.json"}}}},{uri:"http://myserver/bar-schema.json",schema:{type:"object",properties:{q1:{enum:["x1","x2"]}}}}]})}addSchemas(t,i=[]){let r=this.monaco.languages.json.jsonDefaults,s=r.diagnosticsOptions,o={};s&&s.schemas&&s.schemas.length>0&&s.schemas.forEach(a=>{o[a.uri]=a});for(let{uri:a,schema:l}of i)o[a]={uri:a,schema:l,fileMatch:[t||"*.json"]};s.schemas=Object.values(o),r.setDiagnosticsOptions(s)}static{this.\u0275fac=function(i){return new(i||n)($(ka))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _j(n){return()=>n.loadEditor()}var PA=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:TA,useValue:t},ka,vj,yj,bj,{provide:Yi,useFactory:_j,deps:[ka],multi:!0}]}}static forChild(){return{ngModule:n}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({imports:[Ss]})}}return n})();var La="Service workers are disabled or not supported by this browser";function wj(n){return hr(()=>Ti(new Error(n)))}var no=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=wj(La);else{let i=Re(e,"controllerchange").pipe(J(()=>e.controller)),r=hr(()=>q(e.controller)),s=Rn(r,i);this.worker=s.pipe(st(u=>!!u)),this.registration=this.worker.pipe(mt(()=>e.getRegistration()));let c=Re(e,"message").pipe(J(u=>u.data)).pipe(st(u=>u&&u.type)).pipe(Mh());c.connect(),this.events=c}}postMessage(e,t){return this.worker.pipe(ot(1),at(i=>{i.postMessage(T({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){let r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=i=>i.type===e:t=i=>e.includes(i.type),this.events.pipe(st(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(ot(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(st(t=>t.nonce===e),ot(1),J(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},kA=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Ne,!t.isEnabled){this.messages=fr,this.notificationClicks=fr,this.subscription=fr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(J(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(J(r=>r.data)),this.pushManager=this.sw.registration.pipe(J(r=>r.pushManager));let i=this.pushManager.pipe(mt(r=>r.getSubscription()));this.subscription=vl(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(La));let i={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(mt(o=>o.subscribe(i)),ot(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(La));let t=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(ot(1),mt(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(i){return new(i||n)($(no))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),OA=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=fr,this.unrecoverable=fr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(La));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(La));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(i){return new(i||n)($(no))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})();var NA=new H("");function Cj(n,e,t,i){return()=>{if(!(Gc(i)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let r=n.get(Ae),s=n.get(Sn);r.runOutsideAngular(()=>{let a=navigator.serviceWorker,l=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",l),s.onDestroy(()=>{a.removeEventListener("controllerchange",l)})});let o;if(typeof t.registrationStrategy=="function")o=t.registrationStrategy();else{let[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":o=q(null);break;case"registerWithDelay":o=RA(+l[0]||0);break;case"registerWhenStable":let c=xe(n.get(Sn).whenStable());o=l[0]?vl(c,RA(+l[0])):c;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}r.runOutsideAngular(()=>o.pipe(ot(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function RA(n){return q(null).pipe(Dh(n))}function Ej(n,e){return new no(Gc(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var Oa=class{};function xj(n,e={}){return lc([kA,OA,{provide:NA,useValue:n},{provide:Oa,useValue:e},{provide:no,useFactory:Ej,deps:[Oa,wn]},{provide:Yi,useFactory:Cj,deps:[_t,NA,Oa,wn],multi:!0}])}var LA=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[xj(t,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ge({type:n})}static{this.\u0275inj=We({providers:[kA,OA]})}}return n})();var nh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ge({type:n,bootstrap:[eh]});static \u0275inj=We({providers:[Yn,Ys,ir],imports:[ZC,gu,th,MA,eA,PA.forRoot(),LA.register("ngsw-worker.js",{enabled:!EC(),registrationStrategy:"registerWhenStable:30000"})]})};QC().bootstrapModule(nh,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
